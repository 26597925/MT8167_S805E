From: WizMime<support@wiz.cn>
Subject: =?gb2312?B?MnByZWxvZGVyMy0tbWFpbi5jt9bO9i0tzPjXqrW9bGu917bO?=
Date: Date: Mon, 23 Oct 2017 08:42:57 +0800
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----=_Next_Part_0415370295.662"

This is a multi-part message in MIME format.

------=_Next_Part_0415370295.662
Content-Type: multipart/alternative;
	boundary="----=_Next_Part_0138456765.757"


------=_Next_Part_0138456765.757
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

This is a multi-part message in MIME format.

------=_Next_Part_0138456765.757
Content-Type: text/html;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML><html><head>=0D=0A<meta http-equiv=3D"Content-Type=
" content=3D"text/html; charset=3Dgb2312">=0A=0A<title>2preloder3=
--main.c=B7=D6=CE=F6--=CC=F8=D7=AA=B5=BDlk=BD=D7=B6=CE</title>=0A=
    <!--mark |wiz_custom_css| for wizeditor replace it-->=0A<styl=
e id=3D"wiz_custom_css">html, body {            font-size: 15px;=20=
       }        body {            font-family: Helvetica, 'Hiragi=
no Sans GB', '=CE=A2=C8=ED=D1=C5=BA=DA', 'Microsoft YaHei UI', Si=
mSun, SimHei, arial, sans-serif;            line-height: 1.6;   =20=
        margin: 0;            padding: 20px 15px;            padd=
ing: 1.33rem 1rem;        }        h1, h2, h3, h4, h5, h6 {     =20=
      margin: 20px 0 10px;            margin: 1.33rem 0 0.667rem;=
            padding: 0;            font-weight: bold;        }  =20=
     h1 {            font-size: 21px;            font-size: 1.4re=
m;        }        h2 {            font-size: 20px;            fo=
nt-size: 1.33rem;        }        h3 {            font-size: 18px=
;            font-size: 1.2rem;        }        h4 {            f=
ont-size: 17px;            font-size: 1.13rem;        }        h5=
 {            font-size: 15px;            font-size: 1rem;      =20=
 }        h6 {            font-size: 15px;            font-size:=20=
1rem;            color: #777777;            margin: 1rem 0;     =20=
  }        div, p, ul, ol, dl, li {            margin: 0;       =20=
}        blockquote, table, pre, code {            margin: 8px 0;=
        }        ul, ol {            padding-left: 32px;        =20=
   padding-left: 2.13rem;        }        blockquote {          =20=
 padding: 0 12px;            padding: 0 0.8rem;        }        b=
lockquote > :first-child {            margin-top: 0;        }   =20=
    blockquote > :last-child {            margin-bottom: 0;     =20=
  }        img {            border: 0;            max-width: 100%=
;            height: auto !important;            margin: 2px 0; =20=
      }        table {            border-collapse: collapse;    =20=
       border: 1px solid #bbbbbb;        }        td, th {      =20=
     padding: 4px 8px;            border-collapse: collapse;    =20=
       border: 1px solid #bbbbbb;			        }        @media only=20=
screen and (-webkit-max-device-width: 1024px), only screen and (-=
o-max-device-width: 1024px), only screen and (max-device-width: 1=
024px), only screen and (-webkit-min-device-pixel-ratio: 3), only=
 screen and (-o-min-device-pixel-ratio: 3), only screen and (min-=
device-pixel-ratio: 3) {            html, body {                f=
ont-size: 17px;            }            body {                lin=
e-height: 1.7;                padding: 0.75rem 0.9375rem;       =20=
        color: #353c47;            }            h1 {            =20=
   font-size: 2.125rem;            }            h2 {            =20=
   font-size: 1.875rem;            }            h3 {            =20=
   font-size: 1.625rem;            }            h4 {            =20=
   font-size: 1.375rem;            }            h5 {            =20=
   font-size: 1.125rem;            }            h6 {            =20=
   color: inherit;            }            ul, ol {             =20=
  padding-left: 2.5rem;            }            blockquote {    =20=
           padding: 0 0.9375rem;            }        }</style></h=
ead>=0A=0A<body spellcheck=3D"false" ><div><b style=3D"line-heigh=
t: 1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D"backgroun=
d-color: rgb(255, 255, 255);"><font color=3D"#ff0000"><span style=
=3D"font-size: 13.005px; line-height: 20.808px;"><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">vendor\media=
tek\proprietary\bootable\bootloader\preloader\platform\common\mak=
efile</span></span></font></span></b></div><div><b style=3D"line-=
height: 1.6;"><span style=3D"font-size: 13.005px; line-height: 20=
.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rg=
b(0, 0, 255); font-size: 0.867rem; background-color: rgb(255, 255=
, 255);">=CC=D8=B1=F0=CB=B5=C3=F7=A3=BA=B8=C3makefile</span></spa=
n></b><b style=3D"line-height: 1.6;"><span data-wiz-span=3D"data-=
wiz-span" style=3D"background-color: rgb(255, 255, 255);"><font c=
olor=3D"#ff0000"><span style=3D"font-size: 13.005px; line-height:=
 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem; color: rgb(0, 0, 255);">=BC=D3=D4=D8*.mak=CE=C4=BC=
=FE=B5=C4=CB=B3=D0=F2=C8=E7=CF=C2=A3=AC=D2=B2=BE=CD=CA=C7=CB=B5=D2=
=BB=CF=C2=CE=C4=BC=FE=D6=D0:=3D=B8=B3=D6=B5=B5=C4=BA=EA=C4=AC=C8=CF=
=BB=E1=D2=D4=BA=F3=C3=E6=B5=C4=B8=B3=D6=B5=CE=AA=D6=F7=A3=A8:=3D=CE=
=AA=B8=B2=B8=C7=B8=B3=D6=B5=A3=A9</span></span></font></span></b>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"backgro=
und-color: rgb(255, 255, 255); font-size: 13.005px; line-height:=20=
20.808px;"><font color=3D"#ff0000"><b><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">include $(MTK_PATH=
_PLATFORM)/default.mak</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem;">include $(MTK_PATH_PL=
ATFORM)/feature.mak</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">include ${MTK_ROOT_CUSTO=
M}/${TARGET}/cust_bldr.mak</span></div></b></font></span></div><d=
iv><b><span style=3D"font-size: 13.005px; line-height: 20.808px;"=
><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(255, 0=
, 0); font-size: 0.867rem; background-color: rgb(255, 255, 255);"=
><br></span></span></b></div><div><b><span style=3D"font-size: 13=
.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"color: rgb(255, 0, 0); font-size: 0.867rem; backgro=
und-color: rgb(255, 255, 255);">vendor/mediatek/proprietary/boota=
ble/bootloader/preloader/platform/mt8167/src/core/</span></span><=
font color=3D"#ff0000"><span style=3D"font-size: 13.005px; line-h=
eight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
color: rgb(255, 0, 0); font-size: 0.867rem; background-color: rgb=
(255, 255, 255);">main.c</span></span></font></b><br></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"background-color: r=
gb(255, 255, 255);"><font><div style=3D"color: rgb(255, 0, 0); fo=
nt-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">#include "typedefs.h"</span></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-siz=
e: 0.867rem;">#include "platform.h"</span></div><div style=3D"col=
or: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;">=
<span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0=
); font-size: 0.867rem;">#include "download.h"</span></div><div s=
tyle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=20=
20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=20=
rgb(0, 0, 0); font-size: 0.867rem;">#include "meta.h"</span></div=
><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-h=
eight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
color: rgb(0, 0, 0); font-size: 0.867rem;">#include "sec.h"</span=
></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=20=
line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#include "partit=
ion.h"</span></div><div style=3D"color: rgb(255, 0, 0); font-size=
: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-w=
iz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#inc=
lude "dram_buffer.h"</span></div><div style=3D"color: rgb(255, 0,=
 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-=
span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0=
.867rem;">#include "wdt.h"</span></div><div style=3D"color: rgb(2=
55, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-s=
ize: 0.867rem;">#include "timer.h"</span></div><div style=3D"colo=
r: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><=
span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0)=
; font-size: 0.867rem;">#include &lt;dramc_pi_api.h&gt;</span></d=
iv><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line=
-height: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">//#include "mt_ptp2.h"</span></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fon=
t-size: 0.867rem;">#if CFG_ATF_SUPPORT</span></div><div style=3D"=
color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0=
, 0); font-size: 0.867rem;">#include "tz_init.h"</span></div><div=
 style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height=
: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 0); font-size: 0.867rem;">#endif</span></div><div sty=
le=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20=
.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rg=
b(0, 0, 0); font-size: 0.867rem;">#ifdef MTK_EMMC_RPMB_SUPPORT</s=
pan></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005p=
x; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#include "mmc=
_rpmb.h"</span></div><div style=3D"color: rgb(255, 0, 0); font-si=
ze: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#e=
ndif</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=20=
13.005px; line-height: 20.808px;"><br></div><div style=3D"color:=20=
rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); f=
ont-size: 0.867rem;">/*=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D*/</span></=
div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; lin=
e-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">/* CONSTAND DEFINITIO=
NS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<=
/span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">/*=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D*/</span></div><div style=3D"color: rgb(255,=
 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-w=
iz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size=
: 0.867rem;">#define MOD "[BLDR]"</span></div><div style=3D"color=
: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><b=
r></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=
 line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">/*=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D*/</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">/* MACROS DEFINITIONS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; */</span></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=20=
font-size: 0.867rem;">/*=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D*/</span></=
div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; lin=
e-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">#define CMD_MATCH(cmd=
1,cmd2) &nbsp;\</span></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; (!strncmp((const char*)(cmd1-&gt;data), (cmd2),=20=
min(strlen(cmd2), cmd1-&gt;len)))</span></div><div style=3D"color=
: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><b=
r></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=
 line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">/*=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D*/</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">/* GLOBAL VARIABLES &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */</span></div><div style=3D"c=
olor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;=
"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=
 0); font-size: 0.867rem;">/*=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D*/</s=
pan></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005p=
x; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#if CFG_BOOT_=
ARGUMENT</span></div><div style=3D"color: rgb(255, 0, 0); font-si=
ze: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#d=
efine bootarg g_dram_buf-&gt;bootarg</span></div><div style=3D"co=
lor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"=
><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=20=
0); font-size: 0.867rem;">#endif</span></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br=
></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=20=
line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">/*=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D*/</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">/* STATIC VARIABLES &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */</span></div><div style=3D"c=
olor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;=
"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=
 0); font-size: 0.867rem;">/*=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D*/</s=
pan></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005p=
x; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">static bl_par=
am_t *bldr_param =3D NULL;</span></div><div style=3D"color: rgb(2=
55, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></div=
><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-h=
eight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
color: rgb(0, 0, 0); font-size: 0.867rem;">/*=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D*/</span></div><div style=3D"color: rgb(255, 0, 0); font=
-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;"=
>/* EXTERN &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */</span></=
div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; lin=
e-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">/*=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D*/</span></div><div style=3D"color: rgb(255, 0, 0); font=
-size: 13.005px; line-height: 20.808px;"><br></div><div style=3D"=
color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0=
, 0); font-size: 0.867rem;">/*=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D*/</s=
pan></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005p=
x; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">/* INTERNAL F=
UNCTIONS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; */</span></div><div style=3D"color: rgb(255, 0, 0); fon=
t-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"=
data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;=
">/*=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D*/</span></div><div style=3D"col=
or: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;">=
<span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0=
); font-size: 0.867rem;">#if defined(PL_PROFILING)</span></div><d=
iv style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heig=
ht: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"col=
or: rgb(0, 0, 0); font-size: 0.867rem;">U32 profiling_time =3D 0;=
</span><span class=3D"Apple-tab-span" style=3D"white-space:pre"><=
span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0)=
; font-size: 0.867rem;">	</span></span><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">/=
/declare in main.c</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">#endif</span></div><div style=3D"color: rgb(255, 0, 0); f=
ont-size: 13.005px; line-height: 20.808px;"><br></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">#ifdef MTK_EMMC_RPMB_SUPPORT</span><=
/div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; li=
ne-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=
=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">int wdt_rpmb_progr=
am_mode(void)</span></div><div style=3D"color: rgb(255, 0, 0); fo=
nt-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">{</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=20=
13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz=
-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp;=
 &nbsp; if (READ_REG(MTK_WDT_NONRST_REG2) &amp; 1)</span></div><d=
iv style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heig=
ht: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"col=
or: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbs=
p; return !(false);</span></div><div style=3D"color: rgb(255, 0,=20=
0); font-size: 13.005px; line-height: 20.808px;"><br></div><div s=
tyle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=20=
20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=20=
rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; return false;</=
span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005=
px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=
 style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">}</span></di=
v><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-=
height: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0);=
 font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=
=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867=
rem;">void wdt_exit_rpmb_program_mode(void)</span></div><div styl=
e=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.=
808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb=
(0, 0, 0); font-size: 0.867rem;">{</span></div><div style=3D"colo=
r: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><=
span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0)=
; font-size: 0.867rem;">&nbsp; &nbsp; u32 tmp;</span></div><div s=
tyle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=20=
20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=20=
rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; tmp =3D READ_RE=
G(MTK_WDT_NONRST_REG2) &amp; (~1);</span></div><div style=3D"colo=
r: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><=
span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0)=
; font-size: 0.867rem;">&nbsp; &nbsp; WRITE_REG(tmp, MTK_WDT_NONR=
ST_REG2);</span></div><div style=3D"color: rgb(255, 0, 0); font-s=
ize: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&=
nbsp; &nbsp; return;</span></div><div style=3D"color: rgb(255, 0,=
 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-=
span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0=
.867rem;">}</span></div><div style=3D"color: rgb(255, 0, 0); font=
-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;"=
>#endif</span></div><div style=3D"color: rgb(255, 0, 0); font-siz=
e: 13.005px; line-height: 20.808px;"><br></div><div style=3D"colo=
r: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><=
span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0)=
; font-size: 0.867rem;"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem; background-color: rgb(255, 0, 0);">sta=
tic void bldr_pre_process(void) &nbsp;</span><b><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); font-size: 0=
.867rem; background-color: rgb(255, 0, 0);">--&gt;=B5=DA=D2=BB=B8=
=F6=D6=D8=B5=E3=B7=D6=CE=F6=BA=AF=CA=FD=A3=AC=D4=DA=CF=C2=D2=BB=D0=
=A1=BD=E1=D7=A8=C3=C5=B7=D6=CE=F6</span></b></span></div><div sty=
le=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20=
.808px;"><div style=3D"color: rgb(0, 0, 0); font-size: 15px; line=
-height: 24px;"><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem;">{</span></div><div style=3D"color: rgb(0, 0,=20=
0); font-size: 15px; line-height: 24px;"><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; int is=
Locked =3D 0;</span></div><div style=3D"color: rgb(0, 0, 0); font=
-size: 15px; line-height: 24px;"><br></div><div style=3D"color: r=
gb(0, 0, 0); font-size: 15px; line-height: 24px;"><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"background-color: rgb(192, 19=
2, 192);">&nbsp; &nbsp; #if CFG_USB_AUTO_DETECT &nbsp;</span><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);=
"><b><span data-wiz-span=3D"data-wiz-span" style=3D"background-co=
lor: rgb(192, 192, 192);">--&gt;=D3=C9=D2=D4=CF=C2=B7=D6=CE=F6=BF=
=C9=D6=AA=A3=AC=C4=AC=C8=CF=B2=BB=D7=DF=B8=C3=B7=D6=D6=A7</span><=
/b></span></span></div><div style=3D"color: rgb(0, 0, 0); font-si=
ze: 15px; line-height: 24px;"><span data-wiz-span=3D"data-wiz-spa=
n"><div style=3D"font-size: 13.005px; line-height: 20.808px;"><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255)=
;"><b><span data-wiz-span=3D"data-wiz-span" style=3D"background-c=
olor: rgb(192, 192, 192);">vendor/mediatek/proprietary/bootable/b=
ootloader/preloader/platform/mt8167/feature.mak:242:C_OPTION +=3D=
 -DCFG_USB_AUTO_DETECT=3D"$(CFG_USB_AUTO_DETECT)"</span></b></spa=
n></div><div style=3D"font-size: 13.005px; line-height: 20.808px;=
"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=
 255);"><b><span data-wiz-span=3D"data-wiz-span" style=3D"backgro=
und-color: rgb(192, 192, 192);">vendor/mediatek/proprietary/boota=
ble/bootloader/preloader/platform/mt8167/feature.mak:243:export C=
FG_USB_AUTO_DETECT</span></b></span></div><div><b><span style=3D"=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 255); background-color:=
 rgb(192, 192, 192);"><strike>vendor/mediatek/proprietary/bootabl=
e/bootloader/preloader/platform/mt8167/default.mak:54:CFG_USB_AUT=
O_DETECT :=3D0</strike></span></span><br></b></div><div><span sty=
le=3D"font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);"><b><span=
 data-wiz-span=3D"data-wiz-span" style=3D"background-color: rgb(1=
92, 192, 192);">vendor/mediatek/proprietary/bootable/bootloader/p=
reloader/custom/jasz8167_tb_n/cust_bldr.mak:27:CFG_USB_AUTO_DETEC=
T :=3D0</span></b></span></span><b style=3D"color: rgb(0, 0, 255)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"background-color: rgb(192, 192, 192)=
;">&nbsp;&nbsp;</span><span data-wiz-span=3D"data-wiz-span" style=
=3D"color: rgb(255, 0, 0); background-color: rgb(192, 192, 192);"=
>--&gt;=D5=E2=B8=F6=D3=C5=CF=C8=BC=B6=B8=FC=B8=DF</span></b><br><=
/div></span></div><div style=3D"color: rgb(0, 0, 0); font-size: 1=
5px; line-height: 24px;"><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);=
">&nbsp; &nbsp; platform_usbdl_flag_check();</span></div><div sty=
le=3D"color: rgb(0, 0, 0); font-size: 15px; line-height: 24px;"><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; #endif</sp=
an></div><div style=3D"color: rgb(0, 0, 0); font-size: 15px; line=
-height: 24px;"><br></div><div style=3D"color: rgb(0, 0, 0); font=
-size: 15px; line-height: 24px;"><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem; background-color: rgb(192, 19=
2, 192);">&nbsp; &nbsp; #if CFG_EMERGENCY_DL_SUPPORT&nbsp;</span>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 13.005p=
x; line-height: 20.808px; background-color: rgb(192, 192, 192);">=
&nbsp;</span><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 13.005px; line-height: 20.808px; color: rgb(0, 0, 255);"><b=
><span data-wiz-span=3D"data-wiz-span" style=3D"background-color:=
 rgb(192, 192, 192);">--&gt;=D3=C9=D2=D4=CF=C2=B7=D6=CE=F6=BF=C9=D6=
=AA=A3=AC=C4=AC=C8=CF=B2=BB=D7=DF=B8=C3=B7=D6=D6=A7</span></b></s=
pan></div><div style=3D"color: rgb(0, 0, 0); font-size: 15px; lin=
e-height: 24px;"><span data-wiz-span=3D"data-wiz-span"><div style=
=3D"font-size: 13.005px; line-height: 20.808px;"><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);"><b><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"background-color: rgb(192=
, 192, 192);">vendor/mediatek/proprietary/bootable/bootloader/pre=
loader/platform/mt8167/feature.mak:75:C_OPTION +=3D -DCFG_EMERGEN=
CY_DL_SUPPORT=3D"$(CFG_EMERGENCY_DL_SUPPORT)"</span></b></span></=
div><div style=3D"font-size: 13.005px; line-height: 20.808px;"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255=
);"><b><span data-wiz-span=3D"data-wiz-span" style=3D"background-=
color: rgb(192, 192, 192);">vendor/mediatek/proprietary/bootable/=
bootloader/preloader/platform/mt8167/feature.mak:76:export CFG_EM=
ERGENCY_DL_SUPPORT</span></b></span></div><div><b><span style=3D"=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 255); background-color:=
 rgb(192, 192, 192);"><strike>vendor/mediatek/proprietary/bootabl=
e/bootloader/preloader/platform/mt8167/default.mak:31:CFG_EMERGEN=
CY_DL_SUPPORT :=3D1</strike></span></span><br></b></div><div><spa=
n style=3D"font-size: 13.005px; line-height: 20.808px;"><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);"><b>=
<span data-wiz-span=3D"data-wiz-span" style=3D"background-color:=20=
rgb(192, 192, 192);">vendor/mediatek/proprietary/bootable/bootloa=
der/preloader/custom/jasz8167_tb_n/cust_bldr.mak:24:CFG_EMERGENCY=
_DL_SUPPORT :=3D0 &nbsp;</span><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(255, 0, 0); background-color: rgb(192, 19=
2, 192);">--&gt;=D5=E2=B8=F6=D3=C5=CF=C8=BC=B6=B8=FC=B8=DF</span>=
</b></span></span><br></div></span></div><div style=3D"color: rgb=
(0, 0, 0); font-size: 15px; line-height: 24px;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-col=
or: rgb(192, 192, 192);">&nbsp; &nbsp; platform_safe_mode(1, CFG_=
EMERGENCY_DL_TIMEOUT_MS);</span></div><div style=3D"color: rgb(0,=
 0, 0); font-size: 15px; line-height: 24px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(192, 192, 192);">&nbsp; &nbsp; #endif</span></div><div style=3D=
"color: rgb(0, 0, 0); font-size: 15px; line-height: 24px;"><br></=
div><div style=3D"color: rgb(0, 0, 0); font-size: 15px; line-heig=
ht: 24px;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;">&nbsp; &nbsp; /* essential hardware initialization=
. e.g. timer, pll, uart... */</span></div><div style=3D"color: rg=
b(0, 0, 0); font-size: 15px; line-height: 24px;"><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;"><span data-w=
iz-span=3D"data-wiz-span" style=3D"background-color: rgb(255, 255=
, 0);">&nbsp; &nbsp; platform_pre_init();&nbsp;</span><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(255, 0, 0);"><b><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"background-color: rg=
b(255, 255, 0);">&nbsp;--&gt;=D6=D8=B5=E3=B7=D6=CE=F6</span></b><=
/span></span></div><div style=3D"color: rgb(0, 0, 0); font-size:=20=
15px; line-height: 24px;"><br></div><div style=3D"color: rgb(0, 0=
, 0); font-size: 15px; line-height: 24px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; prin=
t("\n%s Build Time: %s\n", MOD, BUILD_TIME);</span></div><div sty=
le=3D"color: rgb(0, 0, 0); font-size: 15px; line-height: 24px;"><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;">// &nbsp; &nbsp;config_DCC_Calin();</span></div><div style=3D"=
color: rgb(0, 0, 0); font-size: 15px; line-height: 24px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">//=20=
&nbsp; &nbsp;dump_dcc_regs();</span></div><div style=3D"color: rg=
b(0, 0, 0); font-size: 15px; line-height: 24px;"><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">// &nbsp; &n=
bsp;disable_FBB_SW();</span></div><div style=3D"color: rgb(0, 0,=20=
0); font-size: 15px; line-height: 24px;"><br></div><div style=3D"=
color: rgb(0, 0, 0); font-size: 15px; line-height: 24px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nb=
sp; &nbsp; g_boot_mode =3D NORMAL_BOOT;</span></div><div style=3D=
"color: rgb(0, 0, 0); font-size: 15px; line-height: 24px;"><br></=
div><div style=3D"color: rgb(0, 0, 0); font-size: 15px; line-heig=
ht: 24px;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;">&nbsp; &nbsp; /* hardware initialization */</span>=
</div><div style=3D"color: rgb(0, 0, 0); font-size: 15px; line-he=
ight: 24px;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp=
; platform_init(); &nbsp;</span><b style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"background-color: rgb(255, 255, 0);"=
>&nbsp;--&gt;=D6=D8=B5=E3=C4=D1=B5=E3=B7=D6=CE=F6</span></b></div=
><div style=3D"color: rgb(0, 0, 0); font-size: 15px; line-height:=
 24px;"><br></div><div style=3D"color: rgb(0, 0, 0); font-size: 1=
5px; line-height: 24px;"><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem; background-color: rgb(255, 255, 0);">=
&nbsp; &nbsp; part_init(); &nbsp;</span><b style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"background-color: rgb(255, 2=
55, 0);">--&gt;=D6=D8=D6=D8=B5=E3=C4=D1=C4=D1=B5=E3=B7=D6=CE=F6</=
span></b></div><div style=3D"color: rgb(0, 0, 0); font-size: 15px=
; line-height: 24px;"><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">&nbsp; &nbsp; part_dump();</span></div>=
<div style=3D"color: rgb(0, 0, 0); font-size: 15px; line-height:=20=
24px;"><span class=3D"Apple-tab-span" style=3D"white-space: pre;"=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">	</span></span><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">BOOTING_TIME_PROFILING_LOG("Part Init");</=
span></div><div style=3D"color: rgb(0, 0, 0); font-size: 15px; li=
ne-height: 24px;"><br></div><div style=3D"color: rgb(0, 0, 0); fo=
nt-size: 15px; line-height: 24px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; /* init secu=
rity library */</span></div><div style=3D"color: rgb(0, 0, 0); fo=
nt-size: 15px; line-height: 24px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; sec_lib_init=
();</span></div><div style=3D"color: rgb(0, 0, 0); font-size: 15p=
x; line-height: 24px;"><span class=3D"Apple-tab-span" style=3D"wh=
ite-space: pre;"><span data-wiz-span=3D"data-wiz-span" style=3D"f=
ont-size: 0.867rem;">	</span></span><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">BOOTING_TIME_PROFILING_LO=
G("Sec lib init");</span></div><div style=3D"color: rgb(0, 0, 0);=
 font-size: 15px; line-height: 24px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; /* note:=20=
lock state is only valid after sec_lib_init, be careful when movi=
ng the following functions */</span></div><div style=3D"color: rg=
b(0, 0, 0); font-size: 15px; line-height: 24px;"><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;"><span data-w=
iz-span=3D"data-wiz-span" style=3D"background-color: rgb(192, 192=
, 192);">#ifdef MTK_FACTORY_LOCK_SUPPORT &nbsp;</span><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);"><b><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"background-color: rg=
b(192, 192, 192);">--&gt;</span></b></span></span><b style=3D"col=
or: rgb(0, 0, 255); font-size: 13.005px; line-height: 20.808px;">=
<span data-wiz-span=3D"data-wiz-span" style=3D"background-color:=20=
rgb(192, 192, 192);"><span data-wiz-span=3D"data-wiz-span">=D3=C9=
</span>=D2=D4=CF=C2=B7=D6=CE=F6=BF=C9=D6=AA=A3=AC=C4=AC=C8=CF=B2=BB=
=D7=DF=B8=C3=B7=D6=D6=A7</span></b></div><div style=3D"color: rgb=
(0, 0, 0); font-size: 15px; line-height: 24px;"><b><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; color: rgb(=
0, 0, 255); background-color: rgb(192, 192, 192);">--&gt;vendor/m=
ediatek/proprietary/bootable/bootloader/preloader/platform/mt8167=
/feature.mak:394:ifeq ("$(MTK_FACTORY_LOCK_SUPPORT)","yes")&nbsp;=
</span><span style=3D"font-size: 13.005px; line-height: 20.808px;=
"><span class=3D"Apple-tab-span" style=3D"white-space: pre;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);=
 background-color: rgb(192, 192, 192);">	</span></span><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); backg=
round-color: rgb(192, 192, 192);">C_OPTION +=3D -DMTK_FACTORY_LOC=
K_SUPPORT&nbsp;</span></span><span style=3D"font-size: 13.005px;=20=
line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"color: rgb(0, 0, 255); background-color: rgb(192, 192, 192)=
;">endif</span></span></b></div><div style=3D"color: rgb(0, 0, 0)=
; font-size: 15px; line-height: 24px;"><b><span style=3D"font-siz=
e: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-=
wiz-span" style=3D"color: rgb(0, 0, 255); background-color: rgb(1=
92, 192, 192);">--&gt;</span></span><span style=3D"font-size: 13.=
005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 255); background-color: rgb(192, 19=
2, 192);">vendor/mediatek/proprietary/bootable/bootloader/preload=
er/custom/jasz8167_tb_n/jasz8167_tb_n.mk:15:MTK_FACTORY_LOCK_SUPP=
ORT=3Dno</span></span></b><br></div><div style=3D"color: rgb(0, 0=
, 0); font-size: 15px; line-height: 24px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(192, 192, 192);">&nbsp; &nbsp; seclib_query_factory_lock(&amp;=
isLocked);</span></div><div style=3D"color: rgb(0, 0, 0); font-si=
ze: 15px; line-height: 24px;"><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"font-size: 0.867rem; background-color: rgb(192, 192,=20=
192);">#endif</span></div><div style=3D"color: rgb(0, 0, 0); font=
-size: 15px; line-height: 24px;"><br></div><div style=3D"color: r=
gb(0, 0, 0); font-size: 15px; line-height: 24px;"><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">#if CFG_UAR=
T_TOOL_HANDSHAKE&nbsp;&nbsp;&nbsp;</span><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem; color: rgb(0, 0, 255)=
;"><b><span data-wiz-span=3D"data-wiz-span">--&gt;</span></b></sp=
an><b style=3D"color: rgb(0, 0, 255); font-size: 13.005px; line-h=
eight: 20.808px;"><span data-wiz-span=3D"data-wiz-span">=D3=C9</s=
pan></b><b style=3D"color: rgb(0, 0, 255); font-size: 13.005px; l=
ine-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span">=D2=D4=
=CF=C2=B7=D6=CE=F6=BF=C9=D6=AA=A3=AC=C4=AC=C8=CF=D7=DF=B8=C3=B7=D6=
=D6=A7</span></b></div><div style=3D"color: rgb(0, 0, 0); font-si=
ze: 15px; line-height: 24px;"><span data-wiz-span=3D"data-wiz-spa=
n"><b><div style=3D"font-size: 13.005px; line-height: 20.808px;">=
</div><div style=3D"font-size: 13.005px; line-height: 20.808px;">=
<span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 2=
55);">--&gt;vendor/mediatek/proprietary/bootable/bootloader/prelo=
ader/platform/mt8167/feature.mak:34:ifdef CFG_UART_TOOL_HANDSHAKE=
 C_OPTION +=3D -DCFG_UART_TOOL_HANDSHAKE=3D"$(CFG_UART_TOOL_HANDS=
HAKE)"&nbsp;endif</span></div><div><span data-wiz-span=3D"data-wi=
z-span"><font color=3D"#0000ff"><span style=3D"font-size: 13.005p=
x; line-height: 20.808px;">--&gt;vendor/mediatek/proprietary/boot=
able/bootloader/preloader/platform/mt8167/default.mak:15:CFG_UART=
_TOOL_HANDSHAKE :=3D1</span></font><br></span></div><div><span st=
yle=3D"font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);">--&gt;<=
/span></span><span style=3D"font-size: 13.005px; line-height: 20.=
808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb=
(0, 0, 255);">vendor/mediatek/proprietary/bootable/bootloader/pre=
loader/custom/jasz8167_tb_n/cust_bldr.mak:16:CFG_UART_TOOL_HANDSH=
AKE :=3D1</span></span></div></b></span></div><div style=3D"color=
: rgb(0, 0, 0); font-size: 15px; line-height: 24px;"><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* init uart handshake for send=
ing 'ready' to tool and receiving handshake</span></div><div styl=
e=3D"color: rgb(0, 0, 0); font-size: 15px; line-height: 24px;"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* pattern from=20=
tool in the background and we'll see the pattern later.</span></d=
iv><div style=3D"color: rgb(0, 0, 0); font-size: 15px; line-heigh=
t: 24px;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* t=
his can reduce the handshake time.</span></div><div style=3D"colo=
r: rgb(0, 0, 0); font-size: 15px; line-height: 24px;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</span></div><div styl=
e=3D"color: rgb(0, 0, 0); font-size: 15px; line-height: 24px;"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
">&nbsp; &nbsp; if (!isLocked) {</span></div><div style=3D"color:=
 rgb(0, 0, 0); font-size: 15px; line-height: 24px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &n=
bsp; &nbsp; &nbsp; uart_handshake_init();</span></div><div style=3D=
"color: rgb(0, 0, 0); font-size: 15px; line-height: 24px;"><span=20=
class=3D"Apple-tab-span" style=3D"white-space: pre;"><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">		</span=
></span><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem;">BOOTING_TIME_PROFILING_LOG("UART handshake init");</s=
pan></div><div style=3D"color: rgb(0, 0, 0); font-size: 15px; lin=
e-height: 24px;"><span data-wiz-span=3D"data-wiz-span" style=3D"f=
ont-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; log_buf_ctrl(1);=
 /* switch log buffer to dram */</span></div><div style=3D"color:=
 rgb(0, 0, 0); font-size: 15px; line-height: 24px;"><span class=3D=
"Apple-tab-span" style=3D"white-space: pre;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">	</span></span><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>}</span></div><div style=3D"color: rgb(0, 0, 0); font-size: 15px=
; line-height: 24px;"><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">#endif</span></div><div style=3D"color:=
 rgb(0, 0, 0); font-size: 15px; line-height: 24px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">}</span><=
/div></div><div style=3D"color: rgb(0, 0, 0); font-size: 15px; li=
ne-height: 24px;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem;"><br></span></div><div style=3D"color: rgb(2=
55, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-s=
ize: 0.867rem;"><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem; background-color: rgb(255, 0, 0);">static void=
 bldr_post_process(void) &nbsp;</span><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(0, 0, 255);"><b><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-colo=
r: rgb(255, 0, 0);">--&gt;=B5=DA=B6=FE=B8=F6=D6=D8=B5=E3=B7=D6=CE=
=F6=BA=AF=CA=FD=A3=AC=CF=C2=D2=BB=D0=A1=BD=DA=D7=A8=C3=C5=B7=D6=CE=
=F6</span></b></span></span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=20=
0.867rem;">{</span></div><div style=3D"color: rgb(255, 0, 0); fon=
t-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"=
data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;=
">#ifdef MTK_EMMC_RPMB_SUPPORT &nbsp;<span data-wiz-span=3D"data-=
wiz-span" style=3D"color: rgb(0, 0, 255);"><b>--&gt;=D3=C9=D2=D4=CF=
=C2=B7=D6=CE=F6=BF=C9=D6=AA=D7=DF=B8=C3=B7=D6=D6=A7</b></span></s=
pan></div><div><span data-wiz-span=3D"data-wiz-span"><b><span sty=
le=3D"font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);">--&gt;ve=
ndor/mediatek/proprietary/bootable/bootloader/preloader/platform/=
mt8167/feature.mak:430:ifeq ("$(MTK_EMMC_RPMB_SUPPORT)","yes") &n=
bsp;C_OPTION +=3D -DMTK_EMMC_RPMB_SUPPORT endif</span></span><br>=
</b></span></div><div><span data-wiz-span=3D"data-wiz-span"><span=
 style=3D"font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);"><b>-=
-&gt;vendor/mediatek/proprietary/bootable/bootloader/preloader/cu=
stom/jasz8167_tb_n/jasz8167_tb_n.mk:27:MTK_EMMC_RPMB_SUPPORT=3Dye=
s</b></span></span><br></span></div><div style=3D"color: rgb(255,=
 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-w=
iz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size=
: 0.867rem;">&nbsp; &nbsp; u32 wc;</span></div><div style=3D"colo=
r: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><=
br></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px=
; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp;=20=
if(wdt_rpmb_program_mode() !=3D false)</span></div><div style=3D"=
color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0=
, 0); font-size: 0.867rem;">&nbsp; &nbsp; {</span></div><div styl=
e=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.=
808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb=
(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; wdt_=
exit_rpmb_program_mode();</span></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-si=
ze: 0.867rem; background-color: rgb(192, 192, 192);">#if 1</span>=
</div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; l=
ine-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nb=
sp; &nbsp; if(mmc_rpmb_get_wc(&amp;wc) =3D=3D 7) /* auth key not=20=
programmed yet. */</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div style=3D"c=
olor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;=
"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=
 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; printf("[RPMB] Begin RPMB provisioning\n");</span></div><div=20=
style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=
 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=
 rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; seclib_rpmb_mac_process_ex(mmc_rpmb_set_key, 0);</s=
pan></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005p=
x; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; platform_safe_mode(0, 0);</span></di=
v><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-=
height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; mtk_arch_reset(0);</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; } else {=
</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.0=
05px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; printf("[RPMB] In RPMB provisioni=
ng mode but RPMB already provisioned\n");</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }</span>=
</div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; l=
ine-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"color: rgb(0, 0, 0); font-size: 0.867rem; background-color:=20=
rgb(192, 192, 192);">#else</span></div><div style=3D"color: rgb(2=
55, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-s=
ize: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbs=
p; &nbsp; &nbsp; printf("[RPMB] RPMB provisioning disabled\n");</=
span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005=
px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=
 style=3D"color: rgb(0, 0, 0); font-size: 0.867rem; background-co=
lor: rgb(192, 192, 192);">#endif</span></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=20=
font-size: 0.867rem;">&nbsp; &nbsp; }</span></div><div style=3D"c=
olor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;=
"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=
 0); font-size: 0.867rem;">#endif</span></div><div style=3D"color=
: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=
 font-size: 0.867rem;">&nbsp; &nbsp; platform_post_init();</span>=
</div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; l=
ine-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">}</span></div><di=
v style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heigh=
t: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font=
-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;"=
>u32 seclib_get_devinfo_with_index(u32 index)</span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">{</span></div><div style=3D"co=
lor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"=
><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=20=
0); font-size: 0.867rem;">&nbsp; &nbsp; return internal_seclib_ge=
t_devinfo_with_index(index);</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">}</span></div><div style=3D"color: rgb(255, 0,=20=
0); font-size: 13.005px; line-height: 20.808px;"><br></div><div s=
tyle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=20=
20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-si=
ze: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">st=
atic bool wait_for_discon(struct comport_ops *comm, u32 tmo_ms)</=
span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005=
px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=
 style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">{</span></di=
v><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-=
height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; bool re=
t;</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13=
.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &=
nbsp; u8 discon[HSHK_DISCON_SZ];</span></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=20=
font-size: 0.867rem;">&nbsp; &nbsp; memset(discon, 0x0, HSHK_DISC=
ON_SZ);</span></div><div style=3D"color: rgb(255, 0, 0); font-siz=
e: 13.005px; line-height: 20.808px;"><br></div><div style=3D"colo=
r: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><=
span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0)=
; font-size: 0.867rem;">&nbsp; &nbsp; print("[BLDR] DISCON...");<=
/span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbs=
p; if (ret =3D comm-&gt;recv(discon, HSHK_DISCON_SZ, tmo_ms)) {</=
span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005=
px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=
 style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp=
; print("timeout\n");</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=20=
0.867rem;">&nbsp; &nbsp; return ret;</span></div><div style=3D"co=
lor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"=
><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=20=
0); font-size: 0.867rem;">&nbsp; &nbsp; }</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><br></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &n=
bsp; if (0 =3D=3D memcmp(discon, HSHK_DISCON, HSHK_DISCON_SZ))</s=
pan></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005p=
x; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp;=
 print("OK\n");</span></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; else</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=20=
0.867rem;">&nbsp; &nbsp; print("protocol mispatch\n");</span></di=
v><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-=
height: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0);=
 font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=
=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867=
rem;">&nbsp; &nbsp; return ret;</span></div><div style=3D"color:=20=
rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); f=
ont-size: 0.867rem;">}</span></div><div style=3D"color: rgb(255,=20=
0, 0); font-size: 13.005px; line-height: 20.808px;"><br></div><di=
v style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heigh=
t: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"colo=
r: rgb(0, 0, 0); font-size: 0.867rem;">int bldr_load_part(char *n=
ame, blkdev_t *bdev, u32 *addr, u32 *size)</span></div><div style=
=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.8=
08px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(=
0, 0, 0); font-size: 0.867rem;">{</span></div><div style=3D"color=
: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=
 font-size: 0.867rem;">&nbsp; &nbsp; part_t *part =3D part_get(na=
me);</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=20=
13.005px; line-height: 20.808px;"><br></div><div style=3D"color:=20=
rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); f=
ont-size: 0.867rem;">&nbsp; &nbsp; if (NULL =3D=3D part) {</span>=
</div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; l=
ine-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nb=
sp; &nbsp; print("%s %s partition not found\n", MOD, name);</span=
></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=20=
line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &n=
bsp; &nbsp; return -1;</span></div><div style=3D"color: rgb(255,=20=
0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=
 0.867rem;">&nbsp; &nbsp; }</span></div><div style=3D"color: rgb(=
255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></di=
v><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-=
height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; return=20=
part_load(bdev, part, addr, 0, size);</span></div><div style=3D"c=
olor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;=
"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=
 0); font-size: 0.867rem;">}</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></d=
iv><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line=
-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">int bldr_load_bootimg=
_header(char *name, blkdev_t *bdev, u32 *addr, u32 offset, u32 *s=
ize)</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=20=
13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz=
-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">{</spa=
n></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=
 line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; i=
nt ret;</span></div><div style=3D"color: rgb(255, 0, 0); font-siz=
e: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-=
wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nb=
sp; &nbsp; part_t *part =3D part_get(name);</span></div><div styl=
e=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.=
808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-size:=
 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp=
; &nbsp; if (NULL =3D=3D part) {</span></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=20=
font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; print("%s %s pa=
rt. not found\n", MOD, name);</span></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fon=
t-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; return -1;</span><=
/div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; li=
ne-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=
=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; }</s=
pan></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005p=
x; line-height: 20.808px;"><br></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-siz=
e: 0.867rem;">&nbsp; &nbsp; ret =3D part_load_raw_part(bdev, part=
, addr, offset, size);</span></div><div style=3D"color: rgb(255,=20=
0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=
 0.867rem;">&nbsp; &nbsp; print("%s part_load_raw_part ret=3D0x%x=
\n", MOD, ret);</span></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; if (ret)</span></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-si=
ze: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; return ret;</span></di=
v><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-=
height: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0);=
 font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=
=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867=
rem;">&nbsp; &nbsp; /* header addr will be updated to entry point=
 addr */</span></div><div style=3D"color: rgb(255, 0, 0); font-si=
ze: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&n=
bsp; &nbsp; return &nbsp;0; //temp_tee_verify_image(addr, *size);=
</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.0=
05px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">}</span></=
div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; lin=
e-height: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">char* check_active_part(char *name1, char *name2)</span><=
/div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; li=
ne-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=
=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">{</span></div><div=
 style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height=
: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; int ret;</spa=
n></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=
 line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; u=
nsigned long name1_active =3D 0, name2_active =3D 0;</span></div>=
<div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-he=
ight: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); f=
ont-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; print("%s check active part. of %s and %s\n", MO=
D, name1, name2);</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><br></div><div sty=
le=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20=
.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rg=
b(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; /* check the acti=
ve bit of first partition */</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">&nbsp; &nbsp; part_t *part =3D part_get(name1);=
</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.0=
05px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nb=
sp; if (NULL =3D=3D part) {</span></div><div style=3D"color: rgb(=
255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-=
size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; print("%s %s part. n=
ot found\n", MOD, name1);</span></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-si=
ze: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; return -1;</span></div=
><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-h=
eight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; } else {=
</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.0=
05px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nb=
sp; &nbsp; &nbsp; name1_active =3D mt_part_get_active_bit(part);<=
/span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbs=
p; }</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=20=
13.005px; line-height: 20.808px;"><br></div><div style=3D"color:=20=
rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); f=
ont-size: 0.867rem;">&nbsp; &nbsp; /* check the active bit of sec=
ond partition */</span></div><div style=3D"color: rgb(255, 0, 0);=
 font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=
=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867=
rem;">&nbsp; &nbsp; part =3D part_get(name2);</span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; if (NULL =3D=3D=20=
part) {</span></div><div style=3D"color: rgb(255, 0, 0); font-siz=
e: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-=
wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nb=
sp; &nbsp; &nbsp; &nbsp; print("%s %s part. not found\n", MOD, na=
me2);</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=
 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp=
; &nbsp; &nbsp; &nbsp; /* return -1; Comment it since we could lo=
ad first partition to boot */</span></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fon=
t-size: 0.867rem;">&nbsp; &nbsp; } else {</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; name2_ac=
tive =3D mt_part_get_active_bit(part);</span></div><div style=3D"=
color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0=
, 0); font-size: 0.867rem;">&nbsp; &nbsp; }</span></div><div styl=
e=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.=
808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-size:=
 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp=
; &nbsp; print("%s %s active =3D %x, %s active =3D %x\n", MOD, na=
me1, name1_active, name2, name2_active);</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><br></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &n=
bsp; if (name1_active =3D=3D 0 &amp;&amp; name2_active &gt; 0) {<=
/span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbs=
p; &nbsp; &nbsp; print("%s Loading %s Partition...\n", MOD, name2=
);</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13=
.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &=
nbsp; &nbsp; &nbsp; return name2;</span></div><div style=3D"color=
: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=
 font-size: 0.867rem;">&nbsp; &nbsp; } else {</span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; pr=
int("%s Loading %s Partition...\n", MOD, name1);</span></div><div=
 style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height=
: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;=
 return name1;</span></div><div style=3D"color: rgb(255, 0, 0); f=
ont-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; }</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><br></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; return NULL;</sp=
an></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px=
; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">}</span></div>=
<div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-he=
ight: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); f=
ont-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">int bldr_load_tee_part(char *name, blkdev_t *bdev, u32 *addr,=20=
u32 offset, u32 *size)</span></div><div style=3D"color: rgb(255,=20=
0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=
 0.867rem;">{</span></div><div style=3D"color: rgb(255, 0, 0); fo=
nt-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; int ret;</span></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-si=
ze: 0.867rem;">&nbsp; &nbsp; part_t *part =3D part_get(name);</sp=
an></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px=
; line-height: 20.808px;"><br></div><div style=3D"color: rgb(255,=
 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-w=
iz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size=
: 0.867rem;">&nbsp; &nbsp; if (NULL =3D=3D part) {</span></div><d=
iv style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heig=
ht: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"col=
or: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbs=
p; print("%s %s part. not found\n", MOD, name);</span></div><div=20=
style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=
 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=
 rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;=20=
return -1;</span></div><div style=3D"color: rgb(255, 0, 0); font-=
size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">=
&nbsp; &nbsp; }</span></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><br></div><div style=
=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.8=
08px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(=
0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; ret =3D part_load(b=
dev, part, addr, offset, size);</span></div><div style=3D"color:=20=
rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); f=
ont-size: 0.867rem;">&nbsp; &nbsp; if (ret) {</span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; pr=
int("%s %s part. ATF load fail\n", MOD, name);</span></div><div s=
tyle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=20=
20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=20=
rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; r=
eturn ret;</span></div><div style=3D"color: rgb(255, 0, 0); font-=
size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">=
&nbsp; &nbsp; }</span></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><br></div><div style=
=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.8=
08px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(=
0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; /* header addr will=
 be updated to entry point addr */</span></div><div style=3D"colo=
r: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><=
br></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px=
; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp;=20=
ret =3D tee_verify_image_legacy(addr, *size);</span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-siz=
e: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-=
wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nb=
sp; &nbsp; if (ret) {</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=20=
0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; print("%s %s part. ATF ver=
ify fail\n", MOD, name);</span></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-siz=
e: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; return ret;</span></div=
><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-h=
eight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; }</span>=
</div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; l=
ine-height: 20.808px;"><br></div><div style=3D"color: rgb(255, 0,=
 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-=
span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0=
.867rem;">#if CFG_TEE_SUPPORT</span></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fon=
t-size: 0.867rem;">&nbsp; &nbsp; {</span></div><div style=3D"colo=
r: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><=
span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0)=
; font-size: 0.867rem;">&nbsp; &nbsp; u32 tee_addr =3D 0;</span><=
/div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; li=
ne-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=
=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; u32=20=
next_offset =3D sizeof(part_hdr_t) + *size;</span></div><div styl=
e=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.=
808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-size:=
 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp=
; &nbsp; ret =3D part_load(bdev, part, &amp;tee_addr, next_offset=
, size);</span></div><div style=3D"color: rgb(255, 0, 0); font-si=
ze: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&n=
bsp; &nbsp; if (ret) {</span></div><div style=3D"color: rgb(255,=20=
0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=
 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; print("%s %s part. TEE lo=
ad fail\n", MOD, name);</span></div><div style=3D"color: rgb(255,=
 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-w=
iz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size=
: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; return ret;</span></div>=
<div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-he=
ight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"c=
olor: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; }</span><=
/div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; li=
ne-height: 20.808px;"><br></div><div style=3D"color: rgb(255, 0,=20=
0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.=
867rem;">&nbsp; &nbsp; /* header addr will be updated to entry po=
int addr */</span></div><div style=3D"color: rgb(255, 0, 0); font=
-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;"=
>&nbsp; &nbsp; /* stiil need to decode mtee image */</span></div>=
<div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-he=
ight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"c=
olor: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; ret =3D t=
ee_verify_image_legacy(&amp;tee_addr, *size);</span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; /* ret =3D tee_v=
erify_image(&amp;tee_addr); */</span></div><div style=3D"color: r=
gb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br><=
/div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; li=
ne-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=
=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; if (=
ret)</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=20=
13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz=
-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp;=
 &nbsp; &nbsp; &nbsp; print("%s %s part. TEE verify fail\n", MOD,=
 name);</span></div><div style=3D"color: rgb(255, 0, 0); font-siz=
e: 13.005px; line-height: 20.808px;"><br></div><div style=3D"colo=
r: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><=
span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0)=
; font-size: 0.867rem;">&nbsp; &nbsp; /* set tee entry address */=
</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.0=
05px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nb=
sp; tee_set_entry(tee_addr);</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></d=
iv><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line=
-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; /* set=20=
hwuid. note that if you use cmm file, the parameter is empty. */<=
/span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbs=
p; tee_set_hwuid((u8*)&amp;bldr_param-&gt;meid[0], sizeof(bldr_pa=
ram-&gt;meid));</span></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; }</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">#endif</span></div><div style=3D"color: rgb(255, 0, 0); f=
ont-size: 13.005px; line-height: 20.808px;"><br></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; return ret;</span></di=
v><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-=
height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">}</span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-siz=
e: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-=
wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">sta=
tic bool bldr_cmd_handler(struct bldr_command_handler *handler,</=
span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005=
px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=
 style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp=
; struct bldr_command *cmd, struct bldr_comport *comport)</span><=
/div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; li=
ne-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=
=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">{</span></div><div=
 style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height=
: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; struct compor=
t_ops *comm =3D comport-&gt;ops;</span></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=20=
font-size: 0.867rem;">&nbsp; &nbsp; u32 attr =3D handler-&gt;attr=
;</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><br></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">#if CFG_DT_MD_DOWNLOAD</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; if (CMD_MATCH(cmd, SWI=
TCH_MD_REQ)) {</span></div><div style=3D"color: rgb(255, 0, 0); f=
ont-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; &nbsp; &nbsp; /* SWITCHMD */</span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if=
 (attr &amp; CMD_HNDL_ATTR_COM_FORBIDDEN)</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; goto forbidden;</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><br></div><div=
 style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height=
: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;=
 comm-&gt;send((u8*)SWITCH_MD_ACK, strlen(SWITCH_MD_ACK));</span>=
</div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; l=
ine-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nb=
sp; &nbsp; platform_modem_download();</span></div><div style=3D"c=
olor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;=
"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=
 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; return TRU=
E;</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13=
.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &=
nbsp; }</span></div><div style=3D"color: rgb(255, 0, 0); font-siz=
e: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-=
wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#en=
dif</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 1=
3.005px; line-height: 20.808px;"><br></div><div style=3D"color: r=
gb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=
 data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fo=
nt-size: 0.867rem;">&nbsp; &nbsp; if (CMD_MATCH(cmd, ATCMD_PREFIX=
)) {</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=20=
13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz=
-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp;=
 &nbsp; &nbsp; &nbsp; /* "AT+XXX" */</span></div><div style=3D"co=
lor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"=
><br></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005=
px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=
 style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp=
; &nbsp; &nbsp; if (CMD_MATCH(cmd, ATCMD_NBOOT_REQ)) {</span></di=
v><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-=
height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; /* return "AT+OK" to tool */</span></div><di=
v style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heigh=
t: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"colo=
r: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; comm-&gt;send((u8*)ATCMD_OK, strlen(ATCMD_OK));</=
span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005=
px; line-height: 20.808px;"><br></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-si=
ze: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_boot_m=
ode =3D NORMAL_BOOT;</span></div><div style=3D"color: rgb(255, 0,=
 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-=
span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0=
.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_boot_reason=
 =3D BR_TOOL_BY_PASS_PWK;</span></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></div>=
<div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-he=
ight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"c=
olor: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &n=
bsp; } else {</span></div><div style=3D"color: rgb(255, 0, 0); fo=
nt-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* return "AT+UNKONW=
N" to ack tool */</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; comm-&gt;send((u=
8*)ATCMD_UNKNOWN, strlen(ATCMD_UNKNOWN));</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><br></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</span></div><div s=
tyle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=20=
20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=20=
rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }=
</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.0=
05px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nb=
sp; } else if (CMD_MATCH(cmd, META_STR_REQ)) {</span></div><div s=
tyle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=20=
20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=20=
rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; p=
ara_t param;</span></div><div style=3D"color: rgb(255, 0, 0); fon=
t-size: 13.005px; line-height: 20.808px;"><br></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">#if CFG_BOOT_ARGUMENT</span></div><d=
iv style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heig=
ht: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"col=
or: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbs=
p; bootarg.md_type[0] =3D 0;</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; bootarg.md_type[1]=20=
=3D 0;</span></div><div style=3D"color: rgb(255, 0, 0); font-size=
: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-w=
iz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#end=
if</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13=
.005px; line-height: 20.808px;"><br></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fon=
t-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; /* "METAMETA" */</=
span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005=
px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=
 style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp=
; &nbsp; &nbsp; if (attr &amp; CMD_HNDL_ATTR_COM_FORBIDDEN)</span=
></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=20=
line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; goto forbidden;</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><br></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &n=
bsp; /* for backward compatibility */</span></div><div style=3D"c=
olor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;=
"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=
 0); font-size: 0.867rem;">&nbsp; &nbsp; comm-&gt;recv((u8*)&amp;=
param.v0001, sizeof(param.v0001), 2000);</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">#if CFG_WORLD_PHONE_SUPPORT</span></=
div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; lin=
e-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=20=
&nbsp; comm-&gt;send((u8*)META_ARG_VER_STR, strlen(META_ARG_VER_S=
TR));</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=
 13.005px; line-height: 20.808px;"><br></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=20=
font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if (0 =3D=3D co=
mm-&gt;recv((u8*)&amp;param.v0001, sizeof(param.v0001), 5000)) {<=
/span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; g_meta_com_id =3D param.v0001.usb_=
type;</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=
 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp=
; &nbsp; &nbsp; &nbsp; print("md_type[0] =3D %d \n", param.v0001.=
md0_type);</span></div><div style=3D"color: rgb(255, 0, 0); font-=
size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">=
&nbsp; &nbsp; &nbsp; &nbsp; print("md_type[1] =3D %d \n", param.v=
0001.md1_type);</span></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">#if CFG_BOOT_ARGUMENT</span></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-siz=
e: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; bootarg.md_type[0] =3D=20=
param.v0001.md0_type;</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=20=
0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; bootarg.md_type[1] =3D par=
am.v0001.md1_type;</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">#endif</span></div><div style=3D"color: rgb(255, 0, 0); f=
ont-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=20=
font-size: 0.867rem;">#endif</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; comm-&gt;send((u8*)=
META_STR_ACK, strlen(META_STR_ACK));</span></div><div style=3D"co=
lor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"=
><br></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005=
px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=
 style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#if CFG_WORL=
D_PHONE_SUPPORT</span></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; &nbsp; &nbsp; wait_for_discon(comm, 1000);</span=
></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=20=
line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#endif</span></d=
iv><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line=
-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=20=
&nbsp; g_boot_mode =3D META_BOOT;</span></div><div style=3D"color=
: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=
 font-size: 0.867rem;">&nbsp; &nbsp; } else if (CMD_MATCH(cmd, FA=
CTORY_STR_REQ)) {</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">&nbsp; &nbsp; &nbsp; &nbsp; para_t param;</span></div><div=
 style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height=
: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-=
size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">=
&nbsp; &nbsp; &nbsp; &nbsp; /* "FACTFACT" */</span></div><div sty=
le=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20=
.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rg=
b(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if=20=
(attr &amp; CMD_HNDL_ATTR_COM_FORBIDDEN)</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; goto forbidden;</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><br></div><div=
 style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height=
: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;=
 if (0 =3D=3D comm-&gt;recv((u8*)&amp;param.v0001, sizeof(param.v=
0001), 5)) {</span></div><div style=3D"color: rgb(255, 0, 0); fon=
t-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"=
data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;=
">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_meta_com_id =3D par=
am.v0001.usb_type;</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div style=3D"c=
olor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;=
"><br></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbs=
p; &nbsp; &nbsp; comm-&gt;send((u8*)FACTORY_STR_ACK, strlen(FACTO=
RY_STR_ACK));</span></div><div style=3D"color: rgb(255, 0, 0); fo=
nt-size: 13.005px; line-height: 20.808px;"><br></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; g_boot_m=
ode =3D FACTORY_BOOT;</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=20=
0.867rem;">&nbsp; &nbsp; } else if (CMD_MATCH(cmd, META_ADV_REQ))=
 {</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13=
.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &=
nbsp; &nbsp; &nbsp; /* "ADVEMETA" */</span></div><div style=3D"co=
lor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"=
><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=20=
0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if (attr &a=
mp; CMD_HNDL_ATTR_COM_FORBIDDEN)</span></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=20=
font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g=
oto forbidden;</span></div><div style=3D"color: rgb(255, 0, 0); f=
ont-size: 13.005px; line-height: 20.808px;"><br></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; comm-&gt=
;send((u8*)META_ADV_ACK, strlen(META_ADV_ACK));</span></div><div=20=
style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=
 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-s=
ize: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&=
nbsp; &nbsp; &nbsp; &nbsp; wait_for_discon(comm, 1000);</span></d=
iv><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line=
-height: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">&nbsp; &nbsp; &nbsp; &nbsp; g_boot_mode =3D ADVMETA_BOOT;<=
/span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbs=
p; } else if (CMD_MATCH(cmd, ATE_STR_REQ)) {</span></div><div sty=
le=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20=
.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rg=
b(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; par=
a_t param;</span></div><div style=3D"color: rgb(255, 0, 0); font-=
size: 13.005px; line-height: 20.808px;"><br></div><div style=3D"c=
olor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;=
"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=
 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; /* "FACTOR=
YM" */</span></div><div style=3D"color: rgb(255, 0, 0); font-size=
: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-w=
iz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbs=
p; &nbsp; &nbsp; &nbsp; if (attr &amp; CMD_HNDL_ATTR_COM_FORBIDDE=
N)</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13=
.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; goto forbidden;</span></div><di=
v style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heigh=
t: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font=
-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;"=
>&nbsp; &nbsp; &nbsp; &nbsp; if (0 =3D=3D comm-&gt;recv((u8*)&amp=
;param.v0001, sizeof(param.v0001), 5)) {</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; g_meta_com_id =3D param.v0001.usb_type;</span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }<=
/span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><br></div><div style=3D"color: rgb(2=
55, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-s=
ize: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; comm-&gt;send((u8*)AT=
E_STR_ACK, strlen(ATE_STR_ACK));</span></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br=
></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=20=
line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &n=
bsp; &nbsp; g_boot_mode =3D ATE_FACTORY_BOOT;</span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; } else if (CMD_M=
ATCH(cmd, FB_STR_REQ)) {</span></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></div><=
div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-hei=
ght: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"co=
lor: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; /* "FASTBO=
OT" */</span></div><div style=3D"color: rgb(255, 0, 0); font-size=
: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-w=
iz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbs=
p; &nbsp; comm-&gt;send((u8 *)FB_STR_ACK, strlen(FB_STR_ACK));</s=
pan></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005p=
x; line-height: 20.808px;"><br></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-siz=
e: 0.867rem;">&nbsp; &nbsp; g_boot_mode =3D FASTBOOT;</span></div=
><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-h=
eight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; } else {=
</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.0=
05px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nb=
sp; &nbsp; &nbsp; print("%s unknown received: \'%s\'\n", MOD, cmd=
-&gt;data);</span></div><div style=3D"color: rgb(255, 0, 0); font=
-size: 13.005px; line-height: 20.808px;"><br></div><div style=3D"=
color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0=
, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; return FA=
LSE;</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=20=
13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz=
-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp;=
 &nbsp; }</span></div><div style=3D"color: rgb(255, 0, 0); font-s=
ize: 13.005px; line-height: 20.808px;"><br></div><div style=3D"co=
lor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"=
><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=20=
0); font-size: 0.867rem;">&nbsp; &nbsp; print("%s '%s' received!\=
n", MOD, cmd-&gt;data);</span></div><div style=3D"color: rgb(255,=
 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></div><d=
iv style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heig=
ht: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"col=
or: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; return TRUE=
;</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><br></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">forbidden:</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">&nbsp; &nbsp; comm-&gt;send((u8*)META_FORBIDDEN=
_ACK, strlen(META_FORBIDDEN_ACK));</span></div><div style=3D"colo=
r: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><=
span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0)=
; font-size: 0.867rem;">&nbsp; &nbsp; print("%s '%s' is forbidden=
!\n", MOD, cmd-&gt;data);</span></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-si=
ze: 0.867rem;">&nbsp; &nbsp; return FALSE;</span></div><div style=
=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.8=
08px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(=
0, 0, 0); font-size: 0.867rem;">}</span></div><div style=3D"color=
: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><b=
r></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=
 line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">static int bldr=
_handshake(struct bldr_command_handler *handler)</span></div><div=
 style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height=
: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 0); font-size: 0.867rem;">{</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; boot_mode_t mode =3D 0=
;</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &n=
bsp; bool isSBC =3D 0;</span></div><div style=3D"color: rgb(255,=20=
0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=
 0.867rem;">&nbsp; &nbsp; int isLocked =3D 0;</span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-siz=
e: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-=
wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#if=
def MTK_SECURITY_SW_SUPPORT</span></div><div style=3D"color: rgb(=
255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-=
size: 0.867rem;">&nbsp; &nbsp; /* get mode type */</span></div><d=
iv style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heig=
ht: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"col=
or: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; mode =3D se=
clib_brom_meta_mode();</span></div><div style=3D"color: rgb(255,=20=
0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=
 0.867rem;">&nbsp; &nbsp; isSBC =3D seclib_sbc_enabled();</span><=
/div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; li=
ne-height: 20.808px;"><span class=3D"Apple-tab-span" style=3D"whi=
te-space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"colo=
r: rgb(0, 0, 0); font-size: 0.867rem;">	</span></span><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-siz=
e: 0.867rem;">BOOTING_TIME_PROFILING_LOG("seclib_brom_meta_mode")=
;</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#endif</s=
pan></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005p=
x; line-height: 20.808px;"><br></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-siz=
e: 0.867rem;">#ifdef MTK_FACTORY_LOCK_SUPPORT</span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; seclib_query_fac=
tory_lock(&amp;isLocked);</span></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-si=
ze: 0.867rem;">#endif</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><br></div><div=
 style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height=
: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; switch (mode)=
 {</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13=
.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &=
nbsp; case NORMAL_BOOT:</span></div><div style=3D"color: rgb(255,=
 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-w=
iz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size=
: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; /* ---------------------=
---- */</span></div><div style=3D"color: rgb(255, 0, 0); font-siz=
e: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-=
wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nb=
sp; &nbsp; &nbsp; &nbsp; /* security check &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp;*/</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=20=
0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; /* -----------------------=
-- */</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=
 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp=
; &nbsp; &nbsp; &nbsp; if (TRUE =3D=3D isSBC) {</span></div><div=20=
style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=
 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=
 rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; handler-&gt;attr |=3D CMD_HNDL_ATTR_COM_FORBIDDEN;<=
/span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; print("%s META DIS\n", MOD);</span=
></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=20=
line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &n=
bsp; &nbsp; }</span></div><div style=3D"color: rgb(255, 0, 0); fo=
nt-size: 13.005px; line-height: 20.808px;"><br></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if (!isL=
ocked) {</span></div><div style=3D"color: rgb(255, 0, 0); font-si=
ze: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print("%s Tool connection=
 is unlocked\n", MOD);</span></div><div style=3D"color: rgb(255,=20=
0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=
 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #if CFG_USB=
_TOOL_HANDSHAKE</span></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (TRUE =3D=3D usb_=
handshake(handler))</span></div><div style=3D"color: rgb(255, 0,=20=
0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.=
867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
g_meta_com_type =3D META_USB_COM;</span></div><div style=3D"color=
: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><s=
pan class=3D"Apple-tab-span" style=3D"white-space:pre"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-si=
ze: 0.867rem;">		</span></span><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;"> &nbsp; &=
nbsp;BOOTING_TIME_PROFILING_LOG("USB handshake");</span></div><di=
v style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heigh=
t: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"colo=
r: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; #endif</span></div><div style=3D"color: rgb(255,=20=
0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=
 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #if CFG_UAR=
T_TOOL_HANDSHAKE</span></div><div style=3D"color: rgb(255, 0, 0);=
 font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=
=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867=
rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (TRUE =3D=3D u=
art_handshake(handler))</span></div><div style=3D"color: rgb(255,=
 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-w=
iz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size=
: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; g_meta_com_type =3D META_UART_COM;</span></div><div style=3D"=
color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px=
;"><span class=3D"Apple-tab-span" style=3D"white-space:pre"><span=
 data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fo=
nt-size: 0.867rem;">		</span></span><span data-wiz-span=3D"data-w=
iz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;"> &nb=
sp; &nbsp;BOOTING_TIME_PROFILING_LOG("UART handshake");</span></d=
iv><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line=
-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; #endif</span></div><div style=3D"color: rgb(=
255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-=
size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div s=
tyle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=20=
20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=20=
rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; e=
lse {</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=
 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print("%s Tool connection is=
 locked\n", MOD);</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bootarg.sec_limi=
t.magic_num =3D SEC_LIMIT_MAGIC;</span></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=20=
font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b=
ootarg.sec_limit.forbid_mode =3D F_FACTORY_MODE;</span></div><div=
 style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height=
: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;=
 }</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13=
.005px; line-height: 20.808px;"><br></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fon=
t-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; break;</span></div=
><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-h=
eight: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; case META_BOOT:</span></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=20=
font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; print("%s BR ME=
TA BOOT\n", MOD);</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">&nbsp; &nbsp; &nbsp; &nbsp; g_boot_mode =3D META_BOOT;</sp=
an></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px=
; line-height: 20.808px;"><br></div><div style=3D"color: rgb(255,=
 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-w=
iz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size=
: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if(!usb_cable_in())</spa=
n></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=
 line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; g_meta_com_type =3D META_UART_COM;</sp=
an></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px=
; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp;=20=
&nbsp; &nbsp; else</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_meta_com_type=
 =3D META_USB_COM;</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">&nbsp; &nbsp; &nbsp; &nbsp; break;</span></div><div style=
=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.8=
08px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-size:=20=
13.005px; line-height: 20.808px;"><br></div><div style=3D"color:=20=
rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); f=
ont-size: 0.867rem;">&nbsp; &nbsp; case FACTORY_BOOT:</span></div=
><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-h=
eight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &=
nbsp; print("%s BR FACTORY BOOT\n", MOD);</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; g_boot_m=
ode =3D FACTORY_BOOT;</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><br></div><div=
 style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height=
: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;=
 if(!usb_cable_in())</span></div><div style=3D"color: rgb(255, 0,=
 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-=
span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0=
.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_meta_com_ty=
pe =3D META_UART_COM;</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=20=
0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; else</span></div><div styl=
e=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.=
808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb=
(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; g_meta_com_type =3D META_USB_COM;</span></div><div styl=
e=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.=
808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb=
(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; brea=
k;</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13=
.005px; line-height: 20.808px;"><br></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></=
div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; lin=
e-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; case AD=
VMETA_BOOT:</span></div><div style=3D"color: rgb(255, 0, 0); font=
-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;"=
>&nbsp; &nbsp; &nbsp; &nbsp; print("%s BR ADVMETA BOOT\n", MOD);<=
/span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbs=
p; &nbsp; &nbsp; g_boot_mode =3D ADVMETA_BOOT;</span></div><div s=
tyle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=20=
20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-si=
ze: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&n=
bsp; &nbsp; &nbsp; &nbsp; if(!usb_cable_in())</span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; g_meta_com_type =3D META_UART_COM;</span></div><div s=
tyle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=20=
20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=20=
rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; e=
lse</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 1=
3.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-=
span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_meta_com_type =3D META_USB_C=
OM;</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 1=
3.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-=
span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp;=20=
&nbsp; &nbsp; &nbsp; break;</span></div><div style=3D"color: rgb(=
255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></di=
v><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-=
height: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0);=
 font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=
=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867=
rem;">&nbsp; &nbsp; case ATE_FACTORY_BOOT:</span></div><div style=
=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.8=
08px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(=
0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; print=
("%s BR ATE FACTORY BOOT\n", MOD);</span></div><div style=3D"colo=
r: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><=
span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0)=
; font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; g_boot_mode =3D=
 ATE_FACTORY_BOOT;</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><br></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if=
(!usb_cable_in())</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; g_meta_com_type=20=
=3D META_UART_COM;</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">&nbsp; &nbsp; &nbsp; &nbsp; else</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; g_meta_com_type =3D META_USB_COM;</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; break;</=
span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005=
px; line-height: 20.808px;"><br></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></div>=
<div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-he=
ight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"c=
olor: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; default:<=
/span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbs=
p; &nbsp; &nbsp; print("%s UNKNOWN MODE\n", MOD);</span></div><di=
v style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heigh=
t: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"colo=
r: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp=
; break;</span></div><div style=3D"color: rgb(255, 0, 0); font-si=
ze: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&n=
bsp; &nbsp; }</span></div><div style=3D"color: rgb(255, 0, 0); fo=
nt-size: 13.005px; line-height: 20.808px;"><br></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; return 0;</span></div>=
<div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-he=
ight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"c=
olor: rgb(0, 0, 0); font-size: 0.867rem;">}</span></div><div styl=
e=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.=
808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-size:=
 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">stati=
c void bldr_wait_forever(void)</span></div><div style=3D"color: r=
gb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=
 data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fo=
nt-size: 0.867rem;">{</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=20=
0.867rem;">&nbsp; &nbsp; /* prevent wdt timeout and clear usbdl f=
lag */</span></div><div style=3D"color: rgb(255, 0, 0); font-size=
: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-w=
iz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbs=
p; &nbsp; mtk_wdt_disable();</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">&nbsp; &nbsp; platform_safe_mode(0, 0);</span><=
/div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; li=
ne-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=
=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; prin=
t("bldr_wait_forever\n");</span></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-si=
ze: 0.867rem;">&nbsp; &nbsp; while(1);</span></div><div style=3D"=
color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0=
, 0); font-size: 0.867rem;">}</span></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></=
div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; lin=
e-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">static int bldr_load_=
images(u32 *jump_addr)</span></div><div style=3D"color: rgb(255,=20=
0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=
 0.867rem;">{</span></div><div style=3D"color: rgb(255, 0, 0); fo=
nt-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; int ret =3D 0;</span></div><div style=3D"color:=20=
rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); f=
ont-size: 0.867rem;">&nbsp; &nbsp; blkdev_t *bootdev;</span></div=
><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-h=
eight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; u32 addr=
 =3D 0;</span></div><div style=3D"color: rgb(255, 0, 0); font-siz=
e: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-=
wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nb=
sp; &nbsp; char *name;</span></div><div style=3D"color: rgb(255,=20=
0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=
 0.867rem;">&nbsp; &nbsp; u32 size =3D 0;</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; u32 spare0 =3D 0;</spa=
n></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=
 line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; u=
32 spare1 =3D 0;</span></div><div style=3D"color: rgb(255, 0, 0);=
 font-size: 13.005px; line-height: 20.808px;"><br></div><div styl=
e=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.=
808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-size:=
 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp=
; &nbsp; if (NULL =3D=3D (bootdev =3D blkdev_get(CFG_BOOT_DEV)))=20=
{</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &n=
bsp; &nbsp; &nbsp; print("%s can't find boot device(%d)\n", MOD,=20=
CFG_BOOT_DEV);</span></div><div style=3D"color: rgb(255, 0, 0); f=
ont-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; &nbsp; &nbsp; /* FIXME, should change to global=20=
error code */</span></div><div style=3D"color: rgb(255, 0, 0); fo=
nt-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; &nbsp; &nbsp; return -1;</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; }</span></div><div sty=
le=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20=
.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-size=
: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-w=
iz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#if=20=
CFG_LOAD_MD_ROM</span></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">if (1 =3D=3D aarch64_slt_done())</span></div><div style=3D"col=
or: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;">=
<span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0=
); font-size: 0.867rem;">{</span></div><div style=3D"color: rgb(2=
55, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-s=
ize: 0.867rem;">&nbsp; &nbsp; /* do not check the correctness */<=
/span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbs=
p; addr =3D CFG_MD1_ROM_MEMADDR;</span></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=20=
font-size: 0.867rem;">&nbsp; &nbsp; //bldr_load_part(PART_MD1_ROM=
, bootdev, &amp;addr, &amp;size);</span></div><div style=3D"color=
: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=
 font-size: 0.867rem;">&nbsp; &nbsp; bldr_load_part("MD1_ROM", bo=
otdev, &amp;addr, &amp;size);</span></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></=
div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; lin=
e-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; addr =3D=
 CFG_MD2_ROM_MEMADDR;</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=20=
0.867rem;">&nbsp; &nbsp; //bldr_load_part(PART_MD2_ROM, bootdev,=20=
&amp;addr, &amp;size);</span></div><div style=3D"color: rgb(255,=20=
0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=
 0.867rem;">&nbsp; &nbsp; bldr_load_part("MD2_ROM", bootdev, &amp=
;addr, &amp;size);</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">}</span></div><div style=3D"color: rgb(255, 0, 0); font-s=
ize: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#=
endif</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=
 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#if C=
FG_LOAD_MD_RAMDISK</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">if (1 =3D=3D aarch64_slt_done())</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">{</span></div><div style=3D"color: r=
gb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=
 data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fo=
nt-size: 0.867rem;">&nbsp; &nbsp; /* do not check the correctness=
 */</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 1=
3.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-=
span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp;=20=
&nbsp; addr =3D CFG_MD1_RAMDISK_MEMADDR;</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; bldr_load_part("MD1_RA=
MDISK", bootdev, &amp;addr, &amp;size);</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><br></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &n=
bsp; addr =3D CFG_MD2_RAMDISK_MEMADDR;</span></div><div style=3D"=
color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0=
, 0); font-size: 0.867rem;">&nbsp; &nbsp; bldr_load_part("MD2_RAM=
DISK", bootdev, &amp;addr, &amp;size);</span></div><div style=3D"=
color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0=
, 0); font-size: 0.867rem;">}</span></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fon=
t-size: 0.867rem;">#endif</span></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></div>=
<div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-he=
ight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"c=
olor: rgb(0, 0, 0); font-size: 0.867rem;">#if CFG_LOAD_MD_DSP</sp=
an></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px=
; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">if (1 =3D=3D a=
arch64_slt_done())</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">{</span></div><div style=3D"color: rgb(255, 0, 0); font-s=
ize: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&=
nbsp; &nbsp; addr =3D CFG_MD_DSP_MEMADDR;</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; bldr_load_part("MD_DSP=
",bootdev, &amp;addr, &amp;size);</span></div><div style=3D"color=
: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=
 font-size: 0.867rem;">}</span></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-siz=
e: 0.867rem;">#endif</span></div><div style=3D"color: rgb(255, 0,=
 0); font-size: 13.005px; line-height: 20.808px;"><br></div><div=20=
style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=
 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=
 rgb(0, 0, 0); font-size: 0.867rem;">#if CFG_LOAD_SLT_MD_RAMDISK<=
/span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">if (1 =3D=3D=
 aarch64_slt_done())</span></div><div style=3D"color: rgb(255, 0,=
 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-=
span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0=
.867rem;">{</span></div><div style=3D"color: rgb(255, 0, 0); font=
-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;"=
>&nbsp; &nbsp; /* do not check the correctness */</span></div><di=
v style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heigh=
t: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"colo=
r: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; addr =3D CFG=
_MD1_RAMDISK_MEMADDR;</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=20=
0.867rem;">&nbsp; &nbsp; //bldr_load_part(PART_FDD_MD_RAMDISK, bo=
otdev, &amp;addr, &amp;size);</span></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fon=
t-size: 0.867rem;">&nbsp; &nbsp; bldr_load_part("FDD_MD_RAMDISK",=
 bootdev, &amp;addr, &amp;size);</span></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br=
></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=20=
line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; ad=
dr =3D CFG_MD1_RAMDISK_MEMADDR;</span></div><div style=3D"color:=20=
rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); f=
ont-size: 0.867rem;">&nbsp; &nbsp; //bldr_load_part(PART_TDD_ONLY=
_MD_RAMDISK, bootdev, &amp;addr, &amp;size);</span></div><div sty=
le=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20=
.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rg=
b(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; bldr_load_part("T=
DD_ONLY_MD_RAMDISK", bootdev, &amp;addr, &amp;size);</span></div>=
<div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-he=
ight: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); f=
ont-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; addr =3D CFG_MD1_RAMDISK_MEMADDR;</span></div><d=
iv style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heig=
ht: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"col=
or: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; //bldr_load=
_part(PART_TDD2G_MD_RAMDISK, bootdev, &amp;addr, &amp;size);</spa=
n></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=
 line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; b=
ldr_load_part("TDD2G_MD_RAMDISK", bootdev, &amp;addr, &amp;size);=
</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.0=
05px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">}</span></=
div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; lin=
e-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">#endif</span></div><d=
iv style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heig=
ht: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); fon=
t-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"=
data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;=
">#if CFG_LOAD_SLT_MD_DSP</span></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-si=
ze: 0.867rem;">if (1 =3D=3D aarch64_slt_done())</span></div><div=20=
style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=
 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=
 rgb(0, 0, 0); font-size: 0.867rem;">{</span></div><div style=3D"=
color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0=
, 0); font-size: 0.867rem;">&nbsp; &nbsp; addr =3D CFG_MD_DSP_MEM=
ADDR;</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=
 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp=
; &nbsp; //bldr_load_part(PART_FDD_MD_DSP,bootdev, &amp;addr, &am=
p;size);</span></div><div style=3D"color: rgb(255, 0, 0); font-si=
ze: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&n=
bsp; &nbsp; bldr_load_part("FDD_MD_DSP",bootdev, &amp;addr, &amp;=
size);</span></div><div style=3D"color: rgb(255, 0, 0); font-size=
: 13.005px; line-height: 20.808px;"><br></div><div style=3D"color=
: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=
 font-size: 0.867rem;">&nbsp; &nbsp; addr =3D CFG_MD_DSP_MEMADDR;=
</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.0=
05px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nb=
sp; //bldr_load_part(PART_TDD_ONLY_MD_DSP,bootdev, &amp;addr, &am=
p;size);</span></div><div style=3D"color: rgb(255, 0, 0); font-si=
ze: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&n=
bsp; &nbsp; bldr_load_part("TDD_ONLY_MD_DSP",bootdev, &amp;addr,=20=
&amp;size);</span></div><div style=3D"color: rgb(255, 0, 0); font=
-size: 13.005px; line-height: 20.808px;"><br></div><div style=3D"=
color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0=
, 0); font-size: 0.867rem;">&nbsp; &nbsp; addr =3D CFG_MD_DSP_MEM=
ADDR;</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=
 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp=
; &nbsp; //bldr_load_part(PART_TDD2G_MD_DSP,bootdev, &amp;addr, &=
amp;size);</span></div><div style=3D"color: rgb(255, 0, 0); font-=
size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">=
&nbsp; &nbsp; bldr_load_part("TDD2G_MD_DSP",bootdev, &amp;addr, &=
amp;size);</span></div><div style=3D"color: rgb(255, 0, 0); font-=
size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">=
}</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#endif</s=
pan></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005p=
x; line-height: 20.808px;"><br></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-siz=
e: 0.867rem;">#if CFG_LOAD_CONN_SYS</span></div><div style=3D"col=
or: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;">=
<span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0=
); font-size: 0.867rem;">if (1 =3D=3D aarch64_slt_done())</span><=
/div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; li=
ne-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=
=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">{</span></div><div=
 style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height=
: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; addr =3D CFG_=
CONN_SYS_MEMADDR;</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">&nbsp; &nbsp; //bldr_load_part(PART_CONN_SYS,bootdev, &amp=
;addr, &amp;size);</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">&nbsp; &nbsp; bldr_load_part("CONN_SYS",bootdev, &amp;add=
r, &amp;size);</span></div><div style=3D"color: rgb(255, 0, 0); f=
ont-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">}</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=20=
13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz=
-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#endif=
</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.0=
05px; line-height: 20.808px;"><br></div><div style=3D"color: rgb(=
255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-=
size: 0.867rem;">#if CFG_LOAD_SLT_MD</span></div><div style=3D"co=
lor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"=
><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=20=
0); font-size: 0.867rem;">if (1 =3D=3D aarch64_slt_done())</span>=
</div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; l=
ine-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">{</span></div><di=
v style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heigh=
t: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"colo=
r: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; addr =3D CFG=
_FDD_MD_ROM_MEMADDR;</span></div><div style=3D"color: rgb(255, 0,=
 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-=
span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0=
.867rem;">&nbsp; &nbsp; //bldr_load_part(PART_HVT_MD_ROM, bootdev=
, &amp;addr, &amp;size);</span></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-siz=
e: 0.867rem;">&nbsp; &nbsp; bldr_load_part("HVT_MD_ROM", bootdev,=
 &amp;addr, &amp;size);</span></div><div style=3D"color: rgb(255,=
 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></div><d=
iv style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heig=
ht: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"col=
or: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; addr =3D CF=
G_FDD_MD_ROM_MEMADDR;</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=20=
0.867rem;">&nbsp; &nbsp; //bldr_load_part(PART_FDD_MD_ROM, bootde=
v, &amp;addr, &amp;size);</span></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-si=
ze: 0.867rem;">&nbsp; &nbsp; bldr_load_part("FDD_MD_ROM", bootdev=
, &amp;addr, &amp;size);</span></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></div><=
div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-hei=
ght: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"co=
lor: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; addr =3D C=
FG_FDD_MD_ROM_MEMADDR;</span></div><div style=3D"color: rgb(255,=20=
0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=
 0.867rem;">&nbsp; &nbsp; //bldr_load_part(PART_TDD_ONLY_ROM, boo=
tdev, &amp;addr, &amp;size);</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">&nbsp; &nbsp; bldr_load_part("TDD_ONLY_ROM", bo=
otdev, &amp;addr, &amp;size);</span></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></=
div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; lin=
e-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; addr =3D=
 CFG_FDD_MD_ROM_MEMADDR;</span></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-siz=
e: 0.867rem;">&nbsp; &nbsp; //bldr_load_part(PART_TDD2G_MD_ROM, b=
ootdev, &amp;addr, &amp;size);</span></div><div style=3D"color: r=
gb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=
 data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fo=
nt-size: 0.867rem;">&nbsp; &nbsp; bldr_load_part("TDD2G_MD_ROM",=20=
bootdev, &amp;addr, &amp;size);</span></div><div style=3D"color:=20=
rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); f=
ont-size: 0.867rem;">}</span></div><div style=3D"color: rgb(255,=20=
0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=
 0.867rem;">#endif</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><br></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">#if CFG_LOAD_SLT_MD32</span></=
div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; lin=
e-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">if (1 =3D=3D aarch64_=
slt_done())</span></div><div style=3D"color: rgb(255, 0, 0); font=
-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;"=
>{</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13=
.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &=
nbsp; u32 p_addr;</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">&nbsp; &nbsp; u32 d_addr;</span></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br=
></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=20=
line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; //=
SPM power on MD32 and MD32 SRAM</span></div><div style=3D"color:=20=
rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); f=
ont-size: 0.867rem;">&nbsp; &nbsp; DRV_WriteReg32(0x10006000, 0x0=
b160001);</span></div><div style=3D"color: rgb(255, 0, 0); font-s=
ize: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&=
nbsp; &nbsp; DRV_WriteReg32(0x100062c8, 0xfffffff0);</span></div>=
<div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-he=
ight: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); f=
ont-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; p_addr =3D CFG_MD32P_ROM_MEMADDR;</span></div><d=
iv style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heig=
ht: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"col=
or: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; //bldr_load=
_part(PART_MD32_P,bootdev, &amp;p_addr, &amp;size);</span></div><=
div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-hei=
ght: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"co=
lor: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; bldr_load_=
part("MD32_P",bootdev, &amp;p_addr, &amp;size);</span></div><div=20=
style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=
 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-s=
ize: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&=
nbsp; &nbsp; d_addr =3D CFG_MD32D_ROM_MEMADDR;</span></div><div s=
tyle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=20=
20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=20=
rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; //bldr_load_par=
t(PART_MD32_D,bootdev, &amp;d_addr, &amp;size);</span></div><div=20=
style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=
 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=
 rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; bldr_load_part=
("MD32_D",bootdev, &amp;d_addr, &amp;size);</span></div><div styl=
e=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.=
808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb=
(0, 0, 0); font-size: 0.867rem;">}</span></div><div style=3D"colo=
r: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><=
br></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px=
; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#endif</span><=
/div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; li=
ne-height: 20.808px;"><br></div><div style=3D"color: rgb(255, 0,=20=
0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.=
867rem;">#if CFG_LOAD_AP_ROM</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">if (1 =3D=3D aarch64_slt_done())</span></div><d=
iv style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heig=
ht: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"col=
or: rgb(0, 0, 0); font-size: 0.867rem;">{</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; u32 p_addr;</span></di=
v><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-=
height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; addr =3D=
 CFG_AP_ROM_MEMADDR;</span></div><div style=3D"color: rgb(255, 0,=
 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-=
span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0=
.867rem;">&nbsp; &nbsp; //ret =3D bldr_load_part(PART_AP_ROM, boo=
tdev, &amp;addr, &amp;size);</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">&nbsp; &nbsp; ret =3D bldr_load_part("AP_ROM",=20=
bootdev, &amp;addr, &amp;size);</span></div><div style=3D"color:=20=
rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); f=
ont-size: 0.867rem;">&nbsp; &nbsp; if (ret)</span></div><div styl=
e=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.=
808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb=
(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; return ret;</span>=
</div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; l=
ine-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; *ju=
mp_addr =3D addr;</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">}</span></div><div style=3D"color: rgb(255, 0, 0); font-si=
ze: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#e=
lif CFG_LOAD_UBOOT</span></div><div style=3D"color: rgb(255, 0, 0=
); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">&nbsp; &nbsp; name =3D check_active_part("lk", "lk2");</s=
pan></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005p=
x; line-height: 20.808px;"><br></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-siz=
e: 0.867rem;">&nbsp; &nbsp; addr =3D CFG_UBOOT_MEMADDR;</span></d=
iv><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line=
-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; ret =3D=
 bldr_load_part(name, bootdev, &amp;addr, &amp;size);</span></div=
><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-h=
eight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; if (ret)=
 {</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13=
.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &=
nbsp; &nbsp; &nbsp;addr =3D CFG_UBOOT_MEMADDR;</span></div><div s=
tyle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=20=
20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=20=
rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;re=
t =3D bldr_load_part("lk2", bootdev, &amp;addr, &amp;size);</span=
></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=20=
line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &n=
bsp; &nbsp;if (ret)</span></div><div style=3D"color: rgb(255, 0,=20=
0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.=
867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return ret;</sp=
an></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px=
; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp;=20=
}</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &n=
bsp; *jump_addr =3D addr;</span></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-si=
ze: 0.867rem;">#endif</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><br></div><div=
 style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height=
: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 0); font-size: 0.867rem;">#if CFG_LOAD_SLT_AARCH64_KE=
RNEL</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=20=
13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz=
-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">if (0=20=
=3D=3D aarch64_slt_done())</span></div><div style=3D"color: rgb(2=
55, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-s=
ize: 0.867rem;">{</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">&nbsp; &nbsp; addr =3D CFG_BOOTA64_MEMADDR;</span></div><d=
iv style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heig=
ht: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"col=
or: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; ret =3D bld=
r_load_part("boota64", bootdev, &amp;addr, &amp;size);</span></di=
v><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-=
height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; addr =3D=
 CFG_DTB_MEMADDR;</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">&nbsp; &nbsp; ret =3D bldr_load_part("DTB", bootdev, &amp;=
addr, &amp;size);</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">&nbsp; &nbsp; addr =3D CFG_IMAGE_AARCH64_MEMADDR;</span></=
div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; lin=
e-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; ret =3D=
 bldr_load_part("Image_aarch64", bootdev, &amp;addr, &amp;size);<=
/span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">}</span></d=
iv><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line=
-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">#endif</span></div><d=
iv style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heig=
ht: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); fon=
t-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"=
data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;=
">#if CFG_ATF_SUPPORT</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=20=
0.867rem;">&nbsp; &nbsp; name =3D check_active_part("tee1", "tee2=
");</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 1=
3.005px; line-height: 20.808px;"><br></div><div style=3D"color: r=
gb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=
 data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fo=
nt-size: 0.867rem;">&nbsp; &nbsp; addr =3D CFG_ATF_ROM_MEMADDR;</=
span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005=
px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=
 style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp=
; ret =3D bldr_load_tee_part(name, bootdev, &amp;addr, 0, &amp;si=
ze);</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=20=
13.005px; line-height: 20.808px;"><br></div><div style=3D"color:=20=
rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); f=
ont-size: 0.867rem;">&nbsp; &nbsp; if (ret) {</span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; ad=
dr =3D CFG_ATF_ROM_MEMADDR;</span></div><div style=3D"color: rgb(=
255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-=
size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; ret =3D bldr_load_te=
e_part("tee2", bootdev, &amp;addr, 0, &amp;size);</span></div><di=
v style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-heigh=
t: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"colo=
r: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp=
; if (ret)</span></div><div style=3D"color: rgb(255, 0, 0); font-=
size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">=
&nbsp; &nbsp; </span><span class=3D"Apple-tab-span" style=3D"whit=
e-space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 0); font-size: 0.867rem;">	</span></span><span data-w=
iz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size=
: 0.867rem;"> &nbsp; &nbsp;return ret;</span></div><div style=3D"=
color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0=
, 0); font-size: 0.867rem;">&nbsp; &nbsp; }</span></div><div styl=
e=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.=
808px;"><br></div><div style=3D"color: rgb(255, 0, 0); font-size:=
 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp=
; &nbsp; print("%s bldr load tee part ret=3D0x%x, addr=3D0x%x\n",=
 MOD, ret, addr);</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><br></div><div sty=
le=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20=
.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rg=
b(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; addr =3D CFG_BOOT=
IMG_HEADER_MEMADDR;</span></div><div style=3D"color: rgb(255, 0,=20=
0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.=
867rem;">&nbsp; &nbsp; size =3D 0x100;</span></div><div style=3D"=
color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0=
, 0); font-size: 0.867rem;">&nbsp; &nbsp; bldr_load_bootimg_heade=
r("boot", bootdev, &amp;addr, 0, &amp;size);</span></div><div sty=
le=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20=
.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rg=
b(0, 0, 0); font-size: 0.867rem;">// &nbsp; &nbsp;ret =3D bldr_lo=
ad_bootimg_header("boot", bootdev, &amp;addr, 0, &amp;size);</spa=
n></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=
 line-height: 20.808px;"><br></div><div style=3D"color: rgb(255,=20=
0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=
 0.867rem;">&nbsp; &nbsp; print("%s part_load_images ret=3D0x%x\n=
", MOD, ret);</span></div><div style=3D"color: rgb(255, 0, 0); fo=
nt-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">#endif</span></div><div style=3D"color: rgb(255, 0, 0); font-s=
ize: 13.005px; line-height: 20.808px;"><br></div><div style=3D"co=
lor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"=
><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=20=
0); font-size: 0.867rem;">&nbsp; &nbsp; return ret;</span></div><=
div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-hei=
ght: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"co=
lor: rgb(0, 0, 0); font-size: 0.867rem;">}</span></div><div style=
=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.8=
08px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(=
0, 0, 0); font-size: 0.867rem;">void mt_usb_phy_recover(void);</s=
pan></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005p=
x; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">void mu3d_hal=
_rst_dev(void);</span></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">/*=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D*/</span></div><div style=3D"=
color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0=
, 0); font-size: 0.867rem;">/* GLOBAL FUNCTIONS &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */</span>=
</div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; l=
ine-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">/*=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D*/</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">void bldr_jump(u32 addr, u32 arg1, u32 arg2)</span></div><=
div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-hei=
ght: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"co=
lor: rgb(0, 0, 0); font-size: 0.867rem;">{</span></div><div style=
=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.8=
08px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(=
0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; platform_wdt_kick()=
;</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><br></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">&nbsp; &nbsp; /* disable preloader safe mode */=
</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.0=
05px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nb=
sp; platform_safe_mode(0, 0);</span></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></=
div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; lin=
e-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; print("=
\n%s jump to 0x%x\n", MOD, addr);</span></div><div style=3D"color=
: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=
 font-size: 0.867rem;">&nbsp; &nbsp; print("%s &lt;0x%x&gt;=3D0x%=
x\n", MOD, addr, *(u32*)addr);</span></div><div style=3D"color: r=
gb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=
 data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fo=
nt-size: 0.867rem;">&nbsp; &nbsp; print("%s &lt;0x%x&gt;=3D0x%x\n=
", MOD, addr + 4, *(u32*)(addr + 4));</span></div><div style=3D"c=
olor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;=
"><br></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbs=
p; jump(addr, arg1, arg2);</span></div><div style=3D"color: rgb(2=
55, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-s=
ize: 0.867rem;">}</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><br></div><div sty=
le=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20=
.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rg=
b(0, 0, 0); font-size: 0.867rem;">void bldr_jump64(u32 addr, u32=20=
arg1, u32 arg2)</span></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">{</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=20=
13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz=
-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp;=
 &nbsp; platform_wdt_kick();</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></d=
iv><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line=
-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; /* disa=
ble preloader safe mode */</span></div><div style=3D"color: rgb(2=
55, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-s=
ize: 0.867rem;">&nbsp; &nbsp; platform_safe_mode(0, 0);</span></d=
iv><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line=
-height: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">&nbsp; &nbsp; print("\n%s jump to 0x%x\n", MOD, addr);</sp=
an></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px=
; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp;=20=
print("%s &lt;0x%x&gt;=3D0x%x\n", MOD, addr, *(u32*)addr);</span>=
</div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; l=
ine-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; pri=
nt("%s &lt;0x%x&gt;=3D0x%x\n", MOD, addr + 4, *(u32*)(addr + 4));=
</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.0=
05px; line-height: 20.808px;"><br></div><div style=3D"color: rgb(=
255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-=
size: 0.867rem;">#if CFG_ATF_SUPPORT</span></div><div style=3D"co=
lor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"=
><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=20=
0); font-size: 0.867rem;">&nbsp; &nbsp; trustzone_jump(addr, arg1=
, arg2);</span></div><div style=3D"color: rgb(255, 0, 0); font-si=
ze: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#e=
lse</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 1=
3.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-=
span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp;=20=
&nbsp; print("%s trustzone is not supported!\n", MOD);</span></di=
v><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-=
height: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0);=
 font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=
=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867=
rem;">&nbsp; &nbsp; #if CFG_LOAD_SLT_AARCH64_KERNEL</span></div><=
div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-hei=
ght: 20.808px;"><span class=3D"Apple-tab-span" style=3D"white-spa=
ce:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb=
(0, 0, 0); font-size: 0.867rem;">	</span></span><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">print("%s jump to 64 bit SLT kernel!\n", MOD);</span></di=
v><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-=
height: 20.808px;"><span class=3D"Apple-tab-span" style=3D"white-=
space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=20=
rgb(0, 0, 0); font-size: 0.867rem;">	</span></span><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=20=
0.867rem;">jumparch64_slt();</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">&nbsp; &nbsp; #endif</span></div><div style=3D"=
color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px=
;"><br></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.0=
05px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#endif</sp=
an></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px=
; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">}</span></div>=
<div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-he=
ight: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); f=
ont-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">void main(u32 *arg) &nbsp;</span><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size:0.867rem;color:rgb(255, 0, 0)"><b><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>--&gt;=C8=EB=BF=DA=BA=AF=CA=FD</span></b></span></div><div style=
=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.8=
08px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(=
0, 0, 0); font-size: 0.867rem;">{</span></div><div style=3D"color=
: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=
 font-size: 0.867rem;">&nbsp; &nbsp; struct bldr_command_handler=20=
handler;</span></div><div style=3D"color: rgb(255, 0, 0); font-si=
ze: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&n=
bsp; &nbsp; u32 jump_addr, jump_arg;</span></div><div style=3D"co=
lor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"=
><br></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005=
px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=
 style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp=
; /* get the bldr argument */</span></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fon=
t-size: 0.867rem;">&nbsp; &nbsp; bldr_param =3D (bl_param_t *)*ar=
g;</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13=
.005px; line-height: 20.808px;"><br></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size:0.867rem;color=
:rgb(0, 0, 0)"><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">&nbsp; &nbsp; mtk_uart_init(UART_SRC_CLK_FRQ,=20=
CFG_LOG_BAUDRATE); &nbsp;</span><b><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 255); font-size: 0.867rem;">--&=
gt;uart=B3=F5=CA=BC=BB=AF=A3=AC=BF=AA=BB=FA=CA=B1=BA=F2=C1=AC=C9=CF=
=B4=AE=BF=DA=BC=B4=BF=C9=BF=B4=B5=BD=CF=E0=D3=A6=B5=C4=B4=AE=BF=DA=
=B5=F7=CA=D4=D0=C5=CF=A2</span></b></span></div><div style=3D"col=
or: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;">=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size:0.867rem=
;color:rgb(0, 0, 0)"><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp; bldr_pre_process(); &nbsp;</=
span><b><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb=
(0, 0, 255); font-size: 0.867rem;">--&gt;=C6=BD=CC=A8=D4=A4=B3=F5=
=CA=BC=BB=AF=A3=ACUART,GPIO,DRAM,TIMER,RTC,PMIC=B5=C8=B5=C4=B3=F5=
=CA=BC=BB=AF=D4=DA=D5=E2=C0=EF=CA=B5=CF=D6=A3=AC=D7=EE=B9=D8=BC=FC=
=B5=C4=CA=C7DRAM=B5=C4=B3=F5=CA=BC=BB=AF</span></b></span></div><=
div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-hei=
ght: 20.808px;"><br></div><div style=3D"color: rgb(255, 0, 0); fo=
nt-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; color: rgb(0, 0, 0)=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem;">&nbsp; &nbsp; #ifdef HW_INIT_ONLY &nbsp;</span><b><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
">--&gt;=D4=DAvendor/mediatek/proprietary/bootable/bootloader/pre=
loader/platform/mt8167/feature.mak=B6=A8=D2=E5=CE=AA=A3=BA</span>=
<span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(255, 0,=
 0);"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;">C_OPTION +=3D -DHW_INIT_ONLY</span><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 255); font-size: 0.867r=
em;">=A3=AC=B8=C3=B7=D6=D6=A7=D3=D0=D0=A7</span></span></span></b=
></span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &n=
bsp; bldr_wait_forever();</span></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-si=
ze: 0.867rem;">&nbsp; &nbsp; #endif</span></div><div style=3D"col=
or: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;">=
<br></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005p=
x; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp;=
 handler.priv =3D NULL;</span></div><div style=3D"color: rgb(255,=
 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-w=
iz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size=
: 0.867rem;">&nbsp; &nbsp; handler.attr =3D 0;</span></div><div s=
tyle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=20=
20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=20=
rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; handler.cb &nbs=
p; =3D bldr_cmd_handler;</span></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></div><=
div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-hei=
ght: 20.808px;"><span class=3D"Apple-tab-span" style=3D"white-spa=
ce:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb=
(0, 0, 0); font-size: 0.867rem;">	</span></span><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.8=
67rem;">BOOTING_TIME_PROFILING_LOG("before bldr_handshake");</spa=
n></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=
 line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem; color: rgb(0, 0, 0);"><b><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &=
nbsp; bldr_handshake(&amp;handler); &nbsp;</span><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"color: rgb(255, 0, 0); font-size:=20=
0.867rem;">--&gt;=D5=E2=C0=EF=BB=E1=B5=F7=D3=C3usb_handshake=BA=AF=
=CA=FD=BA=CDflash tool=B9=A4=BE=DF=BD=F8=D0=D0USB=CE=D5=CA=D6=A3=AC=
=C8=F4=B3=C9=B9=A6=BE=CDload DA=B2=A2=BD=F8=C8=EBdownload=C4=A3=CA=
=BD</span></b></span></div><div style=3D"color: rgb(255, 0, 0); f=
ont-size: 13.005px; line-height: 20.808px;"><span class=3D"Apple-=
tab-span" style=3D"white-space:pre"><span data-wiz-span=3D"data-w=
iz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">	</s=
pan></span><span data-wiz-span=3D"data-wiz-span" style=3D"color:=20=
rgb(0, 0, 0); font-size: 0.867rem;">BOOTING_TIME_PROFILING_LOG("b=
ldr_handshake");</span></div><div style=3D"color: rgb(255, 0, 0);=
 font-size: 13.005px; line-height: 20.808px;"><br></div><div styl=
e=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.=
808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem; color: rgb(0, 0, 0);"><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;">#if !CFG_FPGA_PLATFORM &nbsp=
;</span><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb=
(0, 0, 255);"><b><span data-wiz-span=3D"data-wiz-span" style=3D"f=
ont-size: 0.867rem;">--&gt;=D4=DAvendor/mediatek/proprietary/boot=
able/bootloader/preloader/platform/mt8167/default.mak=CE=C4=BC=FE=
=D6=D0=B6=A8=D2=E5=CE=AA=A3=BACFG_FPGA_PLATFORM :=3D0=A3=AC=B8=C3=
=B7=D6=D6=A7=D3=D0=D0=A7</span></b></span></span></div><div style=
=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.8=
08px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(=
0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; /* security check *=
/</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &n=
bsp; device_APC_dom_setup();</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">#endif</span></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span class=
=3D"Apple-tab-span" style=3D"white-space:pre"><span data-wiz-span=
=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867=
rem;">	</span></span><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 0); font-size: 0.867rem;">BOOTING_TIME_PROFILIN=
G_LOG("sec_boot_check");</span></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></div><=
div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-hei=
ght: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem; color: rgb(0, 0, 0);"><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem;">#if CFG_ATF_SUPPORT=20=
&nbsp;</span><span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 255);"><b><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">--&gt;=D4=DAvendor/mediatek/proprietary=
/bootable/bootloader/preloader/platform/mt8167/default.mak=CE=C4=BC=
=FE=D6=D0=B6=A8=D2=E5=CE=AA=A3=BACFG_ATF_SUPPORT :=3D1=A3=AC=B8=C3=
=B7=D6=D6=A7=D3=D0=D0=A7</span></b></span></span></div><div style=
=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.8=
08px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(=
0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; trustzone_pre_init(=
);</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13=
.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">#endif</=
span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005=
px; line-height: 20.808px;"><br></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; color:=20=
rgb(0, 0, 0);"><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">&nbsp; &nbsp; if (0 !=3D </span><b><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(255, 0, 0); font-s=
ize: 0.867rem;">bldr_load_images</span></b><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">(&amp;jump_addr))=20=
{ &nbsp;</span><b><span data-wiz-span=3D"data-wiz-span" style=3D"=
color: rgb(255, 0, 0); font-size: 0.867rem;">--&gt;=D6=D8=B5=E3=C4=
=D1=B5=E3=B7=D6=CE=F6=BA=AF=CA=FD1</span></b></span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; pr=
int("%s Second Bootloader Load Failed\n", MOD);</span></div><div=20=
style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=
 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=
 rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;=20=
goto error;</span></div><div style=3D"color: rgb(255, 0, 0); font=
-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;"=
>&nbsp; &nbsp; }</span></div><div style=3D"color: rgb(255, 0, 0);=
 font-size: 13.005px; line-height: 20.808px;"><br></div><div styl=
e=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.=
808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb=
(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; bldr_post_process(=
); &nbsp;</span><b style=3D"font-size: 13.005px; line-height: 20.=
808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem;">--&gt;=D6=D8=B5=E3=C4=D1=B5=E3=B7=D6=CE=F6=BA=AF=CA=FD=
2=A3=AC=D5=E2=C0=EF=D6=F7=D2=AA=D7=F7=D3=C3=A3=BA</span></b></div=
></font><font color=3D"#ff0000" style=3D"font-size: 13.005px; lin=
e-height: 20.808px;"><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"color: rgb(0, 0, 0); font-size: 0.867rem; background-colo=
r: rgb(192, 192, 192);">#ifdef SLT &nbsp;</span><b style=3D"color=
: rgb(0, 0, 0); font-size: 0.867rem; line-height: 20.808px;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);=
 font-size: 0.867rem; background-color: rgb(192, 192, 192);">--&g=
t;SLT=CE=B4=B6=A8=D2=E5=A3=AC=B2=BB=D7=DF=B8=C3=B7=D6=D6=A7</span=
></b></div></font><font color=3D"#ff0000" style=3D"font-size: 13.=
005px; line-height: 20.808px;"><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem; backg=
round-color: rgb(192, 192, 192);">&nbsp; &nbsp; mt_usb_phy_recove=
r();</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"color: rgb(0, 0, 0); font-size: 0.867rem; background-color: r=
gb(192, 192, 192);">&nbsp; &nbsp; //mu3d_hal_rst_dev();</span></d=
iv><div><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb=
(0, 0, 0); font-size: 0.867rem; background-color: rgb(192, 192, 1=
92);">#endif</span></div><div><br></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">#if CFG_ATF_SUPPORT &nbsp;</span><b style=3D"font-size: 13.005=
px; line-height: 20.808px; color: rgb(0, 0, 255);"><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">--&gt;=D4=DA=
vendor/mediatek/proprietary/bootable/bootloader/preloader/platfor=
m/mt8167/default.mak=CE=C4=BC=FE=D6=D0=B6=A8=D2=E5=CE=AA=A3=BACFG=
_ATF_SUPPORT :=3D1=A3=AC=B8=C3=B7=D6=D6=A7=D3=D0=D0=A7</span></b>=
</div></font><font><div style=3D"color: rgb(255, 0, 0); font-size=
: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-w=
iz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbs=
p; &nbsp; trustzone_post_init();</span></div><div style=3D"color:=
 rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=20=
font-size: 0.867rem;">#endif</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><br></d=
iv><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line=
-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; color: rgb(0, 0, 0);"><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">#if CFG_LOAD_SLT_A=
ARCH64_KERNEL &nbsp;</span><b><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"color: rgb(0, 0, 255); font-size: 0.867rem;">--&gt;=B8=
=C3=B7=D6=D6=A7=D3=D0=D0=A7=A3=AC=B7=D6=CE=F6=C8=E7=CF=C2=A3=BA</=
span></b></span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 13.005px; line-height: 20.808px;"><div><b><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255)=
; font-size: 0.867rem;">--&gt;=D4=DAvendor/mediatek/proprietary/b=
ootable/bootloader/preloader/platform/mt8167/feature.mak=D6=D0=B6=
=A8=D2=E5=CE=AA=A3=BAC_OPTION +=3D -DCFG_LOAD_SLT_AARCH64_KERNEL=3D=
"$(CFG_LOAD_SLT_AARCH64_KERNEL)"</span></b></div><div><b><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); fon=
t-size: 0.867rem;">--&gt;=D4=DAvendor/mediatek/proprietary/bootab=
le/bootloader/preloader/platform/mt8167/feature.mak=D6=D0=B5=BC=B3=
=F6=CE=AA=A3=BAexport CFG_LOAD_SLT_AARCH64_KERNEL</span></b></div=
><div><b><span style=3D"font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 255); font-size: 0.867rem;">--&gt;=D4=DA</span></span><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); fon=
t-size: 0.867rem;">vendor/mediatek/proprietary/bootable/bootloade=
r/preloader/platform/mt8167/mode/SLT.mak=D6=D0=B6=A8=D2=E5=CE=AA=A3=
=BACFG_LOAD_SLT_AARCH64_KERNEL:=3D1</span></b></div></span></div>=
<div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-he=
ight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"c=
olor: rgb(0, 0, 0); font-size: 0.867rem;">if (0 =3D=3D aarch64_sl=
t_done())</span></div><div style=3D"color: rgb(255, 0, 0); font-s=
ize: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">{=
</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.0=
05px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nb=
sp; *(unsigned int*) AARCH64_SLT_DONE_ADDRESS =3D AARCH64_SLT_DON=
E_MAGIC;</span></div><div style=3D"color: rgb(255, 0, 0); font-si=
ze: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&n=
bsp; &nbsp; jump_addr =3D CFG_BOOTA64_MEMADDR;</span></div><div s=
tyle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=20=
20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=20=
rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nbsp; //set up slave=20=
cpu reset address</span></div><div style=3D"color: rgb(255, 0, 0)=
; font-size: 13.005px; line-height: 20.808px;"><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.86=
7rem;">&nbsp; &nbsp; *(unsigned int*) 0x10200040 =3D CFG_BOOTA64_=
MEMADDR; //cpu1</span></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; *(unsigned int*) 0x10200048 =3D CFG_BOOTA64_MEMA=
DDR; //cpu2</span></div><div style=3D"color: rgb(255, 0, 0); font=
-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;"=
>&nbsp; &nbsp; *(unsigned int*) 0x10200050 =3D CFG_BOOTA64_MEMADD=
R; //cpu3</span></div><div style=3D"color: rgb(255, 0, 0); font-s=
ize: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&=
nbsp; &nbsp; *(unsigned int*) 0x10200238 =3D CFG_BOOTA64_MEMADDR;=
 //cpu4</span></div><div style=3D"color: rgb(255, 0, 0); font-siz=
e: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-=
wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nb=
sp; &nbsp; *(unsigned int*) 0x10200240 =3D CFG_BOOTA64_MEMADDR; /=
/cpu5</span></div><div style=3D"color: rgb(255, 0, 0); font-size:=
 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp=
; &nbsp; *(unsigned int*) 0x10200248 =3D CFG_BOOTA64_MEMADDR; //c=
pu6</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 1=
3.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-=
span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp;=20=
&nbsp; *(unsigned int*) 0x10200250 =3D CFG_BOOTA64_MEMADDR; //cpu=
7</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &n=
bsp; print("%s Aarch64 Kernel SLT , jump to 64 bit kernel, addres=
s: 0x%x\n", MOD,jump_addr);</span></div><div style=3D"color: rgb(=
255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-=
size: 0.867rem;">&nbsp; &nbsp; bldr_jump64(jump_addr, (u32)&amp;b=
ootarg, sizeof(boot_arg_t));</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">}</span></div><div style=3D"color: rgb(255, 0,=20=
0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.=
867rem;">#endif</span></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><br></div><div style=
=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.8=
08px;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem; color: rgb(0, 0, 0);"><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem; background-color: rgb(192, 192=
, 192);">#if CFG_BOOT_ARGUMENT_BY_ATAG &nbsp;</span><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);"><b><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; b=
ackground-color: rgb(192, 192, 192);">--&gt;=B8=C3=B7=D6=D6=A7=D3=
=D0=D0=A7=A3=AC=B7=D6=CE=F6=C8=E7=CF=C2</span></b></span></span><=
/div><div><span data-wiz-span=3D"data-wiz-span"><b><span style=3D=
"font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=
=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); font-size: 0.8=
67rem;">--&gt;=D4=DAvendor/mediatek/proprietary/bootable/bootload=
er/preloader/platform/mt8167/feature.mak=D6=D0=B6=A8=D2=E5=CE=AA=A3=
=BAC_OPTION +=3D -DCFG_BOOT_ARGUMENT_BY_ATAG=3D"$(CFG_BOOT_ARGUME=
NT_BY_ATAG)"</span></span><br></b></span></div><div><b><span data=
-wiz-span=3D"data-wiz-span"><span style=3D"font-size: 13.005px; l=
ine-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"color: rgb(0, 0, 255); font-size: 0.867rem;">--&gt;=D4=DA</s=
pan></span></span><span style=3D"font-size: 13.005px; line-height=
: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 255); font-size: 0.867rem;">vendor/mediatek/proprieta=
ry/bootable/bootloader/preloader/platform/mt8167/default.mak=D6=D0=
=B6=A8=D2=E5=CE=AA=A3=BACFG_BOOT_ARGUMENT_BY_ATAG :=3D1</span></s=
pan></b></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.=
005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &n=
bsp; jump_arg =3D (u32)&amp;(g_dram_buf-&gt;boottag);</span></div=
><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-h=
eight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
color: rgb(0, 0, 0); font-size: 0.867rem; background-color: rgb(1=
92, 192, 192);">#else</span></div><div style=3D"color: rgb(255, 0=
, 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size:=20=
0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; ju=
mp_arg =3D (u32)&amp;bootarg;</span></div><div style=3D"color: rg=
b(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); fon=
t-size: 0.867rem; background-color: rgb(192, 192, 192);">#endif</=
span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005=
px; line-height: 20.808px;"><br></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-si=
ze: 0.867rem; background-color: rgb(192, 192, 192);">#if CFG_ATF_=
SUPPORT &nbsp;</span><b style=3D"font-size: 13.005px; line-height=
: 20.808px; color: rgb(0, 0, 255);"><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem; background-color: rgb(192,=
 192, 192);">--&gt;=D4=DAvendor/mediatek/proprietary/bootable/boo=
tloader/preloader/platform/mt8167/default.mak=CE=C4=BC=FE=D6=D0=B6=
=A8=D2=E5=CE=AA=A3=BACFG_ATF_SUPPORT :=3D1=A3=AC=B8=C3=B7=D6=D6=A7=
=D3=D0=D0=A7</span></b></div><div style=3D"color: rgb(255, 0, 0);=
 font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=
=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867=
rem;">&nbsp; &nbsp; /* 64S3,32S1,32S1 (MTK_ATF_BOOT_OPTION =3D 0)=
</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.0=
05px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&nbsp; &nb=
sp; &nbsp;* re-loader jump to LK directly and then LK jump to ker=
nel directly */</span></div><div style=3D"color: rgb(255, 0, 0);=20=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem=
;">&nbsp; &nbsp; if ( BOOT_OPT_64S3 =3D=3D bootarg.smc_boot_opt &=
amp;&amp;</span></div><div style=3D"color: rgb(255, 0, 0); font-s=
ize: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem;">&=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BOOT_OPT_32S1 =3D=3D bootarg.lk_=
boot_opt &amp;&amp;</span></div><div style=3D"color: rgb(255, 0,=20=
0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.=
867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BOOT_OPT_32S1 =3D=3D b=
ootarg.kernel_boot_opt) {</span></div><div style=3D"color: rgb(25=
5, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data=
-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-si=
ze: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; print("%s 64S3,32S1,32=
S1, jump to LK\n", MOD);</span></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-siz=
e: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; bldr_jump(jump_addr, ju=
mp_arg, sizeof(boot_arg_t));</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem;">&nbsp; &nbsp; } else {</span></div><div style=3D=
"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808p=
x;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; print("%=
s Others, jump to ATF\n", MOD);</span></div><div style=3D"color:=20=
rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; c=
olor: rgb(0, 0, 0);"><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(192, 192, 192);">#if=20=
DDR_AUTO_REBOOT &nbsp;</span><b><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"color: rgb(0, 0, 255); font-size: 0.867rem; backgro=
und-color: rgb(192, 192, 192);">--&gt;=D4=DAvendor/mediatek/propr=
ietary/bootable/bootloader/preloader/platform/mt8167/src/drivers/=
inc/dramc_pi_api.h=D6=D0=B6=A8=D2=E5=CE=AA=A3=BA#define DDR_AUTO_=
REBOOT 0=A3=AC=B2=BB=D7=DF=B8=C3=B7=D6=D6=A7</span></b></span></d=
iv><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line=
-height: 20.808px;"><span class=3D"Apple-tab-span" style=3D"white=
-space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=
 rgb(0, 0, 0); font-size: 0.867rem; background-color: rgb(192, 19=
2, 192);">		</span></span><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"color: rgb(0, 0, 0); font-size: 0.867rem; background-colo=
r: rgb(192, 192, 192);">print("%s Autoreboot yifei\n", MOD);</spa=
n></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px;=
 line-height: 20.808px;"><span class=3D"Apple-tab-span" style=3D"=
white-space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"c=
olor: rgb(0, 0, 0); font-size: 0.867rem; background-color: rgb(19=
2, 192, 192);">		</span></span><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem; background=
-color: rgb(192, 192, 192);">*(unsigned int*) 0x10007014 =3D 0x12=
09;</span></div><div style=3D"color: rgb(255, 0, 0); font-size: 1=
3.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-=
span" style=3D"color: rgb(0, 0, 0); font-size: 0.867rem; backgrou=
nd-color: rgb(192, 192, 192);">#endif</span></div><div style=3D"c=
olor: rgb(255, 0, 0); font-size: 13.005px; line-height: 20.808px;=
"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=
 0); font-size: 0.867rem; background-color: rgb(255, 0, 0);">&nbs=
p; &nbsp; &nbsp; &nbsp; bldr_jump64(jump_addr, jump_arg, sizeof(b=
oot_arg_t)); &nbsp;<b><span data-wiz-span=3D"data-wiz-span" style=
=3D"color: rgb(0, 0, 255);">--&gt;=CC=F8=D7=AA=B5=BDlk=BD=D7=B6=CE=
=D6=B4=D0=D0</span></b></span></div><div style=3D"color: rgb(255,=
 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-w=
iz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size=
: 0.867rem;">&nbsp; &nbsp; }</span></div><div style=3D"color: rgb=
(255, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font=
-size: 0.867rem; background-color: rgb(192, 192, 192);">#else</sp=
an></div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px=
; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"color: rgb(0, 0, 0); font-size: 0.867rem; background-colo=
r: rgb(192, 192, 192);">&nbsp; &nbsp; bldr_jump(jump_addr, jump_a=
rg, sizeof(boot_arg_t));</span></div><div style=3D"color: rgb(255=
, 0, 0); font-size: 13.005px; line-height: 20.808px;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-siz=
e: 0.867rem; background-color: rgb(192, 192, 192);">#endif</span>=
</div><div style=3D"color: rgb(255, 0, 0); font-size: 13.005px; l=
ine-height: 20.808px;"><br></div><div style=3D"color: rgb(255, 0,=
 0); font-size: 13.005px; line-height: 20.808px;"><span data-wiz-=
span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0=
.867rem;">error:</span></div><div style=3D"color: rgb(255, 0, 0);=
 font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=
=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0); font-size: 0.867=
rem;">&nbsp; &nbsp; platform_error_handler();</span></div><div st=
yle=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height: 2=
0.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: r=
gb(0, 0, 0); font-size: 0.867rem;">}</span></div></font></span></=
div><div><font color=3D"#ff0000"><span style=3D"font-size: 13.005=
px; line-height: 20.808px;"><b><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(255, 0, 0); background-color: rgb(255, 25=
5, 255);"><br></span></b></span></font></div></body></html>

------=_Next_Part_0138456765.757--

------=_Next_Part_0415370295.662--

