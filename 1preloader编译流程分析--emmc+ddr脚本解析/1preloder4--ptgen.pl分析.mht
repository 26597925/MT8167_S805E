From: WizMime<support@wiz.cn>
Subject: =?gb2312?B?MXByZWxvZGVyNC0tcHRnZW4ucGy31s72?=
Date: Date: Mon, 23 Oct 2017 08:42:21 +0800
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----=_Next_Part_0415263045.299"

This is a multi-part message in MIME format.

------=_Next_Part_0415263045.299
Content-Type: multipart/alternative;
	boundary="----=_Next_Part_0138421015.035"


------=_Next_Part_0138421015.035
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

This is a multi-part message in MIME format.

------=_Next_Part_0138421015.035
Content-Type: text/html;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML><html><head>=0D=0A<meta http-equiv=3D"Content-Type=
" content=3D"text/html; charset=3Dgb2312">=0A=0A<title>1preloder4=
--ptgen.pl=B7=D6=CE=F6</title>=0A    <!--mark |wiz_custom_css| fo=
r wizeditor replace it-->=0A<style id=3D"wiz_custom_css">html, bo=
dy {            font-size: 15px;        }        body {         =20=
  font-family: Helvetica, 'Hiragino Sans GB', '=CE=A2=C8=ED=D1=C5=
=BA=DA', 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;=
            line-height: 1.6;            margin: 0;            pa=
dding: 20px 15px;            padding: 1.33rem 1rem;        }    =20=
   h1, h2, h3, h4, h5, h6 {            margin: 20px 0 10px;     =20=
      margin: 1.33rem 0 0.667rem;            padding: 0;        =20=
   font-weight: bold;        }        h1 {            font-size:=20=
21px;            font-size: 1.4rem;        }        h2 {        =20=
   font-size: 20px;            font-size: 1.33rem;        }     =20=
  h3 {            font-size: 18px;            font-size: 1.2rem;=20=
       }        h4 {            font-size: 17px;            font-=
size: 1.13rem;        }        h5 {            font-size: 15px; =20=
          font-size: 1rem;        }        h6 {            font-s=
ize: 15px;            font-size: 1rem;            color: #777777;=
            margin: 1rem 0;        }        div, p, ul, ol, dl, l=
i {            margin: 0;        }        blockquote, table, pre,=
 code {            margin: 8px 0;        }        ul, ol {      =20=
     padding-left: 32px;            padding-left: 2.13rem;      =20=
 }        blockquote {            padding: 0 12px;            pad=
ding: 0 0.8rem;        }        blockquote > :first-child {     =20=
      margin-top: 0;        }        blockquote > :last-child { =20=
          margin-bottom: 0;        }        img {            bord=
er: 0;            max-width: 100%;            height: auto !impor=
tant;            margin: 2px 0;        }        table {         =20=
  border-collapse: collapse;            border: 1px solid #bbbbbb=
;        }        td, th {            padding: 4px 8px;         =20=
  border-collapse: collapse;            border: 1px solid #bbbbbb=
;			        }        @media only screen and (-webkit-max-device-w=
idth: 1024px), only screen and (-o-max-device-width: 1024px), onl=
y screen and (max-device-width: 1024px), only screen and (-webkit=
-min-device-pixel-ratio: 3), only screen and (-o-min-device-pixel=
-ratio: 3), only screen and (min-device-pixel-ratio: 3) {       =20=
    html, body {                font-size: 17px;            }   =20=
        body {                line-height: 1.7;                pa=
dding: 0.75rem 0.9375rem;                color: #353c47;        =20=
   }            h1 {                font-size: 2.125rem;        =20=
   }            h2 {                font-size: 1.875rem;        =20=
   }            h3 {                font-size: 1.625rem;        =20=
   }            h4 {                font-size: 1.375rem;        =20=
   }            h5 {                font-size: 1.125rem;        =20=
   }            h6 {                color: inherit;            }=20=
           ul, ol {                padding-left: 2.5rem;        =20=
   }            blockquote {                padding: 0 0.9375rem;=
            }        }</style></head>=0A=0A<body spellcheck=3D"fa=
lse" ><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;">#!/usr/local/bin/perl -w &nbsp;<b>--&gt;-w=B1=ED=CA=
=BE=CA=B9=D3=C3=D1=CF=B8=F1=B5=C4=D3=EF=B7=A8=BF=D8=D6=C6=A3=AC=D2=
=BB=B2=BB=D0=A1=D0=C4=BB=E1=B3=F6=CF=D6=D0=ED=B6=E0=BE=AF=B8=E6=A3=
=AC=B1=C8=C8=E7=B1=E4=C1=BF=C3=BB=D3=D0=B6=A8=D2=E5=A1=A2=C3=BB=D3=
=D0=B3=F5=CA=BC=BB=AF=B5=C8</b></span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">#***********=
*****************************************************************=
</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem;"># Included Modules</span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">#**=
*****************************************************************=
*********</span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;">use strict;</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">u=
se File::Basename; &nbsp;<b>--&gt;=B5=BC=C8=EB=C4=A3=BF=E9=A3=AC<=
/b></span><span style=3D"font-size: 13.005px; line-height: 20.808=
px;"><b>=D4=DAPerl=D6=D0=A3=AC=C8=E7=B9=FB=CF=EB=BD=AB=C2=B7=BE=B6=
=BA=CD=CE=C4=BC=FE=C3=FB=A3=AC=CE=C4=BC=FE=BA=F3=D7=BA=B7=D6=B1=F0=
=CC=E1=C8=A1=B3=F6=C0=B4=A3=AC=BF=C9=D2=D4=CA=B9=D3=C3perl=CC=E1=B9=
=A9=B5=C4=C4=A3=BF=E9File::Basename=C0=B4=CA=B5=CF=D6=A3=AC=BF=C9=
=D2=D4=B5=BDCPAN=CD=F8=D5=BE=CF=C2=D4=D8=B0=B2=D7=B0=A3=A8=D5=E2=C0=
=EFmtk=D2=D1=BE=AD=D5=FB=C0=ED=BA=C3=C1=CB=A3=A9</b></span></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem;">use File::Path;</span><span style=3D"font-size: 13.005px=
; line-height: 20.808px;">&nbsp;</span><span style=3D"font-size:=20=
13.005px; line-height: 20.808px;">&nbsp;</span><b style=3D"font-s=
ize: 13.005px; line-height: 20.808px;">--&gt;=B5=BC=C8=EB=C4=A3=BF=
=E9=A3=AC</b><span style=3D"font-size: 13.005px; line-height: 20.=
808px;"><b>=CA=B9=D3=C3Perl=B5=C4File::Path=C4=A3=BF=E9=C9=BE=B3=FD=
=B7=C7=BF=D5=CE=C4=BC=FE=BC=D0</b></span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">my $LOCAL=
_PATH;</span></div><div><br></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem;">BEGIN</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">{</span></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem;">&nbsp; &nbsp; $LOCAL_PATH =3D dirname=
($0); &nbsp;<b><span data-wiz-span=3D"data-wiz-span" style=3D"col=
or: rgb(0, 0, 0);">--&gt;</span></b></span><b style=3D"line-heigh=
t: 1.6; background-color: rgb(255, 255, 255);"><span style=3D"col=
or: rgb(255, 0, 0); font-size: 1rem; line-height: 1.6;"><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; color:=
 rgb(0, 0, 0);">perl device/mediatek/build/build/tools/ptgen/M</s=
pan></span><font color=3D"#ff0000"><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem; color: rgb(0, 0, 0);">T8167=
</span></font><span style=3D"color: rgb(255, 0, 0); font-size: 1r=
em; line-height: 1.6;"><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem; color: rgb(0, 0, 0);">/ptgen.pl &nbsp;-=
-&gt;$</span></span></b><font color=3D"#ff0000"><span style=3D"fo=
nt-size: 13.005px; line-height: 20.808px;"><b><span data-wiz-span=
=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);">0=3DPerl=BD=C5=B1=
=BE=C3=FB=3D</span></b></span></font><b style=3D"line-height: 1.6=
; background-color: rgb(255, 255, 255);"><span style=3D"color: rg=
b(255, 0, 0); font-size: 1rem; line-height: 1.6;"><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem; color: rgb(0=
, 0, 0);">device/mediatek/build/build/tools/ptgen/M</span></span>=
<font color=3D"#ff0000"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem; color: rgb(0, 0, 0);">T8167</span></fo=
nt><span style=3D"color: rgb(255, 0, 0); font-size: 1rem; line-he=
ight: 1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem; color: rgb(0, 0, 0);">/ptgen.pl</span></span></b><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem;">}</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;">use lib "$LOCAL_PATH/../../S=
preadsheet"; &nbsp;<b>--&gt;=D6=B8=C3=F7excel=BD=E2=CE=F6=BF=E2=B5=
=C4=CE=BB=D6=C3</b></span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">use lib "$LOCAL_PATH/../=
../"; &nbsp;</span><b style=3D"font-size: 13.005px; line-height:=20=
20.808px;">--&gt;=D6=B8=C3=F7=C6=E4=CB=FB=BF=E2=B5=C4=CE=BB=D6=C3=
</b></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">require 'ParseExcel.pm';</span></div><div><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">=
use lib "$LOCAL_PATH/../../YAML/lib";</span></div><div><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">use YA=
ML qw(LoadFile DumpFile Load Dump);</span></div><div><br></div><d=
iv><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem;">#*********************************************************=
*******************</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;"># Global Variables</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">#************************************************=
****************************</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;">my $Version =3D=
 4.0;</span></div><div><br></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">#my $ChangeHistory=3D"3=
.1 AutoDetect eMMC Chip and Set MBR_Start_Address_KB\n";</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">#my $ChangeHistory =3D "3.2 Support OTP\n";</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">#my $ChangeHistory =3D "3.3 Support Shared SD Card\n=
";</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">#my $ChangeHistory =3D "3.4 CIP support\n"=
;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">#my $ChangeHistory =3D "3.5 Fix bug\n";</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">#my $ChangeHistory =3D "3.6 Support YAML forma=
t scatter file\n";</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">#my $ChangeHistory =3D "3=
.7 TRUSTONIC TEE support\n";</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;">#my $ChangeHist=
ory =3D "3.8 PlayReady HDCP support\n";</span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">#my=20=
$ChangeHistory =3D "3.9 DRM Key mamagement support\n";</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">my $ChangeHistory =3D "\t1.Support YAML partition tabl=
e</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">\t2.redesign xls partition table</span></d=
iv><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem;">\t3.Set partition size by project</span></div><div><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
">\t4.auto align system/cache/userdata partition start address</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">\t5.revise all the code";</span></div><div><br=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">my @partition_layout_raw;</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">my=
 @partition_layout_cooked;</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">my @BR_INDEX =3D (=
);</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">my %download_files;</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">m=
y %sepcial_operation_type;</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">my %kernel_alias;=20=
&nbsp; &nbsp; &nbsp; #alias for kernel c &nbsp;file modify</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;">my %region_map;</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">my %ArgList;<=
/span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"f=
ont-size: 0.867rem;">my %AlignPartList;</span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">my @=
GeneratedFile;</span></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">my $Used_Size =3D 0;</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">my $PMT_END_NAME; &nbsp; &nbsp; &nbsp; #end partitio=
n of no reserved partition</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(255, 0, 0);">my $DebugPrint =3D "no"; &nbsp;# yes for debug; n=
o for non-debug &nbsp;<b>--&gt;=B8=C4=CE=AAyes=D4=F2=BB=E1=CA=E4=B3=
=F6=B5=F7=CA=D4=D0=C5=CF=A2=B5=BDout=C2=B7=BE=B6=CF=C2=D2=D4=BC=B0=
=D4=B4=C2=EB=C4=BF=C2=BC=CF=C2=A3=AC=D2=BB=B0=E3=CE=DE=D0=E8=B4=F2=
=BF=AA=A3=AC=D3=D0=D0=CB=C8=A4=D1=D0=BE=BF=B5=C4=CA=B1=BA=F2=BF=C9=
=D2=D4=B3=A2=CA=D4=D2=BB=CF=C2</b></span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">my $PRODU=
CT_OUT;</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem;">my $ptgen_location;</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">my $Partition_layout_xls;</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">my $custom_ou=
t_prefix;</span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;">my $configs_out_prefix;</span></di=
v><div><br></div><div><br></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">#***********************=
*****************************************************</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;"># main flow : init_filepath</span></div><div><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">#*****=
*****************************************************************=
******</span></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem; background-color: rgb(255, 0, 0);"><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=20=
background-color: rgb(255, 0, 0);">&amp;InitGlobalValue(); </span=
><b><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); background-color: rgb(255, 0, 0);">&nbsp;<span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);">--&gt;=B5=DA=
=D2=BB=B8=F6=B7=D6=CE=F6=B5=C4=BA=AF=CA=FD=A3=AC</span></span></b=
></span><b style=3D"font-size: 13.005px; line-height: 20.808px;">=
<span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 2=
55); background-color: rgb(255, 0, 0);">=D6=D8=B5=E3=C4=D1=B5=E3=B7=
=D6=CE=F6=B5=C4=BA=AF=CA=FD=A3=AC</span></b><b style=3D"font-size=
: 0.867rem; line-height: 1.6;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 255); background-color: rgb(255, 0,=
 0);">=BF=C9=D2=D4=BD=E8=D6=FA=B1=E0=D2=EBlog=BF=EC=CB=D9=D4=C4=B6=
=C1=C0=ED=BD=E2</span></b></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;"><b>my $Partition_layout_=
yaml =3D "$ptgen_location/$ArgList{SHEET_NAME}.yaml"; &nbsp;<span=
 data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);"=
>--&gt;</span></b></span><b style=3D"font-size: 13.005px; line-he=
ight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"c=
olor: rgb(0, 0, 255);">$Partition_layout_yaml=3D</span></b><span=20=
style=3D"font-size: 13.005px; line-height: 20.808px;"><b><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);">de=
vice/mediatek/build/build/tools/ptgen/MT8167/emmc.yaml</span></b>=
</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem;">my $COMBO_NAND_TOOLH &nbsp; &nbsp; &nbsp;=3D=
 "mediatek/external/mtd-utils/ubi-utils/combo_nand.h";</span></di=
v><div><br></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">my $KernelH &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp;=3D "$custom_out_prefix/kernel/partition.h";</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;">my $LK_PartitionC &nbsp; &nbsp; &nbsp;=3D "$custom=
_out_prefix/lk/partition.c";</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;">my $PART_SIZE_L=
OCATION =3D "$configs_out_prefix/partition_size.mk";</span></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem;">my $COMBO_NAND_KERNELH =3D "$custom_out_prefix/common/co=
mbo_nand.h";</span></div><div><br></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">my $SCAT_FILE =3D=20=
"$PRODUCT_OUT/$ArgList{PLATFORM}_Android_scatter.txt";</span></di=
v><div><br></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">#**************************************=
**************************************</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"># mai=
n flow</span></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem;">#************************************=
****************************************</span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"><b>=
<span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 2=
55);">&amp;ShowInfo(\%ArgList); &nbsp;--&gt;=B5=DA=B6=FE=B8=F6=B7=
=D6=CE=F6=B5=C4=BA=AF=CA=FD=A3=AC=D6=F7=D2=AA=CA=C7=B4=F2=D3=A1=D2=
=BB=D0=A9log=A3=AC=D5=E2=C0=EF=BC=F2=B5=A5=BF=B4=D2=BB=CF=C2=BE=CD=
=BF=C9=D2=D4=C1=CB</span></b></span></div><div><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"font-size: 0.867rem;">#&amp;clear_fi=
les();</span></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size:0.867rem">if ($ArgList{PARTITION_TABLE_PLAIN_TEXT=
} ne "yes") &nbsp;<b><span data-wiz-span=3D"data-wiz-span" style=3D=
"">--&gt;=D4=DAdevice/joya_sz/jasz8167_tb_n/ProjectConfig.mk=D6=D0=
=B6=A8=D2=E5=A3=BAMTK_PARTITION_TABLE_PLAIN_TEXT =3D no=A3=AC=C4=AC=
=C8=CF=D7=DF=B8=C3=B7=D6=D6=A7</span></b></span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">{<=
/span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"f=
ont-size: 0.867rem;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"background-color: rgb(255, 0, 0);">&nbsp; &nbsp; &amp;ReadExcelF=
ile($Partition_layout_xls); &nbsp;</span><b><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 255); background-color:=
 rgb(255, 0, 0);">--&gt;=B5=DA=C8=FD=B8=F6=B7=D6=CE=F6=B5=C4=BA=AF=
=CA=FD=A3=AC=D2=B2=CA=C7=D7=EE=D6=D8=B5=E3=C4=D1=B5=E3=B7=D6=CE=F6=
=B5=C4=BA=AF=CA=FD=A3=AC=CC=D8=B1=F0=D7=A2=D2=E2=D0=DE=B8=C4=C1=CB=
xls=D6=AE=BA=F3=A3=AC=D2=AAtouch=D2=BB=CF=C2=CA=B1=BC=E4=B4=C1=A3=
=AC=BD=E2=BE=F6=B7=B4=B7=B4=B8=B4=B8=B4=D7=D4=B6=AF=B1=E0=D2=EB=B5=
=C4bug</span></b></span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &amp;debug_p=
rint_layout("./out/1.log", \@partition_layout_raw); &nbsp;<b>--&g=
t;=D4=DA=B5=B1=C7=B0=C4=BF=C2=BC=CF=C2=C9=FA=B3=C9=B5=F7=CA=D4=D0=
=C5=CF=A2=A3=AC=C7=B0=CC=E1=D2=AA=CF=C8=B0=D1my $DebugPrint =3D "=
yes";=C4=AC=C8=CF=C7=E9=BF=F6=CF=C2=CE=AAno=A3=AC=B8=C3=BA=AF=CA=FD=
=C3=BB=D3=D0=CA=B5=BC=CA=D7=F7=D3=C3</b></span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; back=
ground-color: rgb(255, 0, 0);">&nbsp; &nbsp; &amp;GenPlainText($P=
artition_layout_yaml, \@partition_layout_raw); &nbsp;</span><b st=
yle=3D"font-size: 13.005px; line-height: 20.808px;"><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); backgrou=
nd-color: rgb(255, 0, 0);">--&gt;=B5=DA=CB=C4=B8=F6=B7=D6=CE=F6=B5=
=C4=BA=AF=CA=FD</span></b><b style=3D"font-size: 13.005px; line-h=
eight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
color: rgb(0, 0, 255); background-color: rgb(255, 0, 0);">=A3=AC=D2=
=B2=CA=C7=D7=EE=D6=D8=B5=E3=C4=D1=B5=E3=B7=D6=CE=F6=B5=C4=BA=AF=CA=
=FD=A3=AC</span></b><b style=3D"font-size: 13.005px; line-height:=
 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color:=
 rgb(0, 0, 255); background-color: rgb(255, 0, 0);">=B8=F9=BE=DDe=
xcel=B5=C4=C5=E4=D6=C3=D0=C5=CF=A2=C9=FA=B3=C9</span></b><b style=
=3D"font-size: 13.005px; line-height: 20.808px;"></b><b style=3D"=
font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 255); font-size: 0.867r=
em; background-color: rgb(255, 0, 0);">emmc.yaml=CE=C4=BC=FE=A3=AC=
=B2=A2=B6=D4=C6=E4=CB=F9=D4=DA</span></b><b style=3D"font-size: 1=
3.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-=
span" style=3D"color: rgb(0, 0, 255); font-size: 0.867rem; backgr=
ound-color: rgb(255, 0, 0);">=CE=C4=BC=FE=BC=D0=B8=B3=D3=E8777=C8=
=A8=CF=DE</span></b></div><div><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem;"><span style=3D"font-size: 15px=
; line-height: 1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(255, 0, 0);">&nbsp; &=
nbsp;&nbsp;</span></span></span><span style=3D"line-height: 1.6;"=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em; background-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span>=
</span><span style=3D"line-height: 1.6;"><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb=
(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><span style=3D"lin=
e-height: 1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem; background-color: rgb(255, 0, 0);">&nbsp; &nbs=
p;&nbsp;</span></span><span style=3D"line-height: 1.6;"><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgr=
ound-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><sp=
an style=3D"line-height: 1.6;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem; background-color: rgb(255, 0, 0=
);">&nbsp; &nbsp;&nbsp;</span></span><span style=3D"line-height:=20=
1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem; background-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</=
span></span><span style=3D"line-height: 1.6;"><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-color=
: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><span style=3D=
"line-height: 1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(255, 0, 0);">&nbsp; &=
nbsp;&nbsp;</span></span><span style=3D"line-height: 1.6;"><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; bac=
kground-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span>=
<span style=3D"line-height: 1.6;"><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem; background-color: rgb(255, 0=
, 0);">&nbsp; &nbsp;&nbsp;</span></span><span style=3D"line-heigh=
t: 1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem; background-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp=
;</span></span><span style=3D"line-height: 1.6;"><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-co=
lor: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><span styl=
e=3D"line-height: 1.6;"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem; background-color: rgb(255, 0, 0);">&nb=
sp; &nbsp;&nbsp;</span></span><span style=3D"line-height: 1.6;"><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
; background-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></=
span><span style=3D"line-height: 1.6;"><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(2=
55, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><span style=3D"line-=
height: 1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem; background-color: rgb(255, 0, 0);">&nbsp; &nbsp;=
&nbsp;</span></span><span style=3D"line-height: 1.6;"><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgrou=
nd-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><span=
 style=3D"line-height: 1.6;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem; background-color: rgb(255, 0, 0);=
">&nbsp; &nbsp;&nbsp;</span></span><span style=3D"line-height: 1.=
6;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.8=
67rem; background-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</sp=
an></span><span style=3D"line-height: 1.6;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><span style=3D"l=
ine-height: 1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem; background-color: rgb(255, 0, 0);">&nbsp; &n=
bsp;&nbsp;</span></span><span style=3D"line-height: 1.6;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; back=
ground-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><=
span style=3D"line-height: 1.6;"><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem; background-color: rgb(255, 0,=
 0);">&nbsp; &nbsp;&nbsp;</span></span><span style=3D"line-height=
: 1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem; background-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;=
</span></span><span style=3D"line-height: 1.6;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-col=
or: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp;</span></span><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"><b><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255)=
; font-size: 0.867rem; background-color: rgb(255, 0, 0);">--&gt;=B2=
=CE=CA=FD1=A3=BA</span></b></span><b style=3D"font-size: 13.005px=
; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"color: rgb(0, 0, 255); font-size: 0.867rem; background-co=
lor: rgb(255, 0, 0);">$Partition_layout_yaml=3D</span></b><span s=
tyle=3D"font-size: 13.005px; line-height: 20.808px;"><b><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); font=
-size: 0.867rem; background-color: rgb(255, 0, 0);">device/mediat=
ek/build/build/tools/ptgen/MT8167/emmc.yaml</span></b></span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;"><span style=3D"font-size: 15px; line-height: 1.6;"><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=20=
background-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></sp=
an></span><span style=3D"line-height: 1.6;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><span style=3D"l=
ine-height: 1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem; background-color: rgb(255, 0, 0);">&nbsp; &n=
bsp;&nbsp;</span></span><span style=3D"line-height: 1.6;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; back=
ground-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><=
span style=3D"line-height: 1.6;"><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem; background-color: rgb(255, 0,=
 0);">&nbsp; &nbsp;&nbsp;</span></span><span style=3D"line-height=
: 1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem; background-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;=
</span></span><span style=3D"line-height: 1.6;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-col=
or: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><span style=
=3D"line-height: 1.6;"><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem; background-color: rgb(255, 0, 0);">&nbs=
p; &nbsp;&nbsp;</span></span><span style=3D"line-height: 1.6;"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
 background-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></s=
pan><span style=3D"line-height: 1.6;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(25=
5, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><span style=3D"line-h=
eight: 1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem; background-color: rgb(255, 0, 0);">&nbsp; &nbsp;&=
nbsp;</span></span><span style=3D"line-height: 1.6;"><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgroun=
d-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><span=20=
style=3D"line-height: 1.6;"><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem; background-color: rgb(255, 0, 0);"=
>&nbsp; &nbsp;&nbsp;</span></span><span style=3D"line-height: 1.6=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem; background-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</spa=
n></span><span style=3D"line-height: 1.6;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><span style=3D"l=
ine-height: 1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem; background-color: rgb(255, 0, 0);">&nbsp; &n=
bsp;&nbsp;</span></span><span style=3D"line-height: 1.6;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; back=
ground-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><=
span style=3D"line-height: 1.6;"><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem; background-color: rgb(255, 0,=
 0);">&nbsp; &nbsp;&nbsp;</span></span><span style=3D"line-height=
: 1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem; background-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;=
</span></span><span style=3D"line-height: 1.6;"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-col=
or: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><span style=
=3D"line-height: 1.6;"><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem; background-color: rgb(255, 0, 0);">&nbs=
p; &nbsp;&nbsp;</span></span><span style=3D"line-height: 1.6;"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
 background-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></s=
pan><span style=3D"line-height: 1.6;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(25=
5, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><span style=3D"line-h=
eight: 1.6;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem; background-color: rgb(255, 0, 0);">&nbsp; &nbsp;&=
nbsp;</span></span><span style=3D"line-height: 1.6;"><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgroun=
d-color: rgb(255, 0, 0);">&nbsp; &nbsp;&nbsp;</span></span><span=20=
style=3D"line-height: 1.6;"><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem; background-color: rgb(255, 0, 0);"=
>&nbsp; &nbsp; &nbsp;</span></span><b style=3D"font-size: 13.005p=
x; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"color: rgb(0, 0, 255); font-size: 0.867rem; background-c=
olor: rgb(255, 0, 0);">--&gt;</span></b><b style=3D"font-size: 13=
.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"color: rgb(0, 0, 255); font-size: 0.867rem; backgro=
und-color: rgb(255, 0, 0);">=B2=CE=CA=FD2=A3=BA</span></b><b styl=
e=3D"line-height: 1.6;"><span style=3D"font-size: 13.005px; line-=
height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 255); font-size: 0.867rem; background-color: rg=
b(255, 0, 0);">@partition_layout_raw=D4=DA=BA=AF=CA=FD</span></sp=
an></b><b style=3D"line-height: 1.6;"><span style=3D"font-size: 0=
.867rem; line-height: 1.6;"><span data-wiz-span=3D"data-wiz-span"=
 style=3D"color: rgb(0, 0, 255); font-size: 0.867rem; background-=
color: rgb(255, 0, 0);">ReadExcelFile=D6=D0=D2=D1=BE=AD=B1=BB=CC=EE=
=B3=E4=CD=EA=B3=C9=A3=A8=B6=FE=CE=AC=CA=FD=D7=E9=A3=A9</span></sp=
an></b></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem;">}</span></div><div><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem;">@partition_layout_ra=
w =3D @{&amp;ReadPlainText($Partition_layout_yaml)}; &nbsp;</span=
><b style=3D"font-size: 13.005px; line-height: 20.808px;"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);">-=
-&gt;=B5=DA=CE=E5=B8=F6=B7=D6=CE=F6=B5=C4=BA=AF=CA=FD=A3=AC=B3=A2=
=CA=D4=B4=F2=BF=AA</span></b><b style=3D"font-size: 13.005px; lin=
e-height: 20.808px;"></b><b style=3D"font-size: 13.005px; line-he=
ight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"c=
olor: rgb(0, 0, 255); font-size: 0.867rem;">device/mediatek/build=
/build/tools/ptgen/MT8167/emmc.yaml=CE=C4=BC=FE=A3=AC=B2=BB=C4=DC=
=D5=FD=B3=A3=B4=F2=BF=AA=D4=F2=B1=A8=B4=ED</span></b></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;">&amp;debug_print_layout("./out/2.log", \@partition_layout_raw)=
;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(255, 0, 0);">@partiti=
on_layout_cooked =3D @{&amp;ProcessRawPartitionLayoutData(\@parti=
tion_layout_raw)};</span><b style=3D"font-size: 13.005px; line-he=
ight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"c=
olor: rgb(0, 0, 255); background-color: rgb(255, 0, 0);">--&gt;=B5=
=DA=C1=F9=B8=F6=B7=D6=CE=F6=B5=C4=BA=AF=CA=FD=A3=AC=D2=B2=CA=C7=D7=
=EE=D6=D8=B5=E3=C4=D1=B5=E3=B7=D6=CE=F6=B5=C4=BA=AF=CA=FD</span><=
/b></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">print "###################Final Data###########=
########\n";</span></div><div><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"font-size: 0.867rem;">print Dump(\@partition_layout_c=
ooked);</span></div><div><br></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(=
255, 0, 0);">&amp;GenYAMLScatFile();&nbsp;&nbsp;</span><b style=3D=
"font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=
=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); background-col=
or: rgb(255, 0, 0);">--&gt;=B5=DA=C6=DF=B8=F6=B7=D6=CE=F6=B5=C4=BA=
=AF=CA=FD=A3=AC</span></b><b style=3D"font-size: 13.005px; line-h=
eight: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"=
color: rgb(0, 0, 255); background-color: rgb(255, 0, 0);">=D2=B2=CA=
=C7=D7=EE=D6=D8=B5=E3=C4=D1=B5=E3=B7=D6=CE=F6=B5=C4=BA=AF=CA=FD=A3=
=AC</span></b></div><div><br></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem;">if ($ArgList{EMMC_SUP=
PORT} eq "yes" || $ArgList{NAND_UBIFS_SUPPORT} eq "yes")</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">{</span></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &amp;GenPartSiz=
eFile_iniFile($PART_SIZE_LOCATION, $PRODUCT_OUT);</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem;">}</span></div><div><br></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem;">if ($ArgList{EMMC_SUP=
PORT} ne "yes")</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;">{</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp=
; &nbsp; #EMMC LK fastboot partition move to alps\mediatek\platfo=
rm\mt6752\lk\include\platform\partition_fastboot.h</span></div><d=
iv><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem;">&nbsp; &nbsp; &amp;GenLK_PartitionC();&nbsp;</span></div><=
div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.8=
67rem;">&nbsp; &nbsp; &amp;GenKernel_PartitionC();</span></div><d=
iv><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem;">}</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem;">if ($DebugPrint eq "yes")</span></d=
iv><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem;">{</span></div><div><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &amp;print_rm_sc=
ript();</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem;">}</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">print "^_^***=
*******Ptgen Done********** ^_^\n";</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">printf "=
Generated files list:\n" . ("%s\n" x @GeneratedFile), @GeneratedF=
ile;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">exit 0;</span></div><div><br></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">#***********************************************************=
*****************</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;"># subroutine: &nbsp;InitAl=
ians</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;"># return:NONE</span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">#***=
*****************************************************************=
********</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem; background-color: rgb(255, 0, 0);">s=
ub InitGlobalValue</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">{</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"background-color: rg=
b(192, 192, 192);">=3Dalias &nbsp;</span><b><span data-wiz-span=3D=
"data-wiz-span" style=3D"background-color: rgb(192, 192, 192);">-=
-&gt;perl=B5=C4=B6=E0=D0=D0=D7=A2=CA=CD=D2=D4=3D=BC=D3=C8=CE=D2=E2=
=D7=D6=B7=FB=BF=AA=CD=B7=A3=AC=D2=D4=3Dcut=BD=E1=CE=B2=A3=AC=B5=A5=
=D0=D0=D7=A2=CA=CD=D2=D4#=BF=AA=CD=B7</span></b></span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; #alias</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp;=20=
&nbsp; $preloader_alias{"SECCFG"} &nbsp;=3D "SECURE";</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; $pr=
eloader_alias{"SEC_RO"} &nbsp;=3D "SECSTATIC";</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; $preloader=
_alias{"ANDROID"} =3D "ANDSYSIMG";</span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; background=
-color: rgb(192, 192, 192);">&nbsp; &nbsp; $preloader_alias{"USRD=
ATA"} =3D "USER";</span></div><div><br></div><div><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-c=
olor: rgb(192, 192, 192);">&nbsp; &nbsp; $lk_xmodule_alias{"DSP_B=
L"} &nbsp;=3D "DSP_DL";</span></div><div><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb=
(192, 192, 192);">&nbsp; &nbsp; $lk_xmodule_alias{"SECCFG"} &nbsp=
;=3D "SECURE";</span></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem; background-color: rgb(192, 192=
, 192);">&nbsp; &nbsp; $lk_xmodule_alias{"SEC_RO"} &nbsp;=3D "SEC=
STATIC";</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192)=
;">&nbsp; &nbsp; $lk_xmodule_alias{"EXPDB"} &nbsp; =3D "APANIC";<=
/span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"f=
ont-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp;=
 &nbsp; $lk_xmodule_alias{"ANDROID"} =3D "ANDSYSIMG";</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; $lk=
_xmodule_alias{"USRDATA"} =3D "USER";</span></div><div><br></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; $lk_=
alias{"BOOTIMG"} =3D "boot";</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-color=
: rgb(192, 192, 192);">&nbsp; &nbsp; $lk_alias{"ANDROID"} =3D "sy=
stem";</span></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);"=
>&nbsp; &nbsp; $lk_alias{"USRDATA"} =3D "userdata";</span></div><=
div><br></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbs=
p; &nbsp; $kernel_alias{"SECCFG"} &nbsp;=3D "seccnfg";</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; $k=
ernel_alias{"BOOTIMG"} =3D "boot";</span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; background=
-color: rgb(192, 192, 192);">&nbsp; &nbsp; $kernel_alias{"SEC_RO"=
} &nbsp;=3D "secstatic";</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem; background-color: rg=
b(192, 192, 192);">&nbsp; &nbsp; $kernel_alias{"ANDROID"} =3D "sy=
stem";</span></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);"=
>&nbsp; &nbsp; $kernel_alias{"USRDATA"} =3D "userdata";</span></d=
iv><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem; background-color: rgb(192, 192, 192);">=3Dcut</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">&nbsp; &nbsp; %region_map =3D (</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp;EMMC_USER &nbsp; =3D&gt; "EMMC_PART_USER",</span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp;EMMC_BOOT_1 =3D&gt; "EMMC_PART_BOOT1",</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp;EMMC_BOOT_2 =3D&gt; "EMMC_PART_BOOT2",</span></div><div><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp;EMMC_RPMB &nbsp; =3D&gt; "EMMC_PART_RPMB",</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp;EMMC_GP_1 &nbsp; =3D&gt; "EMMC_PART_GP1",</span></div><d=
iv><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp;EMMC_GP_2 &nbsp; =3D&gt; "EMMC_PART_GP2",</span></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp;EMMC_GP_3 &nbsp; =3D&gt; "EMMC_PART_GP3",</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp;EMMC_GP_4 &nbsp; =3D&gt; "EMMC_PART_GP4",</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; );</span></div><div><br></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; #=
Feature Options:parse argv from alps/vendor/mediatek/config/{proj=
ect}/ProjectConfig.mk</span></div><div><br></div><div><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=20=
&nbsp; $ArgList{PLATFORM} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; =3D $ENV{PLATFORM};</span></div><div><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">=
&nbsp; &nbsp; $ArgList{platform} &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; =3D lc($ENV{PLATFORM});</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">&nbsp; &nbsp; $ArgList{BASE_PROJECT} &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; =3D $ENV{MTK_BASE_PROJECT};</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">&nbsp; &nbsp; $ArgList{PRELOADER_PROJECT} &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp;=3D $ENV{PRELOADER_TARGET_PRODUCT};</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">&nbsp; &nbsp; $ArgList{PROJECT} &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=3D $ENV{M=
TK_TARGET_PROJECT};</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; $ArgList{F=
ULL_PROJECT} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =3D=
 $ENV{MTK_TARGET_PROJECT};</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; $Arg=
List{PAGE_SIZE} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp;=3D $ENV{MTK_NAND_PAGE_SIZE};</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&=
nbsp; &nbsp; <span data-wiz-span=3D"data-wiz-span" style=3D"color=
: rgb(0, 0, 255);">$ArgList{EMMC_SUPPORT} &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; =3D $ENV{MTK_EMMC_SUPPORT};</span></spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem;">&nbsp; &nbsp; $ArgList{EMMC_SUPPORT_OTP} &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; =3D $ENV{MTK_EMMC_SUPPORT_OTP};</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">&nbsp; &nbsp; $ArgList{SHARED_SDCARD} &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=3D $ENV{MTK_SHARED_SDCARD};=
</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem;">&nbsp; &nbsp; $ArgList{CIP_SUPPORT} &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=3D $ENV{MTK_CIP_=
SUPPORT};</span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;">&nbsp; &nbsp; $ArgList{FAT_ON_NAND=
} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=3D $ENV=
{MTK_FAT_ON_NAND};</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; $ArgList{NA=
ND_UBIFS_SUPPORT} &nbsp; &nbsp; &nbsp; &nbsp; =3D $ENV{MTK_NAND_U=
BIFS_SUPPORT};</span></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; $ArgList{COMBO_=
NAND_SUPPORT} &nbsp; &nbsp; &nbsp; &nbsp; =3D $ENV{MTK_COMBO_NAND=
_SUPPORT};</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem;">&nbsp; &nbsp; $ArgList{PL_MODE} &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp;=3D $ENV{PL_MODE};</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; $ArgList=
{PARTITION_TABLE_PLAIN_TEXT} =3D $ENV{MTK_PARTITION_TABLE_PLAIN_T=
EXT};</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">&nbsp; &nbsp; $ArgList{MTK_IN_HOUSE_TE=
E_ATF_SUPPORT} &nbsp;=3D $ENV{MTK_ATF_SUPPORT};</span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">&nbsp; &nbsp; $ArgList{MTK_IN_HOUSE_TEE_TEE_SUPPORT} &nbsp;=3D=
 $ENV{MTK_IN_HOUSE_TEE_SUPPORT};</span></div><div><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbs=
p; $ArgList{PERSIST_PARTITION_SUPPORT}</span><span class=3D"Apple=
-tab-span" style=3D"white-space:pre"><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">	</span></span><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"> =3D=20=
$ENV{MTK_PERSIST_PARTITION_SUPPORT};</span></div><div><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=20=
&nbsp; $ArgList{DRM_KEY_MNG_SUPPORT}</span><span class=3D"Apple-t=
ab-span" style=3D"white-space:pre"><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">	</span></span><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"> &nbsp;=
 &nbsp; =3D $ENV{MTK_DRM_KEY_MNG_SUPPORT};</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&=
nbsp; &nbsp; $ArgList{FACTORY_RESET_PROTECTION_SUPPORT}</span><sp=
an class=3D"Apple-tab-span" style=3D"white-space:pre"><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">	</span=
></span><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem;"> &nbsp; &nbsp; =3D $ENV{MTK_FACTORY_RESET_PROTECTION_=
SUPPORT};</span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;">&nbsp; &nbsp; $ArgList{MTK_TC1_FEA=
TURE}</span><span class=3D"Apple-tab-span" style=3D"white-space:p=
re"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.8=
67rem;">	</span></span><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;"> &nbsp; &nbsp; &nbsp; &nbsp; =3D $ENV{=
MTK_TC1_FEATURE};</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; $ArgList{INH=
OUSE_GPU}</span><span class=3D"Apple-tab-span" style=3D"white-spa=
ce:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem;">	</span></span><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; =3D $ENV{MTK_INHOUSE_GPU};</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &=
nbsp;&nbsp;</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;&nbsp;</span></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem;"><span data-wiz-span=3D"data-wiz-span" style=3D"backgroun=
d-color: rgb(192, 192, 192);">&nbsp; &nbsp; if ($ArgList{</span><=
span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 25=
5); background-color: rgb(192, 192, 192);">EMMC_SUPPORT</span><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"background-color: rgb=
(192, 192, 192);">} eq "yes") &nbsp;</span><b><span data-wiz-span=
=3D"data-wiz-span" style=3D"background-color: rgb(192, 192, 192);=
">--&gt;=D4=DAdevice/joya_sz/jasz8167_tb_n/ProjectConfig.mk=D6=D0=
=B6=A8=D2=E5MTK_EMMC_SUPPORT =3D yes</span></b></span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; {</span><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; $ArgList{PAGE_SIZE} =3D=
 2;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbs=
p; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size:0.867rem;background-color:rgb(192, 192, 192)=
">&nbsp; &nbsp; else</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(19=
2, 192, 192);">&nbsp; &nbsp; {</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-col=
or: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; if ($ArgList=
{COMBO_NAND_SUPPORT} eq "yes")</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-col=
or: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; {</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; $ArgList{PAGE_SIZE} =3D 4;</span></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbs=
p; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem; background-color: rgb(192, 192, 1=
92);">&nbsp; &nbsp; &nbsp; &nbsp; else</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgr=
ound-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; {</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($ENV{MTK_NAND_PAGE_SIZE} =3D=
~ /(\d)K/)</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem; background-color: rgb(192, 192, 19=
2);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $ArgList{PAGE_SIZE} =3D $1;</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; background=
-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; }</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp=
; }</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbs=
p; &nbsp; if (!$ENV{TARGET_BUILD_VARIANT}) &nbsp;<b>--&gt;=C8=F4=CE=
=B4=B6=A8=D2=E5</b></span><span style=3D"font-size: 13.005px; lin=
e-height: 20.808px; background-color: rgb(192, 192, 192);"><b>TAR=
GET_BUILD_VARIANT=D4=F2=D7=DF=B8=C3=B7=D6=D6=A7=A3=AC=CA=B5=BC=CA=
=C9=CFlunch=C1=F7=B3=CC=D6=D0=BB=E1=D4=DAbuild/envsetup.sh=D6=D0=D3=
=D6=B6=A8=D2=E5=C1=CB=A3=AC=B2=BB=D7=DF=B8=C3=B7=D6=D6=A7=A3=A8=B3=
=FD=B7=C7=B2=BBlunch=A3=A9</b></span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-col=
or: rgb(192, 192, 192);">&nbsp; &nbsp; {</span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; back=
ground-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; $A=
rgList{TARGET_BUILD_VARIANT} =3D "eng";</span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backg=
round-color: rgb(192, 192, 192);">&nbsp; &nbsp; }</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; else</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &=
nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; $ArgList=
{TARGET_BUILD_VARIANT} =3D $ENV{TARGET_BUILD_VARIANT};</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; }<=
/span></div><div><br></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; #filepath;</spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem; background-color: rgb(255, 0, 0);">&nbsp; &nbsp;=20=
$ptgen_location =3D "device/mediatek/build/build/tools/ptgen/$Arg=
List{PLATFORM}"; &nbsp;<b>--&gt;</b></span><b><span style=3D"font=
-size: 13.005px; line-height: 20.808px; background-color: rgb(255=
, 0, 0);">$ptgen_location =3D</span><span style=3D"font-size: 13.=
005px; line-height: 20.808px; background-color: rgb(255, 0, 0);">=
&nbsp;"</span><span style=3D"font-size: 0.867rem; line-height: 1.=
6; background-color: rgb(255, 0, 0);">device/mediatek/build/build=
/tools/ptgen/MT8167"</span></b></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;"><span data-wiz-span=
=3D"data-wiz-span" style=3D"background-color: rgb(192, 192, 192);=
">&nbsp; &nbsp; if ($ArgList{PL_MODE}) &nbsp;</span><b><span data=
-wiz-span=3D"data-wiz-span" style=3D"background-color: rgb(192, 1=
92, 192);">--&gt;=C4=AC=C8=CF=CE=B4=B6=A8=D2=E5</span></b></span>=
<span style=3D"font-size: 13.005px; line-height: 20.808px;"><b><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"background-color: rg=
b(192, 192, 192);">PL_MODE=A3=AC=B2=BB=D7=DF=B8=C3=B7=D6=D6=A7</s=
pan></b></span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192)=
;">&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem; background-color: rgb(192,=
 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; $Partition_layout_xls =3D=
 "$ptgen_location/test_partition_table_internal_$ArgList{PLATFORM=
}.xls";</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);=
">&nbsp; &nbsp; &nbsp; &nbsp; $ArgList{SHEET_NAME} =3D $ArgList{P=
L_MODE};</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192)=
;">&nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem; background-color: rgb(192,=
 192, 192);">&nbsp; &nbsp; else</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-co=
lor: rgb(192, 192, 192);">&nbsp; &nbsp; {</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; bac=
kground-color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; $Part=
ition_layout_xls =3D "$ptgen_location/partition_table_$ArgList{PL=
ATFORM}.xls"; &nbsp;<b>--&gt;</b></span><b><span style=3D"font-si=
ze: 13.005px; line-height: 20.808px; background-color: rgb(255, 0=
, 0);">$Partition_layout_xls =3D</span><span style=3D"font-size:=20=
13.005px; line-height: 20.808px; background-color: rgb(255, 0, 0)=
;">&nbsp;</span><span style=3D"line-height: 1.6;"><span style=3D"=
font-size: 13.005px; line-height: 20.808px; background-color: rgb=
(255, 0, 0);">"</span><span style=3D"font-size: 0.867rem; line-he=
ight: 1.6; background-color: rgb(255, 0, 0);">device/mediatek/bui=
ld/build/tools/ptgen/M<span data-wiz-span=3D"data-wiz-span" style=
=3D"background-color: rgb(255, 0, 0);">T8167/</span></span></span=
><span style=3D"font-size: 13.005px; line-height: 20.808px;"><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"background-color: rgb(=
255, 0, 0);">partition_table_MT8167.xls</span></span><span style=3D=
"line-height: 1.6;"><span style=3D"font-size: 0.867rem; line-heig=
ht: 1.6; background-color: rgb(255, 0, 0);"><span data-wiz-span=3D=
"data-wiz-span" style=3D"background-color: rgb(255, 0, 0);">"</sp=
an></span></span></b></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem; background-color: rgb(192, 192=
, 192);">&nbsp; &nbsp; &nbsp; &nbsp; if ($ArgList{EMMC_SUPPORT} e=
q "yes") &nbsp;</span><b style=3D"font-size: 13.005px; line-heigh=
t: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"back=
ground-color: rgb(192, 192, 192);">--&gt;=D4=DAdevice/joya_sz/jas=
z8167_tb_n/ProjectConfig.mk=D6=D0=B6=A8=D2=E5MTK_EMMC_SUPPORT =3D=
 yes</span></b></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192)=
;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-c=
olor: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
$ArgList{SHEET_NAME} =3D "emmc";</span></div><div><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-c=
olor: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; }</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp;=20=
&nbsp; &nbsp; else</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem; background-color: rgb(192,=
 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; ba=
ckground-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; $ArgList{SHEET_NAME} =3D "nand";</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nb=
sp; }</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);">=
&nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;"><span data-wiz-span=3D"data-=
wiz-span" style=3D"background-color: rgb(192, 192, 192);">&nbsp;=20=
&nbsp; if (exists $ENV{"PTGEN_MK_OUT"}) &nbsp;</span><b><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"background-color: rgb(192,=20=
192, 192);">--&gt;=D4=DAdevice/mediatek/common/BoardConfig.mk=D6=D0=
=B6=A8=D2=E5MTK_PTGEN_MK_OUT :=3D $(MTK_PTGEN_PRODUCT_OUT)/obj/PT=
GEN</span></b></span></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem; background-color: rgb(192, 192=
, 192);">&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp=
; &nbsp; $PRODUCT_OUT =3D $ENV{"PTGEN_MK_OUT"} . "/../.."; &nbsp;=
<b><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0=
, 255);">--&gt;=D5=E2=C0=EF=B5=C4.=CA=C7=B4=FA=B1=ED=C1=AC=BD=D3=B7=
=FB=C2=F0=A3=BF=A3=BF=A3=BF=A3=AC=D3=D0=B4=FD=BD=F8=D2=BB=B2=BD=C1=
=CB=BD=E2=A3=A8=D5=E2=CA=C7perl=D3=EF=B7=A8=A3=BA.=B4=FA=B1=ED=D7=
=D6=B7=FB=B4=AE=C1=AC=BD=D3=A3=A9</span></b></span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=20=
background-color: rgb(192, 192, 192);">&nbsp; &nbsp; }</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; el=
sif (exists $ENV{OUT_DIR})</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(192, 192, 192);">&nbsp; &nbsp; {</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgroun=
d-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; $PRODUC=
T_OUT =3D "$ENV{OUT_DIR}/target/product/$ArgList{PROJECT}";</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbs=
p; }</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);">&=
nbsp; &nbsp; else</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem; background-color: rgb(192,=20=
192, 192);">&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; $PRODUCT_OUT =3D=20=
"out/target/product/$ArgList{PROJECT}";</span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backg=
round-color: rgb(192, 192, 192);">&nbsp; &nbsp; }</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem; background-color: rgb(255, 0, 0);">&nbsp; &nbsp; print "PROD=
UCT_OUT=3D$PRODUCT_OUT\n"; &nbsp;<b>--&gt;=D5=E2=B8=F6=B5=DA=D2=BB=
=CC=F5=B4=F2=D3=A1=B3=F6=C0=B4=B5=C4=B1=E0=D2=EBlog</b></span></d=
iv><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem;">&nbsp; &nbsp;&nbsp;</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp=
; $custom_out_prefix &nbsp;=3D "$ENV{PTGEN_MK_OUT}";#"mediatek/cu=
stom/$ArgList{PROJECT}";</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; $conf=
igs_out_prefix =3D "$ENV{PTGEN_MK_OUT}";#"mediatek/config/$ArgLis=
t{PROJECT}";</span></div><div><br></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; #dow=
nload files</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; %download_files =3D=
 (</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;preloader &nbsp;=3D&gt;=20=
"preloader_$ArgList{PRELOADER_PROJECT}.bin",</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp;srampreld =3D&gt; "sram_preloader_$ArgList{BAS=
E_PROJECT}.bin",</span></div><div><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mempreld=20=
&nbsp;=3D&gt; "mem_preloader_$ArgList{BASE_PROJECT}.bin",</span><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp;lk &nbsp; &nbsp; &nbsp;=3D&gt; "l=
k.bin",</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;boot &nbsp; &nbsp;=
=3D&gt; "boot.img",</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;recove=
ry &nbsp; =3D&gt; "recovery.img",</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp;secro &nbsp; &nbsp; =3D&gt; "secro.img",</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp;logo &nbsp; &nbsp; &nbsp; =3D&gt; "logo.bi=
n",</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;system &nbsp; &nbsp;=3D&=
gt; "system.img",</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;cache &n=
bsp; &nbsp; &nbsp;=3D&gt; "cache.img",</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp;userdata &nbsp; &nbsp;=3D&gt; "userdata.img",</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp;custom &nbsp; &nbsp; =3D&gt; "cu=
stom.img"</span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span></div><div><b=
r></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem;">&nbsp; &nbsp; #operation type</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;">&nbsp; &nbsp; %sepcial_operation_type =3D (</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;preloader =3D&gt=
; "BOOTLOADERS",</span></div><div><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp;nvram &nbsp; &nbsp; =3D&gt; "BINREGION",</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pro=
info &nbsp;=3D&gt; "PROTECTED",</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;protect1 =3D&gt; "PROTECTED",</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
;protect2 =3D&gt; "PROTECTED",</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp;otp &nbsp; &nbsp; &nbsp; =3D&gt;=
 "RESERVED",</span></div><div><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp;flashinfo &nbsp; =3D&gt; "RESERVED",</span></div><=
div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.8=
67rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span></div><d=
iv><br></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem;">&nbsp; &nbsp; #1MB=3D1048576 byte align</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">&nbsp; &nbsp; #8MB=3D8388608 byte align</span><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem;">&nbsp; &nbsp; %AlignPartList =3D (</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; system =3D&gt; 8388608,</span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; cache &nbsp; =3D&gt; 8388608,</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; userdata =3D&gt; 8388608,</span></div><div><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 intsd &nbsp; &nbsp; =3D&gt; 8388608</span></div><div><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp;);</span></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem;">}</span></div><div><br></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>#***************************************************************=
*************</span></div><div><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem;"># sub functions</span></div><d=
iv><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem;">#*********************************************************=
*******************</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;"><b><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 255);">sub ShowInfo</sp=
an></b></span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem;">{</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;=
 my $arglist =3D shift @_;</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; prin=
tf "Partition Table Generator: Version=3D%.1f \nChangeHistory:\n%=
s\n", $Version, $ChangeHistory;</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp=
; print "*******************Arguments*********************\n";</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">&nbsp; &nbsp; foreach my $key (sort keys %{$ar=
glist})</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem;">&nbsp; &nbsp; {</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>&nbsp; &nbsp; &nbsp; &nbsp; if (!$arglist-&gt;{$key})</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print "\t$key \t=3D -NO VA=
LUE-\n";</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; else</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; print "\t$key \t=3D $arglist-&gt=
;{$key}\n";</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">&nbsp; &nbsp; }</span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &n=
bsp; print "*******************Arguments*********************\n";=
</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem;">}</span></div><div><br></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"><b><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 0);=
">sub ReadPlainText</span></b></span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">{</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;">&nbsp; &nbsp; my $filepath =3D shift @_;</span></div><d=
iv><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem;">&nbsp; &nbsp; my $yaml;</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;=
 eval { $yaml =3D LoadFile($filepath); };</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&n=
bsp; &nbsp; if ($@)</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; {</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &amp;error_handler("Read=
 YAML Partition layout fail", __FILE__, __LINE__, $@);</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">&nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; retu=
rn $yaml;</span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;">}</span></div><div><br></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;"><b><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(=
0, 0, 255);">sub GenPlainText</span></b></span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">{</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem;">&nbsp; &nbsp; my ($filepath, $list) =3D @_;</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem;">&nbsp; &nbsp; if (-e $filepath)</span></div><=
div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.8=
67rem;">&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=
 &nbsp; my $dirpath =3D substr($filepath, 0, rindex($filepath, "/=
")); &nbsp;<b>--&gt;=BD=ABdevice/mediatek/build/build/tools/ptgen=
/MT8167/emmc.yaml=CE=C4=BC=FE=B5=C4=CD=EA=D5=FB=C2=B7=BE=B6=CC=E1=
=C8=A1=B3=F6=C0=B4=A3=BA</b></span><b style=3D"font-size: 13.005p=
x; line-height: 20.808px;">device/mediatek/build/build/tools/ptge=
n/MT8167</b></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; chmod(0777=
, $dirpath) or &amp;error_handler("chmod 0777 $dirpath fail", __F=
ILE__, __LINE__); &nbsp;<b><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"color: rgb(0, 0, 255);">--&gt;=B8=F8=B8=C3=C2=B7=BE=B6=CF=
=C2=B5=C4=CE=C4=BC=FE=BC=D0=B8=B3=D3=E8777=C8=A8=CF=DE=A3=AC=B1=DC=
=C3=E2=B2=D9=D7=F7=C8=A8=CF=DE=CE=CA=CC=E2</span></b></span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if (!unlink $filepath) &nbs=
p;<b><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=
 0, 255);">--&gt;=C9=BE=B3=FD=D6=AE=C7=B0=B5=C4</span></b></span>=
<b style=3D"font-size: 13.005px; line-height: 20.808px;"><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); fon=
t-size: 0.867rem;">emmc.yaml=CE=C4=BC=FE</span></b></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &amp;error_handler("remove $filepath=
 fail ", __FILE__, __LINE__);</span></div><div><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;=20=
&nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; }</span></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem;">&nbsp; &nbsp; eval { DumpFile($filepath, $list) }; &nbsp=
;<b><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 255);">--&gt;=B4=B4=BD=A8=D0=C2=B5=C4</span></b></span><b styl=
e=3D"font-size: 13.005px; line-height: 20.808px;"><span data-wiz-=
span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); font-size:=
 0.867rem;">emmc.<span data-wiz-span=3D"data-wiz-span" style=3D"c=
olor: rgb(0, 0, 255);">yaml=CE=C4=BC=FE=B2=A2=D0=B4=C8=EB$list=B5=
=C4=C4=DA=C8=DD=A3=AC</span></span></b><span style=3D"font-size:=20=
13.005px; line-height: 20.808px;"><b><span data-wiz-span=3D"data-=
wiz-span" style=3D"color: rgb(255, 0, 0);">DumpFile=BA=AF=CA=FD=BF=
=C9=B2=CE=BF=BC=CD=F8=D6=B7=A3=BA</span></b></span><font color=3D=
"#ff0000"><span style=3D"font-size: 13.005px; line-height: 20.808=
px;"><b><a href=3D"http://search.cpan.org/~ingy/YAML-1.23/lib/YAM=
L.pod">http://search.cpan.org/~ingy/YAML-1.23/lib/YAML.pod</a></b=
></span></font></div><div><b><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 255);">&nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --&gt;</span><a name=3D=
"DumpFile(filepath,_list)" style=3D"font-family: arial, sans-seri=
f; font-size: medium; line-height: normal;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 255);">DumpFile(filepat=
h, list) &nbsp;--&gt;</span></a><span style=3D"font-family: arial=
, sans-serif; font-size: medium; line-height: normal; background-=
color: rgb(255, 255, 255);"><span data-wiz-span=3D"data-wiz-span"=
 style=3D"color: rgb(0, 0, 255);">Writes the YAML stream to a fil=
e instead of just returning a string.</span></span></b></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">&nbsp; &nbsp; if ($@)</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; {</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &amp;error_handler=
("DumpFile from YAML fail ", __FILE__, __LINE__, $@);</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;">&nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">}</span></div><div=
><br></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem;">#********************************************=
********************************</span></div><div><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"># subroutin=
e: &nbsp;ReadExcelFile</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem;"># return:</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;">#******************************************************=
**********************</span></div><div><br></div><div><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgro=
und-color: rgb(255, 0, 0);">sub ReadExcelFile &nbsp;<b>--&gt;</b>=
</span><b><span style=3D"font-size: 13.005px; line-height: 20.808=
px; background-color: rgb(255, 0, 0);">&amp;ReadExcelFile($Partit=
ion_layout_xls);</span><span style=3D"font-size: 13.005px; line-h=
eight: 20.808px; background-color: rgb(255, 0, 0);">&nbsp;=D2=B2=BE=
=CD=CA=C7=CB=B5</span><span style=3D"font-size: 13.005px; line-he=
ight: 20.808px; background-color: rgb(255, 0, 0);">=CA=E4=C8=EB=B5=
=C4=B2=CE=CA=FD=CE=AA</span><span style=3D"font-size: 13.005px; l=
ine-height: 20.808px; background-color: rgb(255, 0, 0);">$Partiti=
on_layout_xls</span><span style=3D"line-height: 1.6;"><span style=
=3D"font-size: 13.005px; line-height: 20.808px; background-color:=
 rgb(255, 0, 0);">=3D</span><span style=3D"font-size: 13.005px; l=
ine-height: 20.808px; background-color: rgb(255, 0, 0);">&nbsp;</=
span><span style=3D"line-height: 1.6;"><span style=3D"font-size:=20=
13.005px; line-height: 20.808px; background-color: rgb(255, 0, 0)=
;">"</span><span style=3D"font-size: 0.867rem; line-height: 1.6;=20=
background-color: rgb(255, 0, 0);">device/mediatek/build/build/to=
ols/ptgen/M<span data-wiz-span=3D"data-wiz-span">T8167/</span></s=
pan></span><span style=3D"font-size: 13.005px; line-height: 20.80=
8px;"><span data-wiz-span=3D"data-wiz-span" style=3D"background-c=
olor: rgb(255, 0, 0);">partition_table_MT8167.xls</span></span><s=
pan style=3D"line-height: 1.6;"><span style=3D"font-size: 0.867re=
m; line-height: 1.6; background-color: rgb(255, 0, 0);"><span dat=
a-wiz-span=3D"data-wiz-span">"</span></span></span></span></b></d=
iv><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem;">{</span></div><div><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; my $excelFilePat=
h =3D shift @_;</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; my @col_name &=
nbsp; &nbsp; &nbsp;=3D (); &nbsp;<b>--&gt;=B6=A8=D2=E5=D2=BB=B8=F6=
=BF=D5=C1=D0=B1=ED</b></span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; my @col=
_sub_name &nbsp;=3D (); &nbsp;</span><b style=3D"font-size: 13.00=
5px; line-height: 20.808px;">--&gt;</b><b style=3D"font-size: 13.=
005px; line-height: 20.808px;">=B6=A8=D2=E5=D2=BB=B8=F6=BF=D5=C1=D0=
=B1=ED</b></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp; my $PartitonBook &nbsp;=3D S=
preadsheet::ParseExcel-&gt;new()-&gt;Parse($excelFilePath);</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">&nbsp; &nbsp; my $sheet &nbsp; &nbsp; &nbsp; &nbs=
p; =3D $PartitonBook-&gt;Worksheet($ArgList{SHEET_NAME}); &nbsp;<=
b>--&gt;=B2=E9=D5=D2=B1=ED=B8=F1=D6=D0=B5=C4emmc=D2=B3</b></span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;"><span data-wiz-span=3D"data-wiz-span" style=3D"bac=
kground-color: rgb(192, 192, 192);">&nbsp; &nbsp; if (!$sheet) &n=
bsp;</span><b><span data-wiz-span=3D"data-wiz-span" style=3D"back=
ground-color: rgb(192, 192, 192);">--&gt;=D5=D2=B2=BB=B5=BDemmc=D2=
=B3=D4=F2=B1=A8=B4=ED=CD=CB=B3=F6</span></b></span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=20=
background-color: rgb(192, 192, 192);">&nbsp; &nbsp; {</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &n=
bsp; &nbsp; &amp;error_handler("ptgen open sheet=3D$ArgList{SHEET=
_NAME} fail in $excelFilePath ", __FILE__, __LINE__);</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; }</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem;">&nbsp; &nbsp; my ($row_min, $row_max) =3D $sh=
eet-&gt;row_range(); &nbsp; &nbsp;#$row_min=3D0=A3=AC<b>=CB=F7=D2=
=FD=CB=F9=D3=D0=B5=C4=D0=D0</b></span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp=
; my ($col_min, $col_max) =3D $sheet-&gt;col_range(); &nbsp; &nbs=
p;#$col_min=3D0=A3=AC</span><b style=3D"font-size: 13.005px; line=
-height: 20.808px;">=CB=F7=D2=FD=CB=F9=D3=D0=B5=C4=C1=D0</b></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;">&nbsp; &nbsp; my $row_cur =3D $row_min; &nbsp;<b>--&gt;=
=B4=D3</b></span><b style=3D"font-size: 13.005px; line-height: 20=
.808px;">=D0=D0=BF=AA=CA=BC=B1=E9=C0=FA</b></div><div><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=20=
&nbsp; foreach my $col_idx ($col_min .. $col_max) &nbsp;<b>--&gt;=
=BD=AB=D1=AD=BB=B7=C1=D0=B1=ED=D6=D0=B5=C4=D6=B5=B7=C5=B5=BD=C1=D9=
=CA=B1=B1=E4=C1=BF</b></span><span style=3D"font-size: 13.005px;=20=
line-height: 20.808px;"><b>$col_idx=D6=D0</b></span></div><div><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
">&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp=
; push(@col_name, &nbsp; &nbsp; &amp;xls_cell_value($sheet, <b>$r=
ow_cur</b>, &nbsp; &nbsp; $col_idx)); &nbsp;<b>--&gt;=D5=E2=C0=EF=
=BD=E2=CE=F6=B5=DA=D2=BB=B5=DA=B6=FE=D0=D0=B5=C4=C3=FB=B3=C6=A3=AC=
=D6=F7=D2=AA=CA=C7=D5=EB=B6=D4eng=BA=CDuser=B0=E6=B1=BE=D7=DF=C7=F8=
=B7=D6=A3=AC=D2=F2=CE=AA=C6=E4=CB=FB=B5=C4=C3=FB=B3=C6=B6=BC=CA=C7=
@</b></span><b><span style=3D"font-size: 13.005px; line-height: 2=
0.808px;">col_name=BA=CD@</span><span style=3D"font-size: 13.005p=
x; line-height: 20.808px;">col_sub_name=B6=BC=CA=C7=D2=BB=D1=F9=B5=
=C4</span></b></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; push(@co=
l_sub_name, &amp;xls_cell_value($sheet, <b>$row_cur + 1</b>, $col=
_idx));</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem;">&nbsp; &nbsp; }</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>&nbsp; &nbsp; $row_cur +=3D 2;</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp=
;<span data-wiz-span=3D"data-wiz-span" style=3D"background-color:=
 rgb(255, 255, 0);"> foreach my $col_idx ($col_min .. $col_max) &=
nbsp; <b><span data-wiz-span=3D"data-wiz-span" style=3D"color: rg=
b(255, 0, 0);">--&gt;=D5=E2=B2=BF=B7=D6=C5=E4=BA=CFlog=BD=F8=D0=D0=
=BF=EC=CB=D9=B7=D6=CE=F6=D1=A7=CF=B0</span></b></span></span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; {</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nb=
sp; &nbsp; &nbsp; foreach my $row_idx ($row_cur .. $row_max)</spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp=
; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem; background-color: rgb(255,=20=
255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; my $value =3D=
 &amp;xls_cell_value($sheet, $row_idx, $col_idx);</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem;"><span data-wiz-span=3D"data-wiz-span" style=3D"background-c=
olor: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; if ($col_name[$col_idx - $col_min]) &nbsp;</span><b><span data-=
wiz-span=3D"data-wiz-span" style=3D"background-color: rgb(255, 25=
5, 0);">--&gt;=B4=F8=CF=C2=B1=EA=B5=C4=CA=FD=D7=E9=A3=AC=C4=AC=C8=
=CF=CE=AA=D2=BB=CE=AC=CA=FD=D7=E9</span></b></span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=20=
background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;"><span data-wiz-span=3D"data-=
wiz-span" style=3D"background-color: rgb(255, 255, 0);">&nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $partition_layout_=
raw[$row_idx - $row_cur]-&gt;{$col_name[$col_idx - $col_min]} =3D=
 $value; &nbsp;</span><b><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"background-color: rgb(255, 255, 0);">--&gt;=B6=FE=CE=AC=CA=
=FD=D7=E9=A3=BA</span></b></span><span style=3D"font-size: 13.005=
px; line-height: 20.808px;"><b><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"background-color: rgb(255, 255, 0);">$partition_layo=
ut_raw[0]-&gt;{Partition_Name}=3Dpreloader=A1=A2partition_layout_=
raw[0]-&gt;{Type}=3DRaw data</span></b></span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backg=
round-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem; background-color: rgb(255, 255, 0)=
;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(25=
5, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; my $pre_col_value =3D $partition_layout_raw[$row_idx - $row_c=
ur]-&gt;{$col_name[$col_idx - $col_min - 1]};</span></div><div><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
 background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; if (!$value)</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; bac=
kground-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; $value =3D $pre_col_value;</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; background=
-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; $partition_layout_raw[$row_idx - $row_cur]-&gt;=
{$col_name[$col_idx - $col_min - 1]} =3D {$col_sub_name[$col_idx=20=
- $col_min - 1] =3D&gt; $pre_col_value, $col_sub_name[$col_idx -=20=
$col_min] =3D&gt; $value};</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbs=
p; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; }</span></d=
iv><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem;">}</span></div><div><br></div><div><b><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-co=
lor: rgb(255, 0, 0);">sub ProcessRawPartitionLayoutData &nbsp;<sp=
an data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255)=
;">--&gt;=B4=AB=C8=EB=B2=CE=CA=FD=CE=AA</span></span><span style=3D=
"font-size: 13.005px; line-height: 20.808px;"><span data-wiz-span=
=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); font-size: 0.8=
67rem; background-color: rgb(255, 0, 0);">device/mediatek/build/b=
uild/tools/ptgen/MT8167/emmc.yaml=B5=C4=CE=C4=BC=FE=D6=B8=D5=EB</=
span></span></b></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;">{</span></div><div><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbs=
p; my @partition_layout_process =3D @{shift @_};</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">&nbsp; &nbsp; my $partition_idx &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp;=3D 0;</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; #chose par=
t attribute</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem;"><span data-wiz-span=3D"data-wiz-=
span" style=3D"color:rgb(0, 0, 0);background-color:rgb(255, 255,=20=
0)">&nbsp; &nbsp; for ($partition_idx =3D 0 ; $partition_idx &lt;=
 @partition_layout_process ; $partition_idx++) &nbsp;</span><span=
 data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);"=
><b><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0,=20=
0, 0); background-color: rgb(255, 255, 0);">--&gt;=BD=AB=CB=F9=D3=
=D0=B7=D6=C7=F8=D0=C5=CF=A2=B6=C1=C8=A1=B3=F6=C0=B4=A3=A8=B4=D3ex=
cel=B1=ED=B8=F1=D6=D0=BF=C9=D2=D4=BF=B4=B3=F6=D2=BB=B9=B2=C8=FD=CA=
=AE=B8=F6=B7=D6=C7=F8=A3=A9=A3=AC=D5=E2=B2=BF=B7=D6=C5=E4=BA=CFlo=
g=BD=F8=D0=D0=B7=D6=CE=F6</span></b></span></span></div><div><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; c=
olor: rgb(0, 0, 0); background-color: rgb(255, 255, 0);">&nbsp; &=
nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem; color: rgb(0, 0, 0); background-color=
: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; foreach my $col_=
name_idx (keys %{$partition_layout_process[$partition_idx]})</spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem; color: rgb(0, 0, 0); background-color: rgb(255, 2=
55, 0);">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; color:=
 rgb(0, 0, 0); background-color: rgb(255, 255, 0);">&nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; if (ref $partition_layout_process[$p=
artition_idx]-&gt;{$col_name_idx})</span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; color: rgb=
(0, 0, 0); background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; color: rgb(0, 0, 0)=
; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; if ($ArgList{TARGET_BUILD_VARIANT}=20=
eq "eng")</span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem; color: rgb(0, 0, 0); background-col=
or: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem; color: rgb(0, 0, 0); backgrou=
nd-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $partition_layout_process[$part=
ition_idx]-&gt;{$col_name_idx} =3D $partition_layout_process[$par=
tition_idx]-&gt;{$col_name_idx}-&gt;{eng};</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; co=
lor: rgb(0, 0, 0); background-color: rgb(255, 255, 0);">&nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em; color: rgb(0, 0, 0); background-color: rgb(255, 255, 0);">&nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem; color: rgb(0, 0, 0); background-color: rgb(255, 255,=
 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem; color: rgb(0, 0, 0); background-color: rgb(255=
, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; $partition_layout_process[$partition_idx]-&gt;{$=
col_name_idx} =3D $partition_layout_process[$partition_idx]-&gt;{=
$col_name_idx}-&gt;{user};</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; color: rgb(0, 0, 0)=
; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem; color: rgb(0,=
 0, 0); background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem; color: rgb(0, 0, 0);=20=
background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp;=20=
}</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; color: rgb(0, 0, 0); background-color: rgb(=
255, 255, 0);">&nbsp; &nbsp; }</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;=
 &amp;debug_print_layout("./out/3.log", \@partition_layout_proces=
s);</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp;&nbsp;</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&=
nbsp; &nbsp; #modify size for some part by project</span></div><d=
iv><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem;">&nbsp; &nbsp; my $board_config_path =3D load_boardconfig_p=
artition_info($ArgList{BASE_PROJECT}); &nbsp;<b><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);">--&gt;$ArgL=
ist{BASE_PROJECT=3Djasz8167_tb_n=A3=AC=D5=E2=C0=EF=CF=E0=B5=B1=D3=
=DA</span></b></span><b><span style=3D"font-size: 13.005px; line-=
height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 255);">load_boardconfig_partition_info(</span><=
/span><span style=3D"font-size: 13.005px; line-height: 20.808px;"=
><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0,=20=
255);">jasz8167_tb_n</span></span><span style=3D"font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(0, 0, 255);">)</span></span></b></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">&nbsp; &nbsp; my $board_config =3D &amp;open_for_read("$board=
_config_path"); &nbsp;<b><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"color: rgb(0, 0, 255);">--&gt;$board_config_path=3Ddevice/=
joya_sz/jasz8167_tb_n/BoardConfig.mk</span></b></span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">&nbsp; &nbsp; if ($board_config)</span></div><div><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=20=
&nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; my $lin=
e;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; while (defined=
($line =3D &lt;$board_config&gt;))</span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &n=
bsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; foreach my $part (@partition_layout_process)</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; my $part_name =3D $part-&gt;{Partition_Name};</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; if ($line =3D~ /\A\s*BOARD_MTK_${part_name}_SIZE_KB\s*:=3D\s*=
(\d+)/i || $line =3D~ /\A\s*BOARD_MTK_${part_name}_SIZE_KB\s*:=3D=
\s*(NA)/i)</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $part-&gt;{Siz=
e_KB} =3D $1;</span></div><div><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print "by project size $p=
art_name =3D $1 KB\n";</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=20=
&nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=20=
&nbsp; close $board_config;</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; }els=
e{</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp; </span><span class=3D"Apple-=
tab-span" style=3D"white-space:pre"><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">	</span></span><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">print=20=
"This Project has no BoardConfig.mk \n";</span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nb=
sp; &nbsp; }</span></div><div><br></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; <spa=
n data-wiz-span=3D"data-wiz-span" style=3D"background-color: rgb(=
192, 192, 192);">if ($ArgList{FULL_PROJECT} ne $ArgList{BASE_PROJ=
ECT}) &nbsp;</span><b><span data-wiz-span=3D"data-wiz-span" style=
=3D"color: rgb(0, 0, 255); background-color: rgb(192, 192, 192);"=
>--&gt;</span></b></span><b><span style=3D"font-size: 13.005px; l=
ine-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"color: rgb(0, 0, 255); background-color: rgb(192, 192, 192);=
">$ArgList{FULL_PROJECT}=3D</span></span><span style=3D"font-size=
: 0.867rem; line-height: 1.6;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 255); background-color: rgb(192, 19=
2, 192);">jasz8167_tb_n=3D</span></span><span style=3D"font-size:=
 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-wi=
z-span" style=3D"color: rgb(0, 0, 255); background-color: rgb(192=
, 192, 192);">$ArgList{BASE_PROJECT}=A3=AC=B2=BB=D7=DF=B8=C3=B7=D6=
=D6=A7</span></span></b></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem; background-color: rgb(192,=20=
192, 192);">&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(192, 192, 192);">&nbsp; &nbsp; </span><span class=3D"Apple-tab=
-span" style=3D"white-space:pre"><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem; background-color: rgb(192, 19=
2, 192);">	</span></span><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);=
"> &nbsp;my $flavor_board_config_path =3D load_boardconfig_partit=
ion_info($ArgList{FULL_PROJECT});</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-=
color: rgb(192, 192, 192);">&nbsp; &nbsp; </span><span class=3D"A=
pple-tab-span" style=3D"white-space:pre"><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb=
(192, 192, 192);">	</span></span><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem; background-color: rgb(192, 19=
2, 192);"> &nbsp;my $flavor_board_config =3D &amp;open_for_read("=
$flavor_board_config_path");</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-color=
: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; if ($flavor_bo=
ard_config)</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem; background-color: rgb(192, 192, 1=
92);">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgroun=
d-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; my $line;</span></div><div><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem; background-color: rgb(192, 1=
92, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (defin=
ed($line =3D &lt;$flavor_board_config&gt;))</span></div><div><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; b=
ackground-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem; background-color: rgb(192, 1=
92, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; foreach my $part (@partition_layout_process)</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-=
color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; my $part_name =3D $part-&gt;{Par=
tition_Name};</span></div><div><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem; background-color: rgb(192, 192,=
 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; if ($line =3D~ /\A\s*BOARD_MTK_${part_name}_SIZE_KB\=
s*:=3D\s*(\d+)/i || $line =3D~ /\A\s*BOARD_MTK_${part_name}_SIZE_=
KB\s*:=3D\s*(NA)/i)</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(192=
, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(19=
2, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $part-&gt;{Size_KB} =3D $1;</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; print "by flavor project size $part_name =3D $1 KB\n";<=
/span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"f=
ont-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }=
</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; clo=
se $flavor_board_config;</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem; background-color: rg=
b(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; }else{</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem;">&nbsp; &nbsp; </span><span class=3D"Apple-tab=
-span" style=3D"white-space:pre"><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;">	</span></span><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">print "Th=
is flavor Project has no BoardConfig.mk \n";</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=20=
background-color: rgb(192, 192, 192);">&nbsp; &nbsp; }</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">&nbsp; &nbsp; &amp;debug_print_layout("./out/5.log", \=
@partition_layout_process);</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;&nbsp=
;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(255, 0, 0);">&nbsp; &=
nbsp; #delete some partitions &nbsp;<b>=D5=E2=B2=BF=B7=D6=BF=C9=D2=
=D4=CF=C8=CC=F8=B9=FD=A3=AC=B3=F5=D1=A7=BD=D7=B6=CE=B2=BB=CA=C7=D6=
=D8=B5=E3</b></span></div><div><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;<span data-wiz-sp=
an=3D"data-wiz-span" style=3D"background-color: rgb(192, 192, 192=
);"> for ($partition_idx =3D 0 ; $partition_idx &lt; @partition_l=
ayout_process ; $partition_idx++)</span></span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; back=
ground-color: rgb(192, 192, 192);">&nbsp; &nbsp; {</span></div><d=
iv><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp;=
 &nbsp; if ($partition_layout_process[$partition_idx]-&gt;{Partit=
ion_Name} eq "intsd")</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(1=
92, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
"><span data-wiz-span=3D"data-wiz-span" style=3D"background-color=
: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
if (($ArgList{EMMC_SUPPORT} eq "yes" &amp;&amp; $ArgList{SHARED_S=
DCARD} eq "yes") || ($ArgList{EMMC_SUPPORT} ne "yes" &amp;&amp; $=
ArgList{FAT_ON_NAND} ne "yes")) &nbsp;</span><b><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); background-c=
olor: rgb(192, 192, 192);">--&gt;=C4=AC=C8=CF=C5=E4=D6=C3=D3=D0=D0=
=A7=A3=AC=D7=DF=B8=C3=B7=D6=D6=A7</span></b></span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=20=
background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;"><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"background-color: rgb(192, 192, 192);">&nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; splice @partit=
ion_layout_process, $partition_idx, 1;&nbsp;&nbsp;</span><b><span=
 data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);=20=
background-color: rgb(192, 192, 192);">--&gt;=D2=C6=B3=FD=CA=FD=D7=
=E9@</span></b></span><span style=3D"font-size: 13.005px; line-he=
ight: 20.808px;"><b><span data-wiz-span=3D"data-wiz-span" style=3D=
"color: rgb(0, 0, 255); background-color: rgb(192, 192, 192);">pa=
rtition_layout_process=D6=D0=D6=B8=B6=A8=B5=C4=D4=AA=CB=D8</span>=
</b></span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);">&=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $partition=
_idx--;</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);=
">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
 background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbs=
p; }</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);">&=
nbsp; &nbsp; &nbsp; &nbsp; if ($partition_layout_process[$partiti=
on_idx]-&gt;{Partition_Name} eq "otp")</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgr=
ound-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; {</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($ArgList{EMMC_SUPPORT} eq "=
yes" &amp;&amp; $ArgList{EMMC_SUPPORT_OTP} ne "yes")</span></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; splice @partition_layout_process, $partition_idx, 1;</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $partition_idx--=
;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backg=
round-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; }</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp;=20=
&nbsp; &nbsp; &nbsp; if ($partition_layout_process[$partition_idx=
]-&gt;{Partition_Name} eq "custom")</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgroun=
d-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; {</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; if ($ArgList{CIP_SUPPORT} ne "yes"=
)</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backg=
round-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; splice @partition_layout_process, $parti=
tion_idx, 1;</span></div><div><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"font-size: 0.867rem; background-color: rgb(192, 192,=20=
192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $p=
artition_idx--;</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem; background-color: rgb(192, 19=
2, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nb=
sp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"font-size: 0.867rem; background-color: rgb(192, 192,=20=
192);">&nbsp; &nbsp; &nbsp; &nbsp; if ($partition_layout_process[=
$partition_idx]-&gt;{Partition_Name} eq "persist")</span></div><d=
iv><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp;=
 &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192=
);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($ArgList{PERSIS=
T_PARTITION_SUPPORT} ne "yes" &amp;&amp; $ArgList{DRM_KEY_MNG_SUP=
PORT} ne "yes")</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem; background-color: rgb(192, 19=
2, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; splice @partition_layout_p=
rocess, $partition_idx, 1;</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; $partition_idx--;</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-color=
: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
}</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbs=
p; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; if ($partition_la=
yout_process[$partition_idx]-&gt;{Partition_Name} eq "tee1")</spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nb=
sp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(192=
, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($ArgL=
ist{MTK_IN_HOUSE_TEE_ATF_SUPPORT} ne "yes" &amp;&amp; $ArgList{MT=
K_IN_HOUSE_TEE_TEE_SUPPORT} ne "yes")</span></div><div><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgro=
und-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem; background-color: rgb(192, 192, 19=
2);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; spli=
ce @partition_layout_process, $partition_idx, 1;</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $partition_idx--;</span></div><=
div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.8=
67rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem; background-color: rg=
b(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elsi=
f ($ArgList{MTK_IN_HOUSE_TEE_TEE_SUPPORT} eq "yes")</span></div><=
div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.8=
67rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem; background-color: rg=
b(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; $partition_layout_process[$partition_idx]-&gt;{Download=
_File} =3D "tz.img";</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(19=
2, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&nbsp;<=
/span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"f=
ont-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp;=
 &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb=
(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; if ($partition_layo=
ut_process[$partition_idx]-&gt;{Partition_Name} eq "tee2")</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp=
; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem; background-color: rgb(192,=20=
192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($ArgLis=
t{MTK_IN_HOUSE_TEE_ATF_SUPPORT} ne "yes" &amp;&amp; $ArgList{MTK_=
IN_HOUSE_TEE_TEE_SUPPORT} ne "yes")</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgroun=
d-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192)=
;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; splice=
 @partition_layout_process, $partition_idx, 1;</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; $partition_idx--;</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(=
192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elsif=20=
($ArgList{MTK_IN_HOUSE_TEE_TEE_SUPPORT} eq "yes")</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(=
192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; $partition_layout_process[$partition_idx]-&gt;{Download_F=
ile} =3D "tz.img";</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem; background-color: rgb(192,=
 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&nbsp;</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &=
nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(1=
92, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; if ($partition_layout=
_process[$partition_idx]-&gt;{Partition_Name} eq "misc2")</span><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp;=
 &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem; background-color: rgb(192, 1=
92, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($ArgList=
{MTK_TC1_FEATURE} ne "yes")</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; splice @partitio=
n_layout_process, $partition_idx, 1;</span></div><div><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgrou=
nd-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; $partition_idx--;</span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backg=
round-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"font-size: 0.867rem; background-color: rgb(192, 192,=20=
192);">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgrou=
nd-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; if ($p=
artition_layout_process[$partition_idx]-&gt;{Partition_Name} eq "=
frp")</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);">=
&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-colo=
r: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 if ($ArgList{FACTORY_RESET_PROTECTION_SUPPORT} ne "yes")</span><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-col=
or: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; splice @partition_layout_process, $partition_idx,=
 1;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $partition_id=
x--;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);">&=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; ba=
ckground-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp;=20=
}</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbs=
p; &nbsp; &nbsp; &nbsp; if ($partition_layout_process[$partition_=
idx]-&gt;{Size_KB} eq "NA")</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; splice @partition_layout_process, $partition=
_idx, 1;</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192)=
;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $partition_idx--;</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &=
nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(1=
92, 192, 192);">&nbsp; &nbsp; }</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-co=
lor: rgb(192, 192, 192);">&nbsp; &nbsp; &amp;debug_print_layout("=
./out/4.log", \@partition_layout_process);</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&=
nbsp;&nbsp;</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; <span data-wiz-spa=
n=3D"data-wiz-span" style=3D"background-color: rgb(255, 255, 0);"=
>#calculate start_address of partition $partition_layout_process[=
$partition_idx]-&gt;{Start_Addr} by Byte</span></span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; #$partition=
_layout_process[$partition_idx]-&gt;{Start_Addr_Text} by byte in=20=
0x format</span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"background-color: rgb(255, 255, 0);"><b style=3D"font-si=
ze: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data=
-wiz-span" style=3D"color: rgb(255, 0, 0);">--&gt;=D2=D4=CF=C2=BB=
=C6=C9=AB=B5=D7=C9=AB=B2=BF=B7=D6=CE=AA=D6=D8=B5=E3=D6=D0=B5=C4=D6=
=D8=B5=E3=A3=AC=C4=D1=B5=E3<span data-wiz-span=3D"data-wiz-span"=20=
style=3D"background-color: rgb(255, 255, 0);">=D6=D0=B5=C4=C4=D1=B5=
=E3=A3=AC=D5=E2=C0=EF=D6=F7=D2=AA=B2=CE=BF=BC</span></span></b></=
span><font color=3D"#ff0000"><span style=3D"font-size: 13.005px;=20=
line-height: 20.808px;"><b><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"background-color: rgb(255, 255, 0);">emmc.yaml=BD=F8=D0=D0=
=B7=D6=CE=F6=A3=AC=D2=F2=CE=AA</span></b></span></font><b style=3D=
"font-size: 13.005px; line-height: 20.808px; color: rgb(255, 0, 0=
); background-color: rgb(255, 255, 0);"><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"background-color: rgb(255, 255, 0);">partit=
ion_layout_process=BE=CD=CA=C7=D5=E2=B8=F6=CE=C4=BC=FE=C0=EF=C3=E6=
=B5=C4=C4=DA=C8=DD=D3=B3=C9=E4=A3=A8=D2=BB=B9=B230=B8=F6=B5=E3=A3=
=AC=D2=B2=BE=CD=CB=B5</span></b><b style=3D"font-size: 13.005px;=20=
line-height: 20.808px; color: rgb(255, 0, 0); background-color: r=
gb(255, 255, 0);"><span data-wiz-span=3D"data-wiz-span" style=3D"=
background-color: rgb(255, 255, 0);">partition_layout_process=B5=C4=
=D7=EE=B4=F3=BD=DA=B5=E3=CE=AA0-29</span></b><b style=3D"font-siz=
e: 13.005px; line-height: 20.808px; color: rgb(255, 0, 0); backgr=
ound-color: rgb(255, 255, 0);"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"background-color: rgb(255, 255, 0);">=A3=A9</span></=
b></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"backg=
round-color: rgb(255, 255, 0);"><b style=3D"font-size: 13.005px;=20=
line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"color: rgb(255, 0, 0);">--&gt;=B5=AB=CA=C7=BE=AD=B9=FD=C9=CF=
=C3=E6=BB=D2=C9=AB=B5=D7=C9=AB=B2=BF=B7=D6=B4=FA=C2=EB=B5=C4=B2=C3=
=BC=F4=BA=F3=D6=BB=CA=A3=CF=C226=B8=F6=BD=DA=B5=E3=A3=AC=B7=B6=CE=
=A7=CE=AA0-25</span></b></span><b style=3D"font-size: 13.005px; l=
ine-height: 20.808px; color: rgb(255, 0, 0); background-color: rg=
b(255, 255, 0);"><span data-wiz-span=3D"data-wiz-span" style=3D"b=
ackground-color: rgb(255, 255, 0);"><br></span></b></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"background-color: rgb=
(255, 255, 0);"><b style=3D"font-size: 13.005px; line-height: 20.=
808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb=
(255, 0, 0);">--&gt;=B2=CE=BF=BC=B8=BD=BC=FE6=B5=C4log</span></b>=
</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp;=20=
&nbsp; for ($partition_idx =3D @partition_layout_process - 1 ; $p=
artition_idx &gt;=3D 0 ; $partition_idx--) &nbsp;<b><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(255, 0, 0);">--&gt;=D5=
=E2=C0=EF=D5=D2=B3=F6=CE=AAY=B5=C4=BD=DA=B5=E3=A3=A8=CE=AA=CA=B2=C3=
=B4=B7=D6=C1=BD=B2=BD=A3=BF=A3=BF=A3=BF=B0=B4=CB=B3=D0=F2=A3=BF=A3=
=BF=A3=BF=A3=A9</span></b></span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(255, 255, 0);">&nbsp; &nbsp; {</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-=
color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; if ($partit=
ion_layout_process[$partition_idx]-&gt;{Reserved} eq "Y") &nbsp;<=
/span><b style=3D"color: rgb(255, 0, 0); font-size: 13.005px; lin=
e-height: 20.808px; background-color: rgb(255, 255, 0);"><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);">--=
&gt;=C6=E4=D6=D0Reserved: Y=B5=C4=BD=DA=B5=E3=D2=BB=B9=B22=B8=F6=A3=
=AC=CE=AA24-25&nbsp;</span></b></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem; background-color: rg=
b(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; if ($partition_idx !=3D @partition_layout_process=
 - 1)</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem; background-color: rgb(255, 255, 0);">&n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; bac=
kground-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; $partition_layout_process[$partition_idx=
]-&gt;{Start_Addr} =3D $partition_layout_process[$partition_idx +=
 1]-&gt;{Start_Addr} + $partition_layout_process[$partition_idx]-=
&gt;{Size_KB} * 1024;</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(2=
55, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; else</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-co=
lor: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 {</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $partition_layo=
ut_process[$partition_idx]-&gt;{Start_Addr} =3D $partition_layout=
_process[$partition_idx]-&gt;{Size_KB} * 1024;</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem; background-color: rgb(255,=20=
255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backg=
round-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; else=20=
&nbsp;</span><b style=3D"color: rgb(255, 0, 0); font-size: 13.005=
px; line-height: 20.808px; background-color: rgb(255, 255, 0);"><=
span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 25=
5);">--&gt;=C6=E4=D6=D0Reserved: N=B5=C4=BD=DA=B5=E3=D2=BB=B9=B22=
4=B8=F6=A3=AC=CE=AA0-23</span></b></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; $PMT_END_NAME =3D $partition_layout_process[$par=
tition_idx]-&gt;{Partition_Name};</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-=
color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; last;</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem; background-color: rgb(255, 255, 0);"=
>&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-col=
or: rgb(255, 255, 0);">&nbsp; &nbsp; }</span></div><div><br></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; for (=
$partition_idx =3D 0 ; $partition_idx &lt; @partition_layout_proc=
ess ; $partition_idx++) &nbsp;</span><b style=3D"font-size: 13.00=
5px; line-height: 20.808px;"><span data-wiz-span=3D"data-wiz-span=
" style=3D"color: rgb(255, 0, 0);">--&gt;=D5=E2=C0=EF=D5=D2=B3=F6=
=CE=AAN=B5=C4=BD=DA=B5=E3=A3=A8=CE=AA=CA=B2=C3=B4=B7=D6=C1=BD=B2=BD=
=A3=BF=A3=BF=A3=BF=B0=B4=CB=B3=D0=F2=A3=BF=A3=BF=A3=BF=A3=A9</spa=
n></b></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"f=
ont-size: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp; &=
nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem; background-color: rgb(255, 255, 0);">=
&nbsp; &nbsp; &nbsp; &nbsp; if ($partition_layout_process[$partit=
ion_idx]-&gt;{Reserved} eq "N")</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-co=
lor: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; if ($partition_idx !=3D 0 &amp;&amp; $part=
ition_layout_process[$partition_idx]-&gt;{Region} eq $partition_l=
ayout_process[$partition_idx - 1]-&gt;{Region})</span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem; background-color: rgb(255,=
 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; my $st_addr =3D $partition_layout_process[$partition_idx - 1]-&=
gt;{Start_Addr} + $partition_layout_process[$partition_idx - 1]-&=
gt;{Size_KB} * 1024;</span></div><div><br></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgroun=
d-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; #auto adjust to alignment</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=20=
background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; if (exists $AlignPartList{$partition_=
layout_process[$partition_idx]-&gt;{Partition_Name}})</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgr=
ound-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # print "got aligned partitio=
n $partition_layout_process[$partition_idx]-&gt;{Partition_Name}\=
n";</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i=
f ($st_addr % scalar($AlignPartList{$partition_layout_process[$pa=
rtition_idx]-&gt;{Partition_Name}}) !=3D 0)</span></div><div><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; b=
ackground-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; ba=
ckground-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf("Nee=
d adjust start address for %s, because it is 0x%x now. ", $partit=
ion_layout_process[$partition_idx]-&gt;{Partition_Name}, $st_addr=
 % scalar($AlignPartList{$partition_layout_process[$partition_idx=
]-&gt;{Partition_Name}}));</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; my $pad_size =3D $AlignPartL=
ist{$partition_layout_process[$partition_idx]-&gt;{Partition_Name=
}} - $st_addr % scalar($AlignPartList{$partition_layout_process[$=
partition_idx]-&gt;{Partition_Name}});</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgr=
ound-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($pad_size %=
 1024 !=3D 0)</span></div><div><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem; background-color: rgb(255, 255,=
 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &amp;error_han=
dler("pad size is not KB align,please review the size of $AlignPa=
rtList{$partition_layout_process[$partition_idx]-&gt;{Partition_N=
ame}}", __FILE__, __LINE__);</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-color=
: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; bac=
kground-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $partition_l=
ayout_process[$partition_idx - 1]-&gt;{Size_KB} =3D $partition_la=
yout_process[$partition_idx - 1]-&gt;{Size_KB} + $pad_size / 1024=
;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; $st_addr =3D $partition_layout_process[$partition_id=
x - 1]-&gt;{Start_Addr} + $partition_layout_process[$partition_id=
x - 1]-&gt;{Size_KB} * 1024;</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-color=
: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf("pad size is 0x%x,=
 and pre part [%s]size is 0x%x \n", $pad_size, $partition_layout_=
process[$partition_idx - 1]-&gt;{Partition_Name}, $partition_layo=
ut_process[$partition_idx - 1]-&gt;{Size_KB} * 1024);</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgro=
und-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; $partition_layout_process[$partition_idx]-&g=
t;{Start_Addr} =3D $st_addr;</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-color=
: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<=
/span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"f=
ont-size: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgr=
ound-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem; background-color: rgb(255, 255, 0);=
">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $partit=
ion_layout_process[$partition_idx]-&gt;{Start_Addr} =3D 0;</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-colo=
r: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $=
partition_layout_process[$partition_idx]-&gt;{Start_Addr_Text} =3D=
 sprintf("0x%x", $partition_layout_process[$partition_idx]-&gt;{S=
tart_Addr});</span></div><div><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"font-size: 0.867rem; background-color: rgb(255, 255,=20=
0);">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; background=
-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; else</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp;=
 &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem; background-color: rgb(255, 2=
55, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($ArgList{E=
MMC_SUPPORT} eq "yes")</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(=
255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $partition_layout_proce=
ss[$partition_idx]-&gt;{Start_Addr_Text} =3D sprintf("0xFFFF%04x"=
, $partition_layout_process[$partition_idx]-&gt;{Start_Addr} / (1=
28 * 1024));</span></div><div><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"font-size: 0.867rem; background-color: rgb(255, 255,=20=
0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; else</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(=
255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $partition_layout_proce=
ss[$partition_idx]-&gt;{Start_Addr_Text} =3D sprintf("0xFFFF%04x"=
, $partition_layout_process[$partition_idx]-&gt;{Start_Addr} / (6=
4 * $ArgList{PAGE_SIZE} * 1024));</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-=
color: rgb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; }</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem; background-color: rgb(255, 255, 0);">&nb=
sp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(255, 255, 0);">&nbsp; &nbsp; &nbsp; &nbsp; $Used_Size +=3D $pa=
rtition_layout_process[$partition_idx]-&gt;{Size_KB};</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; }</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbs=
p; &amp;debug_print_layout("./out/7.log", \@partition_layout_proc=
ess);</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem; background-color: rgb(255, 255, 0);">&n=
bsp; &nbsp; printf "\$Used_Size=3D0x%x KB =3D %d KB =3D%.2f MB\n"=
, $Used_Size, $Used_Size, $Used_Size / (1024);</span></div><div><=
br></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">&nbsp; &nbsp; <span data-wiz-span=3D"data-wiz-s=
pan" style=3D"background-color: rgb(152, 251, 152);">#process AUT=
O flag and add index</span></span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size:0.867rem;background-color:rgb(=
152, 251, 152)"><b style=3D"font-size: 13.005px; line-height: 20.=
808px;"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb=
(255, 0, 0);">--&gt;=C5=D0=B6=CF=BA=CD=BC=C7=C2=BC=B7=D6=C7=F8=C0=
=E0=D0=CD=BA=CD=CF=C2=D4=D8=C0=E0=D0=CD</span></b><br></span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:0=
.867rem;background-color:rgb(127, 127, 127)"><b style=3D"font-siz=
e: 13.005px; line-height: 20.808px;"><span data-wiz-span=3D"data-=
wiz-span" style=3D"color: rgb(255, 0, 0); background-color: rgb(1=
52, 251, 152);">--&gt;=B2=CE=BF=BC=B8=BD=BC=FE7=B5=C4log</span></=
b><br></span></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem; background-color: rgb(152, 251, 152);"=
>&nbsp; &nbsp; my $part;</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem; background-color: rg=
b(152, 251, 152);">&nbsp; &nbsp; for ($partition_idx =3D 0 ; $par=
tition_idx &lt; @partition_layout_process ; $partition_idx++)</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem; background-color: rgb(152, 251, 152);">&nbsp; &n=
bsp; {</span></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem; background-color: rgb(152, 251, 152);"=
>&nbsp; &nbsp; </span><span class=3D"Apple-tab-span" style=3D"whi=
te-space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem; background-color: rgb(152, 251, 152);">	</span><=
/span><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem; background-color: rgb(152, 251, 152);">$part=3D$partitio=
n_layout_process[$partition_idx];</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-=
color: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; if ($part=
-&gt;{Download} eq "N")</span></div><div><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb=
(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m; background-color: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; $part-&gt;{Download_File} =3D "NONE";</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem; background-color: rgb(152, 251, 152);">&nbsp; &nbsp;=20=
&nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem; background-color: rgb(152, 25=
1, 152);">&nbsp; &nbsp; &nbsp; &nbsp; elsif ($part-&gt;{Download_=
File} eq "AUTO")</span></div><div><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem; background-color: rgb(152, 2=
51, 152);">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; back=
ground-color: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; if (exists $download_files{$part-&gt;{Partition_Name}=
})</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(152, 251, 152);">&nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backg=
round-color: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; $part-&gt;{Download_File} =3D $download_=
files{$part-&gt;{Partition_Name}};</span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; background=
-color: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem; background-color: rgb(152, 251, 152);=
">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em; background-color: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(1=
52, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; if ($part-&gt;{Type} eq "Raw data")</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; ba=
ckground-color: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-colo=
r: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; $part-&gt;{Download_File} =3D sprint=
f("%s.bin", lc($part-&gt;{Partition_Name}));</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=20=
background-color: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-co=
lor: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; else</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(1=
52, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem; background-color: rgb(152, 251, 152)=
;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; $part-&gt;{Download_File} =3D sprintf("%s.img", lc($part-=
&gt;{Partition_Name}));</span></div><div><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb=
(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem; background-color: rgb(152, 251, 15=
2);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em; background-color: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &=
nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem; background-color: rgb(152, 251, 152);=
">&nbsp; &nbsp; &nbsp; &nbsp; if ($part-&gt;{Operation_Type} eq "=
AUTO")</span></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem; background-color: rgb(152, 251, 152);"=
>&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-col=
or: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; if (exists $sepcial_operation_type{$part-&gt;{Partition_Name}})=
</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem; background-color: rgb(152, 251, 152);">&nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgr=
ound-color: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; $part-&gt;{Operation_Type} =3D $sepcial_o=
peration_type{$part-&gt;{Partition_Name}};</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; ba=
ckground-color: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem; background-color: rgb(152, 25=
1, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elsif ($part-=
&gt;{Reserved} eq "Y")</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(=
152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem; background-color: rgb(152, 251, 152);">&nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $part-&gt;{Operatio=
n_Type} =3D "RESERVED";</span></div><div><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb=
(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem; background-color: rgb(152, 251, 152);">&nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></div><div><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgro=
und-color: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem; background-color: rgb(152, 251, 15=
2);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (=
$part-&gt;{Download} eq "N")</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem; background-color=
: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem; background-color: rgb(152, 25=
1, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; $part-&gt;{Operation_Type} =3D "INVISIBLE";</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem; background-color: rgb(152, 251, 152);">&nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
 background-color: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; else</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; backgroun=
d-color: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(=
152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; $part-&gt;{Operation_Type} =3D "UPDATE";</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem; background-color: rgb(152, 251, 152);">&nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem; background-color: rgb(152, 251, 152);">&nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(=
152, 251, 152);">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;">&nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &amp;debug_=
print_layout("./out/8.log", \@partition_layout_process);</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">&nbsp; &nbsp; return \@partition_layout_process;</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">}</span></div><div><br></div><div><br></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem; background-color: rgb(255, 0, 0);">sub GenYAMLScatFile()</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">{</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; my $Scatte=
rFileFH =3D &amp;open_for_rw($SCAT_FILE); &nbsp;<b><span data-wiz=
-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255);">--&gt;$S=
CAT_FILE =3D "out/target/product/jasz8167_tb_n/MT8167_Android_sca=
tter.txt"</span></b></span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; my %Scatt=
er_Info;</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem;">&nbsp; &nbsp; my $iter;</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;">&nbsp; &nbsp; for ($iter =3D 0 ; $iter &lt; @partition_=
layout_cooked ; $iter++)</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; {</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; my $part =3D $parti=
tion_layout_cooked[$iter];</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbs=
p; &nbsp; $Scatter_Info{$part-&gt;{Partition_Name}} =3D {</span><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; partit=
ion_index &nbsp; &nbsp; =3D&gt; $iter,</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; physical_start_addr =3D&g=
t; $part-&gt;{Start_Addr_Text},</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; linear_start_addr &nbsp; =3D&gt;=
 $part-&gt;{Start_Addr_Text},</span></div><div><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; partition_size &nbsp; &nbsp; &nbsp=
;=3D&gt; sprintf("0x%x", $part-&gt;{Size_KB} * 1024),</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; file_name=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =3D&gt; $part-&gt;{Download_Fi=
le},</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; operation_type &nbsp; &nbsp; &nbsp;=3D&gt; $part-&gt;{Opera=
tion_Type}</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp;};</span></div><div><br></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &=
nbsp; &nbsp; if ($ArgList{EMMC_SUPPORT} eq "yes")</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($part-&gt;{Type} eq "Raw da=
ta")</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; {</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; $Scatter_Info{$part-&gt;{Partition_Name}}{type}=20=
=3D "NORMAL_ROM";</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; else</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; $Scatter_Info{$part-&gt;{Partiti=
on_Name}}{type} =3D "EXT4_IMG";</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp=
; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp=
; else</span></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; {</span><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($part=
-&gt;{Type} eq "Raw data")</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $Scatter_Info{$part-&gt;{Pa=
rtition_Name}}{type} =3D "NORMAL_ROM";</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ($ArgLis=
t{NAND_UBIFS_SUPPORT} eq "yes")</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; $Scatter_Info{$part-&gt;{Partition_Name}}{type} =3D "UBI_I=
MG";</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; else</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; $Scatter_Info{$part-&gt;{Partition_Name}}{type} =3D "Y=
AFFS_IMG";</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp=
; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if ($=
part-&gt;{Partition_Name} eq "preloader")</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&n=
bsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; $Scatter_Info{$part-&gt;{Partition_Name}}=
{type} =3D "SV5_BL_BIN";</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp=
; &nbsp; }</span></div><div><br></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbs=
p; &nbsp; if ($ArgList{EMMC_SUPPORT} eq "yes")</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; $Scatter_Info{$part-&gt;{Partition=
_Name}}{region} =3D $part-&gt;{Region};</span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbs=
p; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbs=
p; &nbsp; else</span></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; {=
</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $=
Scatter_Info{$part-&gt;{Partition_Name}}{region} =3D "NONE";</spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><=
br></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if ($ArgList{EMMC_S=
UPPORT} eq "yes")</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp=
; {</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
$Scatter_Info{$part-&gt;{Partition_Name}}{storage} =3D "HW_STORAG=
E_EMMC";</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; else</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; $Scatter_Info{$part-&gt;{Partiti=
on_Name}}{storage} =3D "HW_STORAGE_NAND";</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&n=
bsp; &nbsp; &nbsp; &nbsp; }</span></div><div><br></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&=
nbsp; &nbsp; &nbsp; &nbsp; if ($part-&gt;{Reserved} eq "Y")</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $Scatter_Info{$part-&=
gt;{Partition_Name}}{boundary_check} =3D "false";</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $Scatter_Info{$pa=
rt-&gt;{Partition_Name}}{is_reserved} &nbsp; &nbsp;=3D "true";</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">&nbsp; &nbsp; &nbsp; &nbsp; else</span></div><div><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=
 &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; $Scatter_Info{$part-&gt;{Partition_Name}}{b=
oundary_check} =3D "true";</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; $Scatter_Info{$part-&gt;{Partition_Name}}=
{is_reserved} &nbsp; &nbsp;=3D "false";</span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbs=
p; &nbsp; &nbsp; &nbsp; }</span></div><div><br></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nb=
sp; &nbsp; &nbsp; &nbsp; if ($part-&gt;{Download} eq "N")</span><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $Scatter_Info{$part-&gt=
;{Partition_Name}}{is_download} =3D "false";</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;=
 &nbsp; &nbsp; else</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nb=
sp; {</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; $Scatter_Info{$part-&gt;{Partition_Name}}{is_download} =3D "t=
rue";</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></=
div><div><br></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if ($part=
-&gt;{OTA_Update} eq "N")</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbs=
p; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; $Scatter_Info{$part-&gt;{Partition_Name}}{is_upgradable=
} =3D "false";</span></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }=
</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; else</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $Scatter_Info{$part-&gt;{P=
artition_Name}}{is_upgradable} =3D "true";</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&=
nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><br></div><div><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">=
&nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; my $Head1 =3D=20=
&lt;&lt;"__TEMPLATE";</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem;">######################=
#################################################################=
#####################</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem;">#</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
># &nbsp;General Setting&nbsp;</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;"># &nbsp; &nbs=
p;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">##########################################=
#################################################################=
#</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">__TEMPLATE</span></div><div><br></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">&nbsp; &nbsp; my $Head2 =3D &lt;&lt;"__TEMPLATE";</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">######################################################=
######################################################</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">#</span></div><div><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"font-size: 0.867rem;"># &nbsp;Layout Setting</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">#</span></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">#############################=
#################################################################=
##############</span></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">__TEMPLATE</span></div><div><=
br></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">&nbsp; &nbsp; my ${FirstDashes} &nbsp; &nbsp; &=
nbsp; =3D "- ";</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; my ${FirstSpac=
eSymbol} &nbsp;=3D " &nbsp;";</span></div><div><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;=20=
my ${SecondSpaceSymbol} =3D " &nbsp; &nbsp; &nbsp;";</span></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem;">&nbsp; &nbsp; my ${SecondDashes} &nbsp; &nbsp; &nbsp;=3D=
 " &nbsp; &nbsp;- ";</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; my ${colo=
n} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =3D ": ";</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; prin=
t $ScatterFileFH $Head1; &nbsp;<b><span data-wiz-span=3D"data-wiz=
-span" style=3D"color: rgb(255, 0, 0);">--&gt;=D7=A2=D2=E2=A3=AC=D5=
=E2=CA=C7=CA=C7=BD=AB</span></b></span><b><span style=3D"font-siz=
e: 13.005px; line-height: 20.808px; background-color: rgb(255, 0,=
 0);"><span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(2=
55, 0, 0); background-color: rgb(255, 255, 0);">$Head1=D0=B4=C8=EB=
=B5=BD</span></span><span style=3D"font-size: 13.005px; line-heig=
ht: 20.808px; background-color: rgb(255, 0, 0);"><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"color: rgb(255, 0, 0); background-=
color: rgb(255, 255, 0);">$ScatterFileFH=CB=F9=D6=B8=CF=F2=B5=C4=CE=
=C4=BC=FE=D6=D0=B5=C4=D2=E2=CB=BC</span></span></b></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=20=
background-color: rgb(255, 255, 0);">&nbsp; &nbsp; print $Scatter=
FileFH "${FirstDashes}general${colon}MTK_PLATFORM_CFG\n"; &nbsp;<=
span data-wiz-span=3D"data-wiz-span" style=3D"color: rgb(255, 0,=20=
0);"><b>--&gt;=D0=B4=C8=EB=CE=C4=BC=FE</b></span></span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem; background-color: rgb(255, 255, 0);">&nbsp; &nbsp; print $Sc=
atterFileFH "${FirstSpaceSymbol}info${colon}\n"; &nbsp;</span><b=20=
style=3D"color: rgb(255, 0, 0); font-size: 13.005px; line-height:=
 20.808px; background-color: rgb(255, 255, 0);">--&gt;=D0=B4=C8=EB=
=CE=C4=BC=FE</b></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"background-color: rgb(192, 192, 192);">&nbsp; &nbsp;=
 if($ArgList{INHOUSE_GPU} eq "yes") &nbsp;</span><b><span data-wi=
z-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); backgrou=
nd-color: rgb(192, 192, 192);">--&gt;</span></b></span><span styl=
e=3D"font-size: 13.005px; line-height: 20.808px;"><b><span data-w=
iz-span=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); backgro=
und-color: rgb(192, 192, 192);">INHOUSE_GPU </span><span class=3D=
"Apple-tab-span" style=3D"white-space: pre;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 255); background-color:=
 rgb(192, 192, 192);">	</span></span><span data-wiz-span=3D"data-=
wiz-span" style=3D"color: rgb(0, 0, 255); background-color: rgb(1=
92, 192, 192);">=3D -NO VALUE-=A3=AC=B2=BB=D7=DF=B8=C3=B7=D6=D6=A7=
</span></b></span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem; background-color: rgb(192, 192, 1=
92);">&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(1=
92, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFileFH=20=
"${SecondDashes}config_version${colon}V1.1.3\n";</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; }</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp=
; else</span></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);"=
>&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;=
 print $ScatterFileFH "${SecondDashes}config_version${colon}V1.1.=
2\n";</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);">=
&nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;&nbsp;</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">&nbsp; &nbsp; print $ScatterFileFH "${SecondSpaceSym=
bol}platform${colon}$ArgList{PLATFORM}\n";</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&=
nbsp; &nbsp; print $ScatterFileFH "${SecondSpaceSymbol}project${c=
olon}$ArgList{FULL_PROJECT}\n";</span></div><div><br></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"background-colo=
r: rgb(192, 192, 192);">&nbsp; &nbsp; if ($ArgList{EMMC_SUPPORT}=20=
eq "yes")&nbsp;&nbsp;</span><b><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"color: rgb(0, 0, 255); background-color: rgb(192, 19=
2, 192);">--&gt;=D7=DF=B8=C3=B7=D6=D6=A7</span></b></span><span s=
tyle=3D"font-size: 13.005px; line-height: 20.808px;"><b></b></spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nb=
sp; {</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; print $Sca=
tterFileFH "${SecondSpaceSymbol}storage${colon}EMMC\n";</span></d=
iv><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFileFH "${S=
econdSpaceSymbol}boot_channel${colon}MSDC_0\n";</span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">&nbsp; &nbsp; &nbsp; &nbsp; printf $ScatterFileFH ("${SecondS=
paceSymbol}block_size${colon}0x%x\n", 2 * 64 * 1024);</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; }</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem; background-color: rgb(192, 192, 192);">&nbsp;=20=
&nbsp; else</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem; background-color: rgb(192, 192, 1=
92);">&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(1=
92, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFileFH=20=
"${SecondSpaceSymbol}storage${colon}NAND\n";</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=20=
background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp=
; print $ScatterFileFH "${SecondSpaceSymbol}boot_channel${colon}N=
ONE\n";</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);=
">&nbsp; &nbsp; &nbsp; &nbsp; printf $ScatterFileFH ("${SecondSpa=
ceSymbol}block_size${colon}0x%x\n", $ArgList{PAGE_SIZE} * 64 * 10=
24);</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem; background-color: rgb(192, 192, 192);">&=
nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem; background-color: rgb(192, 192=
, 192);">&nbsp; &nbsp; if($ArgList{INHOUSE_GPU} eq "yes")</span><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;"><span data-wiz-span=3D"data-wiz-span" style=3D"background-colo=
r: rgb(192, 192, 192);">&nbsp;&nbsp;</span><b><span data-wiz-span=
=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); background-col=
or: rgb(192, 192, 192);">--&gt;</span></b></span><span style=3D"f=
ont-size: 13.005px; line-height: 20.808px;"><b><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"color: rgb(0, 0, 255); background-co=
lor: rgb(192, 192, 192);">INHOUSE_GPU&nbsp;</span><span class=3D"=
Apple-tab-span" style=3D"white-space: pre;"><span data-wiz-span=3D=
"data-wiz-span" style=3D"color: rgb(0, 0, 255); background-color:=
 rgb(192, 192, 192);">	</span></span><span data-wiz-span=3D"data-=
wiz-span" style=3D"color: rgb(0, 0, 255); background-color: rgb(1=
92, 192, 192);">=3D -NO VALUE-=A3=AC=B2=BB=D7=DF=B8=C3=B7=D6=D6=A7=
</span></b></span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem; background-color: rgb(192, 192, 1=
92);">&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(1=
92, 192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFileFH=20=
"${SecondSpaceSymbol}ext_id_check${colon}true\n";</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; &nbsp;=20=
&nbsp; print $ScatterFileFH "${SecondSpaceSymbol}ext_id_reg${colo=
n}0x1300_0020\n";</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem; background-color: rgb(192,=20=
192, 192);">&nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFileFH "${S=
econdSpaceSymbol}ext_id_value${colon}0x0207_5017\n";</span></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem; background-color: rgb(192, 192, 192);">&nbsp; &nbsp; }</s=
pan></div><div><br></div><div><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; print $ScatterFil=
eFH $Head2;</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size:0.867rem;background-color:rgb(255, 215, 0)">=
<span data-wiz-span=3D"data-wiz-span" style=3D"background-color:r=
gb(255, 153, 204)">&nbsp; &nbsp; foreach my $part (@partition_lay=
out_cooked) &nbsp;</span><b><span data-wiz-span=3D"data-wiz-span"=
 style=3D"color: rgb(0, 0, 255); background-color: rgb(255, 153,=20=
204);">--&gt;scatter=CE=C4=BC=FE=B5=C4=D5=E6=D5=FD=D0=B4=C8=EB=B2=
=BF=B7=D6=A3=AC=BD=E1=BA=CF=C7=B0=C3=E6=BD=E2=CE=F6=B5=C4=BD=E1=B9=
=FB=C0=B4=C8=B7=C8=CF=BE=DF=CC=E5=D0=C5=CF=A2=A3=AC=D3=D0=D0=A7=C7=
=F8=BC=E4=D2=BB=B9=B227=B8=F6=A3=AC=CE=AA0-26</span></b></span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem; background-color: rgb(255, 153, 204);">&nbsp; &nbsp;=20=
{</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem; background-color: rgb(255, 153, 204);">&nbs=
p; &nbsp; &nbsp; &nbsp; print $ScatterFileFH "${FirstDashes}parti=
tion_index${colon}SYS$Scatter_Info{$part-&gt;{Partition_Name}}{pa=
rtition_index}\n";</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem; background-color: rgb(255,=
 153, 204);">&nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFileFH "${=
FirstSpaceSymbol}partition_name${colon}$part-&gt;{Partition_Name}=
\n";</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem; background-color: rgb(255, 153, 204);">&=
nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFileFH "${FirstSpaceSymb=
ol}file_name${colon}$Scatter_Info{$part-&gt;{Partition_Name}}{fil=
e_name}\n";</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem; background-color: rgb(255, 153, 2=
04);">&nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFileFH "${FirstSp=
aceSymbol}is_download${colon}$Scatter_Info{$part-&gt;{Partition_N=
ame}}{is_download}\n";</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(=
255, 153, 204);">&nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFileFH=
 "${FirstSpaceSymbol}type${colon}$Scatter_Info{$part-&gt;{Partiti=
on_Name}}{type}\n";</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(255=
, 153, 204);">&nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFileFH "$=
{FirstSpaceSymbol}linear_start_addr${colon}$Scatter_Info{$part-&g=
t;{Partition_Name}}{linear_start_addr}\n";</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; ba=
ckground-color: rgb(255, 153, 204);">&nbsp; &nbsp; &nbsp; &nbsp;=20=
print $ScatterFileFH "${FirstSpaceSymbol}physical_start_addr${col=
on}$Scatter_Info{$part-&gt;{Partition_Name}}{physical_start_addr}=
\n";</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem; background-color: rgb(255, 153, 204);">&=
nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFileFH "${FirstSpaceSymb=
ol}partition_size${colon}$Scatter_Info{$part-&gt;{Partition_Name}=
}{partition_size}\n";</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(2=
55, 153, 204);">&nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFileFH=20=
"${FirstSpaceSymbol}region${colon}$Scatter_Info{$part-&gt;{Partit=
ion_Name}}{region}\n";</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(=
255, 153, 204);">&nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFileFH=
 "${FirstSpaceSymbol}storage${colon}$Scatter_Info{$part-&gt;{Part=
ition_Name}}{storage}\n";</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem; background-color: r=
gb(255, 153, 204);">&nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFil=
eFH "${FirstSpaceSymbol}boundary_check${colon}$Scatter_Info{$part=
-&gt;{Partition_Name}}{boundary_check}\n";</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem; ba=
ckground-color: rgb(255, 153, 204);">&nbsp; &nbsp; &nbsp; &nbsp;=20=
print $ScatterFileFH "${FirstSpaceSymbol}is_reserved${colon}$Scat=
ter_Info{$part-&gt;{Partition_Name}}{is_reserved}\n";</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem; background-color: rgb(255, 153, 204);">&nbsp; &nbsp; &nb=
sp; &nbsp; print $ScatterFileFH "${FirstSpaceSymbol}operation_typ=
e${colon}$Scatter_Info{$part-&gt;{Partition_Name}}{operation_type=
}\n";</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem; background-color: rgb(255, 153, 204);">=
&nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFileFH "${FirstSpaceSym=
bol}is_upgradable${colon}$Scatter_Info{$part-&gt;{Partition_Name}=
}{is_upgradable}\n";</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem; background-color: rgb(25=
5, 153, 204);">&nbsp; &nbsp; &nbsp; &nbsp; print $ScatterFileFH "=
${FirstSpaceSymbol}reserve${colon}0x00\n\n";</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=20=
background-color: rgb(255, 153, 204);">&nbsp; &nbsp; }</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">&nbsp; &nbsp; close $ScatterFileFH;</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;">}</span></div><div><br></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">#***********************=
*****************************************************************=
</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem;"># subroutine: &nbsp;GenPartSizeFile;</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;"># return:</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;">#******************=
*****************************************************************=
*****</span></div><div><br></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">sub GenPartSizeFile_ini=
File</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">{</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; my (=
$part_size, $inifilepath) =3D @_;</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nb=
sp; my $part_size_fh =3D &amp;open_for_rw($part_size);</span></di=
v><div><br></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">&nbsp; &nbsp; my $Total_Size =3D 512 *=20=
1024 * 1024; &nbsp; &nbsp;#Hard Code 512MB for 4+2 project FIX ME=
!!!!!</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">&nbsp; &nbsp; my $temp;</span></div><d=
iv><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem;">&nbsp; &nbsp; my $index =3D 0;</span></div><div><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=
 &nbsp; my $vol_size;</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; my $min_=
ubi_vol_size;</span></div><div><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; my $PEB;</span><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem;">&nbsp; &nbsp; my $LEB;</span></div><div><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=20=
&nbsp; my $IOSIZE;</span></div><div><br></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nb=
sp; if ($ArgList{NAND_UBIFS_SUPPORT} eq "yes" &amp;&amp; $ArgList=
{EMMC_SUPPORT} ne "yes")</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; {</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; $IOSIZE &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; =3D $ArgList{PAGE_SIZE} * 1024;</span></d=
iv><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; $PEB &nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp;=3D $IOSIZE * 64;</span></div><div><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
">&nbsp; &nbsp; &nbsp; &nbsp; $LEB &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp;=3D $IOSIZE * 62;</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &=
nbsp; &nbsp; &nbsp; $min_ubi_vol_size =3D $PEB * 28;</span></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem;">&nbsp; &nbsp; &nbsp; &nbsp; printf $part_size_fh ("BOARD=
_UBIFS_MIN_IO_SIZE:=3D%d\n", &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; $IOSIZE);</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;=20=
printf $part_size_fh ("BOARD_FLASH_BLOCK_SIZE:=3D%d\n", &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$PEB);</span></div><div><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
">&nbsp; &nbsp; &nbsp; &nbsp; printf $part_size_fh ("BOARD_UBIFS_=
VID_HDR_OFFSET:=3D%d\n", &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$IOSIZ=
E);</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; printf $part_s=
ize_fh ("BOARD_UBIFS_LOGICAL_ERASEBLOCK_SIZE:=3D%d\n", $LEB);</sp=
an></div><div><br></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if (=
$ArgList{COMBO_NAND_SUPPORT} eq "yes")</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp=
; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; my $combo_nand_kernel =3D &amp;open_for_rw=
($COMBO_NAND_KERNELH);</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; printf $combo_nand_kernel ("#define COMBO_NA=
ND_BLOCK_SIZE %d\n", $PEB);</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; printf $combo_nand_kernel ("#define COMBO=
_NAND_PAGE_SIZE %d\n", &nbsp;$IOSIZE);</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; close $combo_nand_kernel;</s=
pan></div><div><br></div><div><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; my $combo_nand_tool =3D &amp;open_for_rw($COMBO_NAND_T=
OOLH);</span></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; printf $combo_nand_tool ("#define COMBO_NAND_BLOCK_SIZE %d\n=
", $PEB);</span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; printf $combo_nand_tool ("#define COMBO_NAND_PAGE_SIZE %d=
\n", &nbsp;$IOSIZE);</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; close $combo_nand_tool;</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&=
nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &=
nbsp; &nbsp; $Total_Size =3D $Total_Size - $Used_Size - $PEB * 2;=
 &nbsp; &nbsp;#PMT need 2 block</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp=
; &nbsp; &nbsp; print "In UBIFS, auto size partition have byte\n"=
;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp; }</span></div><div><br></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;">&nbsp; &nbsp; foreach my $part (@partition_layout_cooke=
d)</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp; {</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp=
; &nbsp; &nbsp; &nbsp; if ($part-&gt;{Type} eq "EXT4" || $part-&g=
t;{Type} eq "FAT")</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbs=
p; {</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; $temp =3D $part-&gt;{Size_KB} * 1024;</span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;printf $part_size_fh=
 ("BOARD_%sIMAGE_PARTITION_SIZE:=3D%d\n",uc($part-&gt;{Partition_=
Name}),$temp);</span></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }=
</span></div><div><br></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;=20=
if ($ArgList{NAND_UBIFS_SUPPORT} eq "yes" &amp;&amp; $part-&gt;{T=
ype} eq "UBIFS" &amp;&amp; $ArgList{EMMC_SUPPORT} ne "yes")</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; my $part_name =3D lc(=
$part-&gt;{Partition_Name});</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp; if ($part-&gt;{Size_KB} =3D=3D 0)</spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
 &nbsp; $part-&gt;{Size_KB} =3D $Total_Size / 1024;</span></div><=
div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.8=
67rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><=
div><br></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
# UBI reserve 6 block</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; $vol_size =3D (int($part-&gt;{Size_KB} * 1024=
 / ${PEB}) - 6) * $LEB;</span></div><div><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; if ($min_ubi_vol_size &gt; $part-&gt;{Size_=
KB} * 1024)</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &amp;error_handler("$part-&gt;{Partition_=
Name} is too small, UBI partition is at least $min_ubi_vol_size b=
yte, Now it is $part-&gt;{Size_KB} KiB", __FILE__, __LINE__);</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; my $i=
nifd =3D &amp;open_for_rw("$inifilepath/ubi_${part_name}.ini");</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pri=
nt $inifd "[ubifs]\n";</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; print $inifd "mode=3Dubi\n";</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print $inifd "ima=
ge=3D$inifilepath/ubifs.${part_name}.img\n";</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print $inifd "vol_id=3D=
0\n";</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; print $inifd "vol_size=3D$vol_size\n";</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&=
nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print $inifd "vol_type=3D=
dynamic\n";</span></div><div><br></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; if (exists $kernel_alias{$part-&gt;{Parti=
tion_Name}})</span></div><div><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; print $inifd "vol_name=3D$kernel_alias{$=
part-&gt;{Partition_Name}}\n";</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; else</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nb=
sp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print $inifd "vol_n=
ame=3D${part_name}\n";</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; if ($part-&gt;{Partition_Name} ne "secro")</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; &nbsp; print $inifd "vol_flags=3Dautoresize\n";</span></div><=
div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.8=
67rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></div><=
div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.8=
67rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print $inifd "v=
ol_alignment=3D1\n";</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; close $inifd;</span></div><div><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; printf $part_size_fh ("BOARD_UBIFS=
_%s_MAX_LOGICAL_ERASEBLOCK_COUNT:=3D%d\n", $part-&gt;{Partition_N=
ame}, int((${vol_size} / $LEB) * 1.1));</span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbs=
p; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; }</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">&nbsp; &nbsp; close $part_size_fh;</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;">}</span></div><div><br></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">#*****************=
***********************************************************</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;"># subroutine: &nbsp;error_handler</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem;"># input: &nbsp; &nbsp; &nbsp; $error_msg: &nbsp; &nbsp; err=
or message</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem;">#********************************=
********************************************</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>sub error_handler</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">{</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&n=
bsp; &nbsp; my ($error_msg, $file, $line_no, $sys_msg) =3D @_;</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">&nbsp; &nbsp; if (!$sys_msg)</span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nb=
sp; $sys_msg =3D $!;</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; }</span><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem;">&nbsp; &nbsp; print "Fatal error: $error_msg &lt;fi=
le: $file,line: $line_no&gt; : $sys_msg";</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&n=
bsp; &nbsp; die;</span></div><div><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem;">}</span></div><div><br></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">#*****************************************************=
***********************</span></div><div><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem;"># subroutine: &nbsp;=
copyright_file_header_for_c</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;"># return: &nbsp; &=
nbsp; &nbsp;file header -- copyright</span></div><div><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">#******=
*****************************************************************=
*****</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">sub copyright_file_header_for_c</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;">{</span></div><div><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; my $template=20=
=3D &lt;&lt;"__TEMPLATE";</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">/* Copyright State=
ment:</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">&nbsp;*</span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;* T=
his software/firmware and related documentation ("MediaTek Softwa=
re") are</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem;">&nbsp;* protected under relevant co=
pyright laws. The information contained herein</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;">&nbsp;* is confidential and proprietary to MediaTek Inc. and/o=
r its licensors.</span></div><div><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem;">&nbsp;* Without the prior w=
ritten permission of MediaTek inc. and/or its licensors,</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">&nbsp;* any reproduction, modification, use or discl=
osure of MediaTek Software,</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;* and inform=
ation contained herein, in whole or in part, shall be strictly pr=
ohibited.</span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;">&nbsp;*/</span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">/* M=
ediaTek Inc. (C) 2013. All rights reserved.</span></div><div><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">=
&nbsp;*</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem;">&nbsp;* BY OPENING THIS FILE, RECEIV=
ER HEREBY UNEQUIVOCALLY ACKNOWLEDGES AND AGREES</span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">&nbsp;* THAT THE SOFTWARE/FIRMWARE AND ITS DOCUMENTATIONS ("M=
EDIATEK SOFTWARE")</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">&nbsp;* RECEIVED FROM MED=
IATEK AND/OR ITS REPRESENTATIVES ARE PROVIDED TO RECEIVER ON</spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem;">&nbsp;* AN "AS-IS" BASIS ONLY. MEDIATEK EXPRESSL=
Y DISCLAIMS ANY AND ALL WARRANTIES,</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;*=20=
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARR=
ANTIES OF</span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;">&nbsp;* MERCHANTABILITY, FITNESS F=
OR A PARTICULAR PURPOSE OR NONINFRINGEMENT.</span></div><div><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">=
&nbsp;* NEITHER DOES MEDIATEK PROVIDE ANY WARRANTY WHATSOEVER WIT=
H RESPECT TO THE</span></div><div><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem;">&nbsp;* SOFTWARE OF ANY THI=
RD PARTY WHICH MAY BE USED BY, INCORPORATED IN, OR</span></div><d=
iv><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem;">&nbsp;* SUPPLIED WITH THE MEDIATEK SOFTWARE, AND RECEIVER=20=
AGREES TO LOOK ONLY TO SUCH</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;* THIRD PART=
Y FOR ANY WARRANTY CLAIM RELATING THERETO. RECEIVER EXPRESSLY ACK=
NOWLEDGES</span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;">&nbsp;* THAT IT IS RECEIVER'S SOLE=
 RESPONSIBILITY TO OBTAIN FROM ANY THIRD PARTY ALL PROPER LICENSE=
S</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp;* CONTAINED IN MEDIATEK SOFTWARE. ME=
DIATEK SHALL ALSO NOT BE RESPONSIBLE FOR ANY MEDIATEK</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;">&nbsp;* SOFTWARE RELEASES MADE TO RECEIVER'S SPECIFICAT=
ION OR TO CONFORM TO A PARTICULAR</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;* ST=
ANDARD OR OPEN FORUM. RECEIVER'S SOLE AND EXCLUSIVE REMEDY AND ME=
DIATEK'S ENTIRE AND</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">&nbsp;* CUMULATIVE LIABI=
LITY WITH RESPECT TO THE MEDIATEK SOFTWARE RELEASED HEREUNDER WIL=
L BE,</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">&nbsp;* AT MEDIATEK'S OPTION, TO REVIS=
E OR REPLACE THE MEDIATEK SOFTWARE AT ISSUE,</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>&nbsp;* OR REFUND ANY SOFTWARE LICENSE FEES OR SERVICE CHARGE PA=
ID BY RECEIVER TO</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">&nbsp;* MEDIATEK FOR SUCH=20=
MEDIATEK SOFTWARE AT ISSUE.</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;*</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">&nbsp;* The following software/firmware and/or related=
 documentation ("MediaTek Software")</span></div><div><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;*=
 have been modified by MediaTek Inc. All revisions are subject to=
 any receiver's</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;">&nbsp;* applicable license a=
greements with MediaTek Inc.</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;*/</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;">__TEMPLATE</span></div><div><br></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nb=
sp; &nbsp; return $template;</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;">}</span></div><=
div><br></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">#*****************************************=
***********************************</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"># subrou=
tine: &nbsp;copyright_file_header_for_shell</span></div><div><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">=
# return: &nbsp; &nbsp; &nbsp;file header -- copyright</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">#*****************************************************=
***********************</span></div><div><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem;">sub copyright_file_h=
eader_for_shell()</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">{</span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nb=
sp; &nbsp; my $template =3D &lt;&lt;"__TEMPLATE";</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem;">&nbsp;# Copyright Statement:</span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;#</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem;">&nbsp;# This software/firmware and related do=
cumentation ("MediaTek Software") are</span></div><div><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=
# protected under relevant copyright laws. The information contai=
ned herein</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem;">&nbsp;# is confidential and propr=
ietary to MediaTek Inc. and/or its licensors.</span></div><div><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
">&nbsp;# Without the prior written permission of MediaTek inc. a=
nd/or its licensors,</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;# any reproductio=
n, modification, use or disclosure of MediaTek Software,</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">&nbsp;# and information contained herein, in whole o=
r in part, shall be strictly prohibited.</span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nb=
sp;#</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">&nbsp;# MediaTek Inc. (C) 2013. All rig=
hts reserved.</span></div><div><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem;">&nbsp;#</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&=
nbsp;# BY OPENING THIS FILE, RECEIVER HEREBY UNEQUIVOCALLY ACKNOW=
LEDGES AND AGREES</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">&nbsp;# THAT THE SOFTWARE/=
FIRMWARE AND ITS DOCUMENTATIONS ("MEDIATEK SOFTWARE")</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;">&nbsp;# RECEIVED FROM MEDIATEK AND/OR ITS REPRESENTATIV=
ES ARE PROVIDED TO RECEIVER ON</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;# AN "A=
S-IS" BASIS ONLY. MEDIATEK EXPRESSLY DISCLAIMS ANY AND ALL WARRAN=
TIES,</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">&nbsp;# EXPRESS OR IMPLIED, INCLUDING=20=
BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>&nbsp;# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NON=
INFRINGEMENT.</span></div><div><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem;">&nbsp;# NEITHER DOES MEDIATEK=20=
PROVIDE ANY WARRANTY WHATSOEVER WITH RESPECT TO THE</span></div><=
div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.8=
67rem;">&nbsp;# SOFTWARE OF ANY THIRD PARTY WHICH MAY BE USED BY,=
 INCORPORATED IN, OR</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;# SUPPLIED WITH T=
HE MEDIATEK SOFTWARE, AND RECEIVER AGREES TO LOOK ONLY TO SUCH</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">&nbsp;# THIRD PARTY FOR ANY WARRANTY CLAIM REL=
ATING THERETO. RECEIVER EXPRESSLY ACKNOWLEDGES</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;">&nbsp;# THAT IT IS RECEIVER'S SOLE RESPONSIBILITY TO OBTAIN FR=
OM ANY THIRD PARTY ALL PROPER LICENSES</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp=
;# CONTAINED IN MEDIATEK SOFTWARE. MEDIATEK SHALL ALSO NOT BE RES=
PONSIBLE FOR ANY MEDIATEK</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;# SOFTWARE R=
ELEASES MADE TO RECEIVER'S SPECIFICATION OR TO CONFORM TO A PARTI=
CULAR</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">&nbsp;# STANDARD OR OPEN FORUM. RECEIV=
ER'S SOLE AND EXCLUSIVE REMEDY AND MEDIATEK'S ENTIRE AND</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">&nbsp;# CUMULATIVE LIABILITY WITH RESPECT TO THE MED=
IATEK SOFTWARE RELEASED HEREUNDER WILL BE,</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&=
nbsp;# AT MEDIATEK'S OPTION, TO REVISE OR REPLACE THE MEDIATEK SO=
FTWARE AT ISSUE,</span></div><div><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem;">&nbsp;# OR REFUND ANY SOFTW=
ARE LICENSE FEES OR SERVICE CHARGE PAID BY RECEIVER TO</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">&nbsp;# MEDIATEK FOR SUCH MEDIATEK SOFTWARE AT ISSUE.<=
/span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"f=
ont-size: 0.867rem;">&nbsp;#</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;# The fol=
lowing software/firmware and/or related documentation ("MediaTek=20=
Software")</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem;">&nbsp;# have been modified by Med=
iaTek Inc. All revisions are subject to any receiver's</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">&nbsp;# applicable license agreements with MediaTek In=
c.</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp;#/</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">__TEMPLATE</=
span></div><div><br></div><div><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; return $template=
;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">}</span></div><div><br></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">#***=
*****************************************************************=
********************</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">sub GenKernel_Partition=
C()</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">{</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; my $t=
emp;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">&nbsp; &nbsp; my $kernel_h_fd =3D &amp;=
open_for_rw($KernelH);</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; print $=
kernel_h_fd &amp;copyright_file_header_for_c();</span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">&nbsp; &nbsp; my $template =3D &lt;&lt;"__TEMPLATE";</span></=
div><div><br></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem;">#include &lt;linux/mtd/mtd.h&gt;</spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem;">#include &lt;linux/mtd/nand.h&gt;</span></div><d=
iv><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem;">#include &lt;linux/mtd/partitions.h&gt;</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;">#include "partition_define.h"</span></div><div><br></div><div>=
<br></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">/*=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D*/</span></div><div><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">/* NA=
ND PARTITION Mapping &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=
*/</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">/*=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D*/</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">st=
atic struct mtd_partition g_pasStatic_Partition[] =3D {</span></d=
iv><div><br></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">__TEMPLATE</span></div><div><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=
 &nbsp; print $kernel_h_fd $template;</span></div><div><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=
 &nbsp; foreach my $part (@partition_layout_cooked)</span></div><=
div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.8=
67rem;">&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=
 &nbsp; last if ($part-&gt;{Reserved} eq "Y");</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;">&nbsp; &nbsp; &nbsp; &nbsp; print $kernel_h_fd "\t{\n";</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if (exists $kernel_ali=
as{$part-&gt;{Partition_Name}})</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp=
; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; print $kernel_h_fd "\t\t.name =3D \"$kernel_alias=
{$part-&gt;{Partition_Name}}\",\n";</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &=
nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &=
nbsp; else</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; {</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print=
f $kernel_h_fd "\t\t.name =3D \"%s\",\n", lc($part-&gt;{Partition=
_Name});</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if ($part-&gt;{Start_=
Addr} =3D=3D 0)</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp;=20=
{</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
print $kernel_h_fd "\t\t.offset =3D 0x0,\n";</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;=
 &nbsp; &nbsp; else</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nb=
sp; {</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nb=
sp; print $kernel_h_fd "\t\t.offset =3D MTDPART_OFS_APPEND,\n";</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem;">&nbsp; &nbsp; &nbsp; &nbsp; if ($part-&gt;{Size_KB} !=3D 0)=
</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"=
font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><=
div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.8=
67rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print $kernel_h=
_fd "\t\t.size =3D PART_SIZE_$part-&gt;{Partition_Name},\n";</spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;">&nbsp; &nbsp; &nbsp; &nbsp; else</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &=
nbsp; &nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; print $kernel_h_fd "\t\t.size =3D MTDPART_SIZ=
_FULL,\n";</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if ($part-&gt;{Part=
ition_Name} eq "PRELOADER" || $part-&gt;{Partition_Name} eq "DSP_=
BL" || $part-&gt;{Partition_Name} eq "UBOOT" || $part-&gt;{Partit=
ion_Name} eq "SEC_RO")</span></div><div><span data-wiz-span=3D"da=
ta-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp;=20=
&nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; print $kernel_h_fd "\t\t.mask_flags &nbsp;=3D MTD_WRITEABL=
E,\n";</span></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; print $kernel_h_fd "\t}=
,\n";</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">&nbsp; &nbsp; }</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&=
nbsp; &nbsp; print $kernel_h_fd "};\n";</span></div><div><br></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">&nbsp; &nbsp; $template =3D &lt;&lt;"__TEMPLATE";</spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem;">#define NUM_PARTITIONS ARRAY_SIZE(g_pasStatic_Pa=
rtition)</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem;">extern int part_num;</span><span cl=
ass=3D"Apple-tab-span" style=3D"white-space:pre"><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">	</span></sp=
an><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem;">// =3D NUM_PARTITIONS;</span></div><div><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"font-size: 0.867rem;">__TEMPLATE</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">&nbsp; &nbsp; print $kernel_h_fd $template;</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">&nbsp; &nbsp; close $kernel_h_fd;</span></div><=
div><br></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">}</span></div><div><br></div><div><br></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">#*****************************************************=
***********************************</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"># subrou=
tine: &nbsp;GenLK_PartitionC</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;"># return:</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">#************************************************=
****************************************</span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">sub=
 GenLK_PartitionC()</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">{</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&=
nbsp; &nbsp; my $iter=3D0;</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; my $=
lk_part_c_fh =3D &amp;open_for_rw($LK_PartitionC);</span></div><d=
iv><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem;">&nbsp; &nbsp; print $lk_part_c_fh &amp;copyright_file_head=
er_for_c();</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; print $lk_part_c_f=
h "#include \"platform/partition.h\"\n";</span></div><div><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nb=
sp; &nbsp; print $lk_part_c_fh "\n\nstruct part_name_map g_part_n=
ame_map[] =3D {\n";</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; foreach my=
 $part (@partition_layout_cooked)</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nb=
sp; {</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; next if ($=
part-&gt;{Partition_Name} eq "pgpt");</span></div><div><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=
 &nbsp; &nbsp; &nbsp; last if ($part-&gt;{Reserved} eq "Y");</spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; printf $lk_part_c_fh=
 (</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "\=
t{\"%s\",\t\"%s\",\t\"%s\",\t%d,\t%d,\t%d},\n",</span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp=
; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ($part-&gt;{Partition=
_Name}),</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &n=
bsp; ($part-&gt;{Partition_Name}),</span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; lc($part-&gt;{Type}),</span></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=20=
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $iter,</span></d=
iv><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ($part-&gt;{F=
astBoot_Erase} eq "Y") &nbsp; &nbsp;? (1) : (0),</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ($part-&gt;{FastBoot=
_Download} eq "Y") ? (1) : (0)</span></div><div><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;=
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &nbsp; &nbsp;);</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &=
nbsp; &nbsp; $iter++; &nbsp; &nbsp;</span></div><div><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &=
nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem;">&nbsp; &nbsp; print $lk_part_c_fh "}=
;\n";</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">&nbsp; &nbsp; close $lk_part_c_fh;</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">}</span></div><div><br></div><div><br></div><di=
v><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem;">#delete some obsolete file</span></div><div><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">sub clear_f=
iles</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">{</span></div><div><span class=3D"Apple=
-tab-span" style=3D"white-space:pre"><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">	</span></span><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">my @O=
bsoleteFile;</span></div><div><span class=3D"Apple-tab-span" styl=
e=3D"white-space:pre"><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">	</span></span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &n=
bsp; opendir (DIR,"mediatek/custom/$ArgList{PROJECT}/common");</s=
pan></div><div><span class=3D"Apple-tab-span" style=3D"white-spac=
e:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">	</span></span><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem;">push @ObsoleteFile,readdir(DIR);</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">&nbsp; &nbsp; close DIR;</span></div><div><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">=
&nbsp; &nbsp;&nbsp;</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; my $custom=
_out_prefix_obsolete &nbsp;=3D "mediatek/custom/$ENV{PROJECT}";</=
span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fo=
nt-size: 0.867rem;">&nbsp; &nbsp; my $configs_out_prefix_obsolete=
 =3D "mediatek/config/$ENV{PROJECT}"; &nbsp; &nbsp;</span></div><=
div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.8=
67rem;">&nbsp; &nbsp; push @ObsoleteFile, "$configs_out_prefix_ob=
solete/configs/EMMC_partition_size.mk";</span></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbs=
p; &nbsp; push @ObsoleteFile, "$configs_out_prefix_obsolete/confi=
gs/partition_size.mk";;</span></div><div><span data-wiz-span=3D"d=
ata-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; push @=
ObsoleteFile, "$custom_out_prefix_obsolete/preloader/cust_part.c"=
;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp; push @ObsoleteFile, "mediate=
k/kernel/drivers/dum-char/partition_define.c";</span></div><div><=
span class=3D"Apple-tab-span" style=3D"white-space:pre"><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">	</sp=
an></span><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem;">push @ObsoleteFile, "mediatek/external/mtd-utils/ub=
i-utils/combo_nand.h";</span></div><div><span class=3D"Apple-tab-=
span" style=3D"white-space:pre"><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">	</span></span><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">push @Obso=
leteFile, "$custom_out_prefix_obsolete/kernel/core/src/partition.=
h";</span></div><div><span class=3D"Apple-tab-span" style=3D"whit=
e-space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem;">	</span></span><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">push @ObsoleteFile, "$custom_=
out_prefix_obsolete/lk/inc/mt_partition.h";</span></div><div><spa=
n class=3D"Apple-tab-span" style=3D"white-space:pre"><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">	</span>=
</span><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">push @ObsoleteFile, "$custom_out_prefix_obsolete/lk/pa=
rtition.c";</span></div><div><span class=3D"Apple-tab-span" style=
=3D"white-space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">	</span></span><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">push @ObsoleteFile, "$c=
ustom_out_prefix_obsolete/common/pmt.h";</span></div><div><span c=
lass=3D"Apple-tab-span" style=3D"white-space:pre"><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">	</span></s=
pan><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.8=
67rem;">push @ObsoleteFile, "$custom_out_prefix_obsolete/common/p=
artition_define.h";</span></div><div><span class=3D"Apple-tab-spa=
n" style=3D"white-space:pre"><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem;">	</span></span><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">push @Obsolet=
eFile, "$custom_out_prefix_obsolete/common/combo_nand.h";</span><=
/div><div><br></div><div><span class=3D"Apple-tab-span" style=3D"=
white-space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"f=
ont-size: 0.867rem;">	</span></span><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">foreach my $filepath (@Ob=
soleteFile){</span></div><div><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"font-size: 0.867rem;">&nbsp; &nbsp;</span><span class=
=3D"Apple-tab-span" style=3D"white-space:pre"><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;">		</span></span=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">if (-e $filepath &amp;&amp; !-d $filepath){</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">&nbsp; &nbsp;</span><span class=3D"Apple-tab-span" style=3D"=
white-space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"f=
ont-size: 0.867rem;">	</span></span><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;"> &nbsp; &nbsp;</span><spa=
n class=3D"Apple-tab-span" style=3D"white-space:pre"><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">	</span>=
</span><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">if (!unlink $filepath)</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nb=
sp; &nbsp; &nbsp; </span><span class=3D"Apple-tab-span" style=3D"=
white-space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"f=
ont-size: 0.867rem;">	</span></span><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">{</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&n=
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=3D"App=
le-tab-span" style=3D"white-space:pre"><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem;">	</span></span><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&am=
p;error_handler("remove $filepath fail ", __FILE__, __LINE__);</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=
=3D"Apple-tab-span" style=3D"white-space:pre"><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;">	</span></span>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">}else{</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem;">&nbsp; &nbsp;</span><span class=3D=
"Apple-tab-span" style=3D"white-space:pre"><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">				</span></span>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">print "clean $filepath: clean done \n"</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&=
nbsp; &nbsp;</span><span class=3D"Apple-tab-span" style=3D"white-=
space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;">			</span></span><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">}</span></div><div><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=
 </span><span class=3D"Apple-tab-span" style=3D"white-space:pre">=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">		</span></span><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">}</span></div><div><span class=3D"Apple-ta=
b-span" style=3D"white-space:pre"><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem;">	</span></span><span data-w=
iz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">}</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;">}</span></div><div><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem;">#**************************=
**************************************************************</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;"># subroutine: &nbsp;xls_cell_value</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;"># return: &nbsp; &nbsp; &nbsp;Excel cell value no matte=
r it's in merge area or not, and in windows or not</span></div><d=
iv><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.86=
7rem;"># input: &nbsp; &nbsp; &nbsp; $Sheet: &nbsp;Specified Exce=
l Sheet</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem;"># input: &nbsp; &nbsp; &nbsp; $row:=20=
&nbsp; &nbsp;Specified row number</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"># input: &=
nbsp; &nbsp; &nbsp; $col: &nbsp; &nbsp;Specified column number</s=
pan></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">#*********************************************=
*******************************************</span></div><div><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">=
sub xls_cell_value</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">{</span></div><div><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&n=
bsp; &nbsp; my ($Sheet, $row, $col) =3D @_;</span></div><div><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">=
&nbsp; &nbsp; my $cell =3D $Sheet-&gt;get_cell($row, $col);</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">&nbsp; &nbsp; if (defined $cell)</span></div><div=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">&nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &n=
bsp; #return $cell-&gt;Value();</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp=
; &nbsp; &nbsp; return $cell-&gt;unformatted();</span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">&nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; else</span=
></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">&nbsp; &nbsp; {</span></div><div><span data-wiz-s=
pan=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp=
; &nbsp; &nbsp; &amp;error_handler("excel read fail,(row=3D$row,c=
ol=3D$col) undefine", __FILE__, __LINE__);</span></div><div><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&=
nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">}</span></div><div><br></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem;">sub open_for_rw</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;">{</span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">&nbsp; &nbsp; my $filepath =3D shift @_;</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>&nbsp; &nbsp; if (-e $filepath)</span></div><div><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbs=
p; {</span></div><div><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; chmod(0777,=
 $filepath) or &amp;error_handler("chmod 0777 $filepath fail", __=
FILE__, __LINE__);</span></div><div><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbs=
p; if (!unlink $filepath)</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbs=
p; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbs=
p; &nbsp; &amp;error_handler("remove $filepath fail ", __FILE__,=20=
__LINE__);</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; }</sp=
an></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">&nbsp; &nbsp; }</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nb=
sp; else</span></div><div><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem;">&nbsp; &nbsp; {</span></div><div><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
">&nbsp; &nbsp; &nbsp; &nbsp; my $dirpath =3D substr($filepath, 0=
, rindex($filepath, "/"));</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbs=
p; &nbsp; eval { mkpath($dirpath) };</span></div><div><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=20=
&nbsp; &nbsp; &nbsp; if ($@)</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &=
nbsp; &nbsp; {</span></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; &=
nbsp; &nbsp; &amp;error_handler("Can not make dir $dirpath", __FI=
LE__, __LINE__, $@);</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &n=
bsp; }</span></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem;">&nbsp; &nbsp; }</span></div><div><spa=
n data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">=
&nbsp; &nbsp; open my $filehander, "&gt; $filepath" or &amp;error=
_handler(" Can not open $filepath for read and write", __FILE__,=20=
__LINE__);</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem;">&nbsp; &nbsp; push @GeneratedFile=
, $filepath;</span></div><div><span data-wiz-span=3D"data-wiz-spa=
n" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; return $filehande=
r;</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">}</span></div><div><br></div><div><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">sub=20=
open_for_read</span></div><div><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem;">{</span></div><div><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp;=20=
&nbsp; my $filepath =3D shift @_;</span></div><div><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nb=
sp; if (-e $filepath)</span></div><div><span data-wiz-span=3D"dat=
a-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; {</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; #chmod(0777, $filepath=
) or &amp;error_handler("chmod 777 $filepath fail", __FILE__, __L=
INE__);</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem;">&nbsp; &nbsp; }</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>&nbsp; &nbsp; else</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; {</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; printf ("No such file :=20=
%s, file: %s, line:%s\n",$filepath,__FILE__,__LINE__);</span></di=
v><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=20=
0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; return undef;</span></div>=
<div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
867rem;">&nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; open=20=
my $filehander, "&lt; $filepath" or &amp;error_handler(" Can not=20=
open $filepath for read", __FILE__, __LINE__);</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;">&nbsp; &nbsp; return $filehander;</span></div><div><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">}</span=
></div><div><br></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;">sub debug_print_layout</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;">{</span></div><div><span data-wiz-span=3D"data-wiz-span=
" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; if ($DebugPrint eq=
 "yes")</span></div><div><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem;">&nbsp; &nbsp; {</span></div><div><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
>&nbsp; &nbsp; &nbsp; &nbsp; my ($filepath, $list) =3D @_;</span>=
</div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; my $fd =3D &amp;open_f=
or_rw($filepath);</span></div><div><span data-wiz-span=3D"data-wi=
z-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp=
; print $fd Dump($list);</span></div><div><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; &nbsp=
; &nbsp; close $fd;</span></div><div><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; }</span></=
div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">}</span></div><div><br></div><div><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"font-size: 0.867rem;">sub print_rm_s=
cript</span></div><div><span data-wiz-span=3D"data-wiz-span" styl=
e=3D"font-size: 0.867rem;">{</span></div><div><span data-wiz-span=
=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; m=
y $out =3D "./remove_ptgen_autogen_files.pl";</span></div><div><s=
pan data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;=
">&nbsp; &nbsp; my $fd &nbsp;=3D &amp;open_for_rw($out);</span></=
div><div><br></div><div><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem;">&nbsp; &nbsp; print $fd "#!/usr/local=
/bin/perl -w\n";</span></div><div><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; foreach my $f=
ile (@GeneratedFile)</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; {</span><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; if ($file ne $out)</spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem;">&nbsp; &nbsp; &nbsp; &nbsp; {</span></div><div><=
span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem=
;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf $fd "system \=
"rm -fr --verbose %s\";\n", $file;</span></div><div><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &n=
bsp; &nbsp; &nbsp; }</span></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; }</span><=
/div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem;">&nbsp; &nbsp; print $fd "system \"rm -fr --verbose=20=
mediatek/custom/out \";\n";</span></div><div><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; prin=
t $fd "system \"rm -fr --verbose mediatek/config/out \";\n";</spa=
n></div><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem;">&nbsp; &nbsp; print $fd "system \"rm -fr --verbo=
se out\";\n";</span></div><div><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem;">&nbsp; &nbsp; chmod(0777, $out=
);</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;">&nbsp; &nbsp; close $fd;</span></div><div>=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">}</span></div><div><br></div><div><span data-wiz-span=3D"data=
-wiz-span" style=3D"font-size: 0.867rem;">#**********************=
*****************************************************************=
*</span></div><div><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;"># subroutine: &nbsp;load_boardconfig_parti=
tion_info</span></div><div><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;"># return: &nbsp; &nbsp; &nbsp;Boar=
dConfig.mk path</span></div><div><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;"># input: &nbsp; &nbsp; &nbsp=
; BaseProject or Project name</span></div><div><span data-wiz-spa=
n=3D"data-wiz-span" style=3D"font-size: 0.867rem;">#*************=
*****************************************************************=
**********</span></div><div><span data-wiz-span=3D"data-wiz-span"=
 style=3D"font-size: 0.867rem;">sub load_boardconfig_partition_in=
fo {</span></div><div><span class=3D"Apple-tab-span" style=3D"whi=
te-space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;">	</span></span><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;">my ($Project_temp) =3D @_;</=
span></div><div><span class=3D"Apple-tab-span" style=3D"white-spa=
ce:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 0.867rem;">	</span></span><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 0.867rem;">my $PROJECT_BOARDCONFIG_FILENAME;<=
/span></div><div><br></div><div><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">&nbsp; {</span></div><div><sp=
an class=3D"Apple-tab-span" style=3D"white-space:pre"><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">		</spa=
n></span><span data-wiz-span=3D"data-wiz-span" style=3D"font-size=
: 0.867rem;">my $dir1 =3D "device";</span><span class=3D"Apple-ta=
b-span" style=3D"white-space:pre"><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem;">		</span></span><span data-=
wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">#Projec=
t maynot @ /device/mediatek but /device/companyA.</span></div><di=
v><span class=3D"Apple-tab-span" style=3D"white-space:pre"><span=20=
data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">	<=
/span></span><span data-wiz-span=3D"data-wiz-span" style=3D"font-=
size: 0.867rem;"> &nbsp;my @arrayOfFirstLevelDirs;</span></div><d=
iv><span class=3D"Apple-tab-span" style=3D"white-space:pre"><span=
 data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">=09=
</span></span><span data-wiz-span=3D"data-wiz-span" style=3D"font=
-size: 0.867rem;"> &nbsp;my $SearchFile =3D 'BoardConfig.mk'; #Se=
arch File Name &nbsp;</span></div><div><span class=3D"Apple-tab-s=
pan" style=3D"white-space:pre"><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem;">	</span></span><span data-wiz-=
span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"> &nbsp;my $=
i;</span></div><div><span class=3D"Apple-tab-span" style=3D"white=
-space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">	</span></span><span data-wiz-span=3D"data-wiz-sp=
an" style=3D"font-size: 0.867rem;"> &nbsp;opendir(DIR, $dir1) or=20=
die $!;</span></div><div><span class=3D"Apple-tab-span" style=3D"=
white-space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"f=
ont-size: 0.867rem;">	</span></span><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;"> &nbsp;#Search First Leve=
l path of the dir and save dirs in this path to @arrayOfFirstLeve=
lDirs</span></div><div><span class=3D"Apple-tab-span" style=3D"wh=
ite-space:pre"><span data-wiz-span=3D"data-wiz-span" style=3D"fon=
t-size: 0.867rem;">	</span></span><span data-wiz-span=3D"data-wiz=
-span" style=3D"font-size: 0.867rem;"> &nbsp;while (my $file =3D=20=
readdir(DIR)) {</span></div><div><span class=3D"Apple-tab-span" s=
tyle=3D"white-space:pre"><span data-wiz-span=3D"data-wiz-span" st=
yle=3D"font-size: 0.867rem;">	</span></span><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;"> &nbsp;# A file te=
st to check that it is a directory</span></div><div><span class=3D=
"Apple-tab-span" style=3D"white-space:pre"><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">	</span></span><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
> &nbsp; &nbsp;next unless (-d "$dir1/$file");</span></div><div><=
span class=3D"Apple-tab-span" style=3D"white-space:pre"><span dat=
a-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">	</sp=
an></span><span data-wiz-span=3D"data-wiz-span" style=3D"font-siz=
e: 0.867rem;"> &nbsp; &nbsp;next unless ( $file !~ m/^\./); #igno=
re dir prefixed with .</span></div><div><span class=3D"Apple-tab-=
span" style=3D"white-space:pre"><span data-wiz-span=3D"data-wiz-s=
pan" style=3D"font-size: 0.867rem;">	</span></span><span data-wiz=
-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"> &nbsp; &n=
bsp;push @arrayOfFirstLevelDirs, "$dir1/$file";</span></div><div>=
<span class=3D"Apple-tab-span" style=3D"white-space:pre"><span da=
ta-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">	</s=
pan></span><span data-wiz-span=3D"data-wiz-span" style=3D"font-si=
ze: 0.867rem;"> &nbsp;}</span></div><div><span class=3D"Apple-tab=
-span" style=3D"white-space:pre"><span data-wiz-span=3D"data-wiz-=
span" style=3D"font-size: 0.867rem;">	</span></span><span data-wi=
z-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"> &nbsp;cl=
osedir(DIR);</span></div><div><span class=3D"Apple-tab-span" styl=
e=3D"white-space:pre"><span data-wiz-span=3D"data-wiz-span" style=
=3D"font-size: 0.867rem;">		</span></span><span data-wiz-span=3D"=
data-wiz-span" style=3D"font-size: 0.867rem;">foreach $i (@arrayO=
fFirstLevelDirs)</span></div><div><span class=3D"Apple-tab-span"=20=
style=3D"white-space:pre"><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem;">	</span></span><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;"> &nbsp;{</span></d=
iv><div><span class=3D"Apple-tab-span" style=3D"white-space:pre">=
<span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867re=
m;">	</span></span><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;"> &nbsp; &nbsp;#search folder list+{project=
}/BoardConfig.mk existence</span></div><div><span class=3D"Apple-=
tab-span" style=3D"white-space:pre"><span data-wiz-span=3D"data-w=
iz-span" style=3D"font-size: 0.867rem;">	</span></span><span data=
-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"> &nbsp=
; &nbsp;$PROJECT_BOARDCONFIG_FILENAME =3D $i."\/".$Project_temp."=
\/".$SearchFile;</span></div><div><span class=3D"Apple-tab-span"=20=
style=3D"white-space:pre"><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem;">	</span></span><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;"> &nbsp; &nbsp;if(=20=
-e $PROJECT_BOARDCONFIG_FILENAME)</span></div><div><span class=3D=
"Apple-tab-span" style=3D"white-space:pre"><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">	</span></span><sp=
an data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;"=
> &nbsp; &nbsp;{</span></div><div><span class=3D"Apple-tab-span"=20=
style=3D"white-space:pre"><span data-wiz-span=3D"data-wiz-span" s=
tyle=3D"font-size: 0.867rem;">	</span></span><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;"> &nbsp; &nbsp; &nb=
sp; &nbsp;print "Find: $PROJECT_BOARDCONFIG_FILENAME \n";</span><=
/div><div><span class=3D"Apple-tab-span" style=3D"white-space:pre=
"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem;">	</span></span><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;"> &nbsp; &nbsp; &nbsp; &nbsp;last;</span></=
div><div><span class=3D"Apple-tab-span" style=3D"white-space:pre"=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867r=
em;">	</span></span><span data-wiz-span=3D"data-wiz-span" style=3D=
"font-size: 0.867rem;"> &nbsp; &nbsp;}</span></div><div><span cla=
ss=3D"Apple-tab-span" style=3D"white-space:pre"><span data-wiz-sp=
an=3D"data-wiz-span" style=3D"font-size: 0.867rem;">	</span></spa=
n><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867=
rem;"> &nbsp;}</span></div><div><span class=3D"Apple-tab-span" st=
yle=3D"white-space:pre"><span data-wiz-span=3D"data-wiz-span" sty=
le=3D"font-size: 0.867rem;">	</span></span><span data-wiz-span=3D=
"data-wiz-span" style=3D"font-size: 0.867rem;">}</span></div><div=
><span class=3D"Apple-tab-span" style=3D"white-space:pre"><span d=
ata-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.867rem;">	</=
span></span><span data-wiz-span=3D"data-wiz-span" style=3D"font-s=
ize: 0.867rem;">return $PROJECT_BOARDCONFIG_FILENAME;</span></div=
><div><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0=
.867rem;">}</span></div><div><br></div><div><div><span style=3D"b=
ackground-color: rgb(192, 192, 192);"><div style=3D"font-size: 1r=
em;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 0.=
8rem;"><span style=3D"font-size: 0.938rem;"></span></span></div><=
/span></div><div style=3D"font-size: 1rem;"><div><span data-wiz-s=
pan=3D"data-wiz-span"><span style=3D"font-size: 0.75rem;"></span>=
</span></div></div></div></body></html>

------=_Next_Part_0138421015.035--

------=_Next_Part_0415263045.299--

